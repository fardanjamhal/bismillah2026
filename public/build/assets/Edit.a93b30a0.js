import{L as S}from"./Layout.832db21f.js";import{L as V,H as x,p as D,c as r,a as u,w as h,b as e,F as b,g as y,f as d,d as U,e as m,q as f,n as c,t as n,v as _,h as w,i as C,j as v,o as a,k as H}from"./app.ec49e899.js";import{S as j}from"./sweetalert2.all.eb0547e6.js";import{M as B}from"./vue3-multiselect.umd.min.8cb8e804.js";/* empty css                                                                  */import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";const O={layout:S,components:{Link:V,Head:x,Multiselect:B},props:{errors:Object,categories:Object,module:Object,memberCategories:Object,memberCategorySelected:Object},setup(l){const t=D({category_id:l.module.category_id,title:l.module.title,thumbnail:l.module.thumbnail,description:l.module.description,order:l.module.order,price_type:l.module.price_type,price_before_discount:l.module.price_before_discount,price_after_discount:l.module.price_after_discount,status:l.module.status,member_category_ids:l.memberCategorySelected});return{form:t,submit:()=>{w.Inertia.post(`/admin/modules/${l.module.id}`,{forceFormData:!0,_method:"put",category_id:t.category_id,title:t.title,thumbnail:t.thumbnail,description:t.description,order:t.order,price_type:t.price_type,price_before_discount:t.price_before_discount,price_after_discount:t.price_after_discount,status:t.status,member_category_ids:t.member_category_ids},{onSuccess:()=>{j.fire({title:"Success!",text:"Modul / MateriBerhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})}}}},T={class:"page-wrapper"},P={class:"page-content"},K=C('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Modul / Materi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Edit Modul / Materi</li></ol></nav></div></div>',1),N={class:"card border-top border-0 border-3 border-primary"},A={class:"card-body"},E={key:0,class:"alert alert-danger border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2"},I=e("strong",null,"Perhatian, pastikan inputan diisi dengan benar.",-1),F={class:"mt-3"},J={class:"d-lg-flex align-items-center"},q={class:"ms-auto"},z=H("Kembali"),G={class:"col-12"},Q=e("label",{class:"form-label"},"Kategori Peminatan",-1),R=e("option",{value:""},"[ Pilih ]",-1),W=["value"],X={key:0,class:"invalid-feedback"},Y={class:"col-12"},Z=e("label",{class:"form-label"},"Kategori Member (Khusus Untuk Membership Bulanan, Kosongkan Jika Tidak Ada)",-1),$={class:"col-12"},ee=e("label",{class:"form-label"},"Judul",-1),te={key:0,class:"invalid-feedback"},oe={class:"col-12"},ie=e("label",{class:"form-label"},"Thumbnail (Optional)",-1),se={key:0,class:"invalid-feedback"},re={class:"col-12"},ae=e("label",{class:"form-label"},"Deskripsi",-1),le={key:0,class:"invalid-feedback"},de={class:"col-12"},ne=e("label",{class:"form-label"},"Urutan Ditampilkan",-1),ce={key:0,class:"invalid-feedback"},me={class:"col-12"},_e=e("label",{class:"form-label"},"Tipe Harga",-1),ue=e("option",{value:""},"[ Pilih ]",-1),be=e("option",{value:"1"},"Gratis",-1),fe=e("option",{value:"2"},"Berbayar",-1),ve=[ue,be,fe],he={key:0,class:"invalid-feedback"},ye={key:0,class:"col-12"},ge=e("label",{class:"form-label"},"Harga Sebelum Diskon",-1),pe={key:0,class:"invalid-feedback"},ke={key:1,class:"col-12"},Me=e("label",{class:"form-label"},"Harga Sesudah Diskon",-1),Se={key:0,class:"invalid-feedback"},Ve={class:"col-12"},xe=e("label",{class:"form-label"},"Status",-1),De=e("option",{value:""},"[ Pilih ]",-1),Ue=e("option",{value:"active"},"Aktive",-1),we=e("option",{value:"inactive"},"Inactive",-1),Ce=e("option",{value:"inprogress"},"Inprogress",-1),He=[De,Ue,we,Ce],je={key:0,class:"invalid-feedback"},Be=e("div",{class:"col-12"},[e("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1);function Le(l,t,o,s,Oe,Te){const g=v("Head"),p=v("Link"),k=v("multiselect");return a(),r(b,null,[u(g,null,{default:h(()=>{var i;return[e("title",null,n((i=l.$page.props.setting.app_name)!=null?i:"Atur Setting Terlebih Dahulu")+" - Edit Modul / Materi",1)]}),_:1}),e("div",T,[e("div",P,[K,e("div",N,[e("div",A,[Object.keys(o.errors).length>0?(a(),r("div",E,[I,e("ul",F,[(a(!0),r(b,null,y(o.errors,i=>(a(),r("li",null,n(i),1))),256))])])):d("",!0),e("div",J,[e("div",q,[u(p,{href:"/admin/modules",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:h(()=>[z]),_:1})])]),e("form",{onSubmit:t[10]||(t[10]=U((...i)=>s.submit&&s.submit(...i),["prevent"])),class:"row g-3"},[e("div",G,[Q,m(e("select",{"onUpdate:modelValue":t[0]||(t[0]=i=>s.form.category_id=i),class:c([{"is-invalid":o.errors.category_id},"form-select"])},[R,(a(!0),r(b,null,y(o.categories,(i,M)=>(a(),r("option",{key:M,value:i.id},n(i.name),9,W))),128))],2),[[f,s.form.category_id]]),o.errors.category_id?(a(),r("div",X,n(o.errors.category_id),1)):d("",!0)]),e("div",Y,[Z,u(k,{modelValue:s.form.member_category_ids,"onUpdate:modelValue":t[1]||(t[1]=i=>s.form.member_category_ids=i),options:o.memberCategories,multiple:!0,label:"name","close-on-select":!0,"allow-empty":!0,"track-by":"name",placeholder:"[ Pilih ]"},null,8,["modelValue","options"])]),e("div",$,[ee,m(e("input",{type:"text",class:c(["form-control",{"is-invalid":o.errors.title}]),"onUpdate:modelValue":t[2]||(t[2]=i=>s.form.title=i),placeholder:"Judul"},null,2),[[_,s.form.title]]),o.errors.title?(a(),r("div",te,n(o.errors.title),1)):d("",!0)]),e("div",oe,[ie,e("input",{type:"file",class:c(["form-control",{"is-invalid":o.errors.thumbnail}]),onInput:t[3]||(t[3]=i=>s.form.thumbnail=i.target.files[0]),placeholder:"Thumbnail"},null,34),o.errors.thumbnail?(a(),r("div",se,n(o.errors.thumbnail),1)):d("",!0)]),e("div",re,[ae,m(e("textarea",{cols:"30",rows:"10",class:c(["form-control",{"is-invalid":o.errors.description}]),"onUpdate:modelValue":t[4]||(t[4]=i=>s.form.description=i),placeholder:"Deskripsi Modul / Materi"},null,2),[[_,s.form.description]]),o.errors.description?(a(),r("div",le,n(o.errors.description),1)):d("",!0)]),e("div",de,[ne,m(e("input",{type:"text",class:c(["form-control",{"is-invalid":o.errors.order}]),"onUpdate:modelValue":t[5]||(t[5]=i=>s.form.order=i),placeholder:"Urutan Ditampilkan"},null,2),[[_,s.form.order]]),o.errors.order?(a(),r("div",ce,n(o.errors.order),1)):d("",!0)]),e("div",me,[_e,m(e("select",{"onUpdate:modelValue":t[6]||(t[6]=i=>s.form.price_type=i),class:c([{"is-invalid":o.errors.price_type},"form-select"])},ve,2),[[f,s.form.price_type]]),o.errors.price_type?(a(),r("div",he,n(o.errors.price_type),1)):d("",!0)]),s.form.price_type==2?(a(),r("div",ye,[ge,m(e("input",{type:"number",class:c(["form-control",{"is-invalid":o.errors.price_before_discount}]),"onUpdate:modelValue":t[7]||(t[7]=i=>s.form.price_before_discount=i),placeholder:"Harga Sebelum Diskon",min:"0"},null,2),[[_,s.form.price_before_discount]]),o.errors.price_before_discount?(a(),r("div",pe,n(o.errors.price_before_discount),1)):d("",!0)])):d("",!0),s.form.price_type==2?(a(),r("div",ke,[Me,m(e("input",{type:"number",class:c(["form-control",{"is-invalid":o.errors.price_after_discount}]),"onUpdate:modelValue":t[8]||(t[8]=i=>s.form.price_after_discount=i),placeholder:"Harga Sesudah Diskon",min:"0"},null,2),[[_,s.form.price_after_discount]]),o.errors.price_after_discount?(a(),r("div",Se,n(o.errors.price_after_discount),1)):d("",!0)])):d("",!0),e("div",Ve,[xe,m(e("select",{"onUpdate:modelValue":t[9]||(t[9]=i=>s.form.status=i),class:c([{"is-invalid":o.errors.status},"form-select"])},He,2),[[f,s.form.status]]),o.errors.status?(a(),r("div",je,n(o.errors.status),1)):d("",!0)]),Be],32)])])])])],64)}const Fe=L(O,[["render",Le]]);export{Fe as default};
