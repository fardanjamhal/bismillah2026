import{L as j}from"./Layout.6e589519.js";import{L as A,H as K,r as N,c as i,a as f,w as p,b as t,d as U,t as l,F as h,h as w,g as d,e as y,k as x,f as Y,v as q,i as v,j as _,o as s,n as I}from"./app.3c4545f2.js";import{P as R}from"./Pagination.d27b1b98.js";import{S as g}from"./sweetalert2.esm.all.089855d2.js";import{_ as W}from"./_plugin-vue_export-helper.cdc0426e.js";const J={layout:j,components:{Link:A,Head:K,Pagination:R},props:{exam:Object,rankingExams:Object},setup(o){const e=N(new URL(document.location).searchParams.get("search"));return{search:e,handleSearch:()=>{v.Inertia.get(`/admin/exams/${o.exam.id}`,{search:e.value})},destroy:u=>{g.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(b=>{b.isConfirmed&&(v.Inertia.delete(`/admin/exams/grades/${u}/destroy`),g.fire({title:"Deleted!",text:"Nilai Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},regenerateCode:()=>{g.fire({title:"Generarate Kode Baru !",text:"Apakah Anda Yakin Akan Generate Kode Baru ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Generate Kode"}).then(u=>{u.isConfirmed&&(v.Inertia.get(`/admin/exams/${o.exam.id}/regenerate-block-tokens`),g.fire({title:"Success!",text:"Kode Berhasil Diperbarui.",icon:"success",timer:1e3,showConfirmButton:!1}))})},destroyExamResult:u=>{g.fire({title:"Apakah Anda yakin?",text:"Jika latihan soal dihapus, maka anda tidak akan dapat mengembalikannya!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(b=>{b.isConfirmed&&(v.Inertia.delete(`/admin/exams/${u}/delete-exam-result`),g.fire({title:"Deleted!",text:"Nilai Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},regenerateTryoutScore:u=>{g.fire({title:"Konfirmasi Hitung Ulang Nilai",text:"Hitung ulang nilai akan berpengaruh pada nilai yang sudah ada.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hitung Ulang"}).then(b=>{b.isConfirmed&&(v.Inertia.get(`/admin/exams/grades/${u}/regenerate-scores`),g.fire({title:"Success!",text:"Hitung Ulang Berhasil.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}},methods:{formatPrice(o){return"Rp."+(o/1).toFixed(2).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},V={class:"page-wrapper"},F={class:"page-content"},G={class:"card border-top border-0 border-3 border-primary"},O={class:"card-body"},z={class:"d-lg-flex align-items-center"},Q={class:"ms-auto"},X={class:"table mb-0"},Z={key:0},E={class:"badge bg-danger ms-1"},c={key:1},$={key:0},tt={class:"badge bg-success ms-1"},et={key:1},nt={key:0},at=["innerHTML"],lt={key:1},it={key:2},st={class:"input-group"},ot=["value"],dt={key:0,class:"badge bg-primary"},rt={key:1,class:"badge bg-danger"},ut={key:3},mt={key:4},gt={key:0,class:"badge bg-primary"},bt={key:1,class:"badge bg-success"},kt={key:2,class:"badge bg-danger"},ft={class:"card border-top border-0 border-3 border-primary"},xt={class:"card-header"},pt={class:"d-flex justify-content-between"},yt={class:"text-start"},vt={class:"position-relative"},ht={class:"ms-auto"},St={class:"dropdown"},wt={class:"dropdown-menu"},_t=["href"],Bt=["href"],Tt={class:"card-body"},Ct={class:"table mb-0"},Dt={key:0},Pt={key:1},Lt={key:2},Mt={key:3},Ht={key:0,align:"center",colspan:"7"},jt={class:"badge bg-danger"},At={key:0},Kt={key:1},Nt={key:2},Ut={key:3},Yt={class:"dropdown"},qt={class:"dropdown-menu","data-popper-placement":"top-start","data-popper-reference-hidden":"","data-popper-escaped":""},It={key:0},Rt={key:1},Wt={key:2},Jt=["onClick"],Vt=["onClick"];function Ft(o,e,n,m,H,S){var T,C,D,P;const B=_("Head"),u=_("Link"),b=_("Pagination");return s(),i(h,null,[f(B,null,{default:p(()=>{var a;return[t("title",null,l((a=o.$page.props.setting.app_name)!=null?a:"Atur Setting Terlebih Dahulu")+" - Latihan Soal",1)]}),_:1}),t("div",V,[t("div",F,[e[80]||(e[80]=U('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Latihan Soal</li></ol></nav></div></div>',1)),t("div",G,[t("div",O,[t("div",z,[t("div",Q,[f(u,{href:`/admin/exams/${n.exam.id}/edit`,class:"btn btn-danger btn-sm mt-2 mx-2 mt-lg-0"},{default:p(()=>[...e[4]||(e[4]=[x("Edit Latihan Soal",-1)])]),_:1},8,["href"]),f(u,{href:"/admin/exams",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:p(()=>[...e[5]||(e[5]=[x("Kembali",-1)])]),_:1})])]),t("table",X,[t("tbody",null,[t("tr",null,[e[6]||(e[6]=t("th",{width:"350px"},"Kategori",-1)),e[7]||(e[7]=t("td",{width:"10px"},":",-1)),t("td",null,l(n.exam.category.name),1)]),t("tr",null,[e[8]||(e[8]=t("th",null,"Sub Peminatan",-1)),e[9]||(e[9]=t("td",null,":",-1)),t("td",null,[n.exam.sub_categories.length?(s(),i("div",Z,[(s(!0),i(h,null,w(n.exam.sub_categories,(a,k)=>(s(),i("div",{key:k,style:{display:"inline"}},[t("span",E,l(a.name),1)]))),128))])):(s(),i("div",c,[t("span",null,"Seluruh Peminatan "+l(n.exam.category.name),1)]))])]),t("tr",null,[e[11]||(e[11]=t("th",null,"Kategori Member",-1)),e[12]||(e[12]=t("td",null,":",-1)),t("td",null,[n.exam.member_categories.length?(s(),i("div",$,[(s(!0),i(h,null,w(n.exam.member_categories,(a,k)=>(s(),i("div",{key:k,style:{display:"inline"}},[t("span",tt,l(a.name),1)]))),128))])):(s(),i("div",et,[...e[10]||(e[10]=[t("span",{class:"badge bg-success ms-1"},"Seluruh kategori member",-1)])]))])]),t("tr",null,[e[13]||(e[13]=t("th",null,"Kategori Mata Pelajaran",-1)),e[14]||(e[14]=t("td",null,":",-1)),t("td",null,l(n.exam.lesson_category.name),1)]),t("tr",null,[e[15]||(e[15]=t("th",null,"Mata Pelajaran",-1)),e[16]||(e[16]=t("td",null,":",-1)),t("td",null,l(n.exam.lesson.name),1)]),t("tr",null,[e[17]||(e[17]=t("th",null,"Paket Soal",-1)),e[18]||(e[18]=t("td",null,":",-1)),t("td",null,l(n.exam.question_title.name),1)]),t("tr",null,[e[19]||(e[19]=t("th",null,"Mode Pengambilan Soal",-1)),e[20]||(e[20]=t("td",null,":",-1)),t("td",null,l(n.exam.question_selection_mode==1?"Semua Soal":"Sebagian Soal"),1)]),n.exam.question_selection_mode==2?(s(),i("tr",nt,[e[21]||(e[21]=t("th",null,"Total Soal Yang Diambil",-1)),e[22]||(e[22]=t("td",null,":",-1)),t("td",null,l(n.exam.number_of_questions)+" Soal",1)])):d("",!0),t("tr",null,[e[23]||(e[23]=t("th",null,"Judul Latihan Soal",-1)),e[24]||(e[24]=t("td",null,":",-1)),t("td",null,l(n.exam.title),1)]),t("tr",null,[e[25]||(e[25]=t("th",null,"Durasi",-1)),e[26]||(e[26]=t("td",null,":",-1)),t("td",null,l(n.exam.duration)+" Menit",1)]),t("tr",null,[e[27]||(e[27]=t("th",null,"Deskripsi",-1)),e[28]||(e[28]=t("td",null,":",-1)),t("td",null,[t("div",{class:"ck-content",innerHTML:n.exam.description},null,8,at)])]),t("tr",null,[e[29]||(e[29]=t("th",null,"Soal Acak",-1)),e[30]||(e[30]=t("td",null,":",-1)),t("td",null,l(n.exam.random_question==1?"Ya":"Tidak"),1)]),t("tr",null,[e[31]||(e[31]=t("th",null,"Jawaban Acak",-1)),e[32]||(e[32]=t("td",null,":",-1)),t("td",null,l(n.exam.random_answer==1?"Ya":"Tidak"),1)]),t("tr",null,[e[33]||(e[33]=t("th",null,"Tampilkan Jawaban",-1)),e[34]||(e[34]=t("td",null,":",-1)),t("td",null,l(n.exam.show_answer==1?"Ya":"Tidak"),1)]),t("tr",null,[e[35]||(e[35]=t("th",null,"Tampilkan Navigasi Nomor Soal",-1)),e[36]||(e[36]=t("td",null,":",-1)),t("td",null,l(n.exam.show_question_number_navigation==1?"Ya":"Tidak"),1)]),t("tr",null,[e[37]||(e[37]=t("th",null,"Tampilkan Nomor Soal",-1)),e[38]||(e[38]=t("td",null,":",-1)),t("td",null,l(n.exam.show_question_number==1?"Ya":"Tidak"),1)]),t("tr",null,[e[39]||(e[39]=t("th",null,"Pertanyaan Berikutnya Secara Otomatis",-1)),e[40]||(e[40]=t("td",null,":",-1)),t("td",null,l(n.exam.next_question_automatically==1?"Ya":"Tidak"),1)]),t("tr",null,[e[41]||(e[41]=t("th",null,"Tampilkan Button Sebelum & Selanjutnya",-1)),e[42]||(e[42]=t("td",null,":",-1)),t("td",null,l(n.exam.show_prev_next_button==1?"Ya":"Tidak"),1)]),t("tr",null,[e[43]||(e[43]=t("th",null,"Tipe Pilihan Ganda",-1)),e[44]||(e[44]=t("td",null,":",-1)),t("td",null,l(n.exam.type_option==1?"Button option dan soal menyatu (Normal)":"Button option ke samping & jawaban menyatu dengan soal"),1)]),t("tr",null,[e[45]||(e[45]=t("th",null,"Peserta Dapat Mengulangi Latihan Soal",-1)),e[46]||(e[46]=t("td",null,":",-1)),t("td",null,l(n.exam.repeat_the_exam==0?"Peserta Tidak Dapat Mengulangi Ujian":"")+" "+l(n.exam.repeat_the_exam==1?"Peserta Dapat Mengulangi Ujian Ketika Sudah Selesai Mengerjakan":"")+" "+l(n.exam.repeat_the_exam==2?"Peserta Dapat Mengulangi Ujian Walau Belum Menyelesaikan Ujian":""),1)]),t("tr",null,[e[47]||(e[47]=t("th",null,"Peserta Dapat Melihat Ranking Ujian",-1)),e[48]||(e[48]=t("td",null,":",-1)),t("td",null,l(n.exam.repeat_the_exam==1?"Ya":"Tidak"),1)]),o.$page.props.setting.block_system_type==1?(s(),i("tr",lt,[e[49]||(e[49]=t("th",null,"Maksimal Toleransi Keluar Tes",-1)),e[50]||(e[50]=t("td",null,":",-1)),t("td",null,l(n.exam.total_tolerance==null?"Tidak ada":n.exam.total_tolerance+" Kali"),1)])):d("",!0),n.exam.total_tolerance!=null?(s(),i("tr",it,[e[52]||(e[52]=t("th",null,"Kode Membuka Blokir",-1)),e[53]||(e[53]=t("td",null,":",-1)),t("td",null,[t("div",st,[t("input",{type:"text",class:"form form-control form-control-sm",value:n.exam.unblock_token,disabled:""},null,8,ot),t("a",{href:"#",onClick:e[0]||(e[0]=y(a=>m.regenerateCode(),["prevent"])),class:"btn btn-primary btn-sm"},[...e[51]||(e[51]=[t("i",{class:"bx bx-refresh"},null,-1),x("Regenerate Kode",-1)])])])])])):d("",!0),t("tr",null,[e[54]||(e[54]=t("th",null,"Tampilkan Koreksi Jawaban & Pembahasan",-1)),e[55]||(e[55]=t("td",null,":",-1)),t("td",null,l(n.exam.show_answer_discussion==1?"Ya":"Tidak"),1)]),t("tr",null,[e[56]||(e[56]=t("th",null,"Tipe Harga Tryout",-1)),e[57]||(e[57]=t("td",null,":",-1)),t("td",null,[n.exam.price_type==1?(s(),i("span",dt,"Gratis")):(s(),i("span",rt,"Berbayar"))])]),n.exam.price_type==2?(s(),i("tr",ut,[e[58]||(e[58]=t("th",null,"Harga Latihan Soal Sebelum Diskon",-1)),e[59]||(e[59]=t("td",null,":",-1)),t("td",null,l(S.formatPrice(n.exam.price_before_discount)),1)])):d("",!0),n.exam.price_type==2?(s(),i("tr",mt,[e[60]||(e[60]=t("th",null,"Harga Latihan Soal Sesudah Diskon",-1)),e[61]||(e[61]=t("td",null,":",-1)),t("td",null,l(S.formatPrice(n.exam.price_after_discount)),1)])):d("",!0),t("tr",null,[e[62]||(e[62]=t("th",null,"Waktu Akses Mulai Ujian",-1)),e[63]||(e[63]=t("td",null,":",-1)),t("td",null,l(n.exam.exam_start_time?o.formatDateWithTimeHourMinute(n.exam.exam_start_time):"Tidak Ada Batas Waktu"),1)]),t("tr",null,[e[64]||(e[64]=t("th",null,"Waktu Berakhir Akses Ujian",-1)),e[65]||(e[65]=t("td",null,":",-1)),t("td",null,l(n.exam.exam_end_time?o.formatDateWithTimeHourMinute(n.exam.exam_end_time):"Tidak Ada Batas Waktu"),1)]),t("tr",null,[e[66]||(e[66]=t("th",null,"Status Latihan Soal",-1)),e[67]||(e[67]=t("td",null,":",-1)),t("td",null,[n.exam.exam_status=="active"?(s(),i("span",gt,"Active")):d("",!0),n.exam.exam_status=="inactive"?(s(),i("span",bt,"Inactive")):d("",!0),n.exam.exam_status=="inprogress"?(s(),i("span",kt,"Inprogress")):d("",!0)])]),t("tr",null,[e[68]||(e[68]=t("th",null,"Dibuat Oleh",-1)),e[69]||(e[69]=t("td",null,":",-1)),t("td",null,l(n.exam.user?n.exam.user.name:"-"),1)])])])])]),t("div",ft,[t("div",xt,[t("div",pt,[t("div",yt,[t("form",{onSubmit:e[2]||(e[2]=y((...a)=>m.handleSearch&&m.handleSearch(...a),["prevent"]))},[t("div",vt,[Y(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>m.search=a),class:"form-control ps-5 radius-20",placeholder:"Cari Peserta....",size:"40",maxlength:"100"},null,512),[[q,m.search]]),e[70]||(e[70]=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1))])],32)]),t("div",ht,[t("a",{onClick:e[3]||(e[3]=y(a=>m.destroyExamResult(n.exam.id),["prevent"])),class:"btn btn-danger btn-sm m-1"},[...e[71]||(e[71]=[t("i",{class:"bx bxs-trash"},null,-1),x(" Hapus Semua Hasil Latihan Soal",-1)])])]),t("div",St,[e[72]||(e[72]=t("button",{class:"btn btn-success dropdown-toggle btn-sm m-1",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Export Hasil Latihan Soal",-1)),t("ul",wt,[t("li",null,[t("a",{class:"dropdown-item",target:"_blank",href:`/admin/exams/${n.exam.id}/export-excel`},"Export Excel",8,_t)]),t("li",null,[t("a",{class:"dropdown-item",target:"_blank",href:`/admin/exams/${n.exam.id}/export-pdf`},"Export PDF",8,Bt)])])])])]),t("div",Tt,[t("table",Ct,[t("thead",null,[t("tr",null,[e[73]||(e[73]=t("th",null,"Peringkat",-1)),o.$page.props.setting.authentication_field.some(a=>a.name=="code"&&a.is_active=="1")?(s(),i("th",Dt,l((T=o.$page.props.setting.authentication_field.find(a=>a.name=="code"))==null?void 0:T.translate),1)):d("",!0),o.$page.props.setting.authentication_field.some(a=>a.name=="name"&&a.is_active=="1")?(s(),i("th",Pt,l((C=o.$page.props.setting.authentication_field.find(a=>a.name=="name"))==null?void 0:C.translate),1)):d("",!0),o.$page.props.setting.authentication_field.some(a=>a.name=="province_id"&&a.is_active=="1")?(s(),i("th",Lt,l((D=o.$page.props.setting.authentication_field.find(a=>a.name=="province_id"))==null?void 0:D.translate),1)):d("",!0),o.$page.props.setting.authentication_field.some(a=>a.name=="city_id"&&a.is_active=="1")?(s(),i("th",Mt,l((P=o.$page.props.setting.authentication_field.find(a=>a.name=="city_id"))==null?void 0:P.translate),1)):d("",!0),e[74]||(e[74]=t("th",null,"Status",-1)),e[75]||(e[75]=t("th",null,"Nilai",-1)),e[76]||(e[76]=t("th",null,"Action",-1))])]),t("tbody",null,[t("tr",null,[n.rankingExams.data.length?d("",!0):(s(),i("td",Ht,"Data Tidak Tersedia"))]),(s(!0),i(h,null,w(n.rankingExams.data,(a,k)=>{var L,M;return s(),i("tr",{key:k},[t("td",null,[t("span",jt,l(++k+(n.rankingExams.current_page-1)*n.rankingExams.per_page),1)]),o.$page.props.setting.authentication_field.some(r=>r.name=="code"&&r.is_active=="1")?(s(),i("td",At,l((L=a.user.code)!=null?L:"-"),1)):d("",!0),o.$page.props.setting.authentication_field.some(r=>r.name=="name"&&r.is_active=="1")?(s(),i("td",Kt,l((M=a.user.name)!=null?M:"-"),1)):d("",!0),o.$page.props.setting.authentication_field.some(r=>r.name=="province_id"&&r.is_active=="1")?(s(),i("td",Nt,l(a.user.student&&a.user.student.province?a.user.student.province.name:"-"),1)):d("",!0),o.$page.props.setting.authentication_field.some(r=>r.name=="city_id"&&r.is_active=="1")?(s(),i("td",Ut,l(a.user.student&&a.user.student.city?a.user.student.city.name:"-"),1)):d("",!0),t("th",null,[t("span",{class:I(["badge",{"bg-primary":a.is_finished==1,"bg-danger":a.is_finished==0}])},l(a.is_finished==1?"Selesai Mengerjakan":"Belum Selesai Mengerjakan"),3)]),t("th",null,l(o.gradeFormat(a.grade)),1),t("td",null,[t("div",Yt,[e[79]||(e[79]=t("button",{class:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true"},"Action",-1)),t("ul",qt,[a.is_finished==1?(s(),i("li",It,[f(u,{class:"dropdown-item",href:`/admin/exams/${n.exam.id}/grades/${a.id}`},{default:p(()=>[...e[77]||(e[77]=[x("Lihat Detail Nilai",-1)])]),_:1},8,["href"])])):d("",!0),a.is_finished==1?(s(),i("li",Rt,[f(u,{class:"dropdown-item",href:`/admin/exams/${n.exam.id}/grades/${a.id}/answer-corrections`},{default:p(()=>[...e[78]||(e[78]=[x("Lihat Koreksi Jawaban",-1)])]),_:1},8,["href"])])):d("",!0),a.is_finished==1?(s(),i("li",Wt,[t("a",{class:"dropdown-item",href:"#",onClick:y(r=>m.regenerateTryoutScore(a.id),["prevent"])},"Hitung Ulang Nilai",8,Jt)])):d("",!0),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:y(r=>m.destroy(a.id),["prevent"])},"Hapus Nilai",8,Vt)])])])])])}),128))])]),f(b,{links:n.rankingExams.links,align:"end"},null,8,["links"])])])])])],64)}const Zt=W(J,[["render",Ft]]);export{Zt as default};
