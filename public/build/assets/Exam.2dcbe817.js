import{L as $}from"./Layout.832db21f.js";import{P as z}from"./Pagination.a01a77bf.js";import{L as K,H as L,p as U,r as S,h as T,c as o,a as y,w as i,b as t,e as P,v as G,q as V,F as d,g as f,d as E,f as n,i as N,j as k,o as s,t as l,W as _,k as b,n as R}from"./app.ec49e899.js";import{S as j}from"./sweetalert2.all.eb0547e6.js";import{_ as x}from"./_plugin-vue_export-helper.cdc0426e.js";const H={layout:$,components:{Link:K,Head:L,Pagination:z},props:{examGroups:Object,lessonCategory:Object,userMemberCategories:Object,subCategories:Object,session:Object},setup(r){const u=U({search:S(new URL(document.location).searchParams.get("search")),sub_category_id:S(new URL(document.location).searchParams.get("sub_category_id")||"")}),a=()=>{T.Inertia.get(`/user/exam-groups/${r.lessonCategory.category_id}/lesson-categories/${r.lessonCategory.id}/exams`,{search:u.search,sub_category_id:u.sub_category_id})};return r.session&&r.session.success&&j.fire({title:"Sukses",text:r.session.success,icon:"success"}),r.session&&r.session.error&&j.fire({title:"Peringatan",text:r.session.error,icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Top Up Saldo",cancelButtonText:"Tidak"}).then(m=>{m.isConfirmed&&T.Inertia.get("/user/account-balances")}),{form:u,checkMemberCategories:m=>{if(m.length>0){const p=m.map(h=>h.id);return r.userMemberCategories.some(h=>p.includes(h.member_category_id))}else return!0},handleSearch:a}},methods:{formatPrice(r){return(r/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},I={class:"page-wrapper"},O={class:"page-content"},D={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},F=N('<div class="breadcrumb-title pe-3">Tryout</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal Tryout</li></ol></nav></div>',2),A={class:"ms-auto"},W=b("Kembali"),q=t("hr",null,null,-1),J={class:"card"},Q={class:"card-body bg-light p-3 rounded-3"},X={class:"input-group flex-md-nowrap flex-wrap"},Y=t("option",{value:""},"[ Kategori ]",-1),Z=["value"],ee=t("i",{class:"bx bx-filter"},null,-1),se=[ee],te=t("i",{class:"bx bx-refresh"},null,-1),re={class:"card mb-0"},oe={class:"card-body p-3"},ae={class:"list-group"},ne={class:"d-flex flex-column flex-md-row"},ie={class:"flex-grow-1 text-center text-sm-start"},ce={class:"my-2"},le={class:"mb-1"},de={key:1,class:"badge bg-danger"},_e={class:"mb-1"},ue={key:1,class:"badge bg-success"},ge={class:"d-flex flex-column action-button-exams text-center text-md-end"},be={key:0},pe=t("span",{class:"badge bg-success",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"2"}},"Enrolled",-1),me=t("span",{class:"badge bg-success",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"2"}},"Enrolled",-1),he=t("span",{class:"badge bg-success",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"2"}},"Enrolled",-1),ye={key:1},fe={key:0},ke={key:0},ve={class:"card-price"},Ce={key:1},Me={class:"text-dark"},we={class:"badge bg-danger mx-1"},Se=t("br",null,null,-1),Te={key:2},Pe=t("span",{class:"badge bg-warning text-dark",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"1"}},"Gratis",-1),je=[Pe],Be={key:0},$e=b("Kerjakan"),ze=b("Beli"),Ke=b("Kerjakan"),Le={key:0},Ue={key:1},Ge=b("Kerjakan"),Ve=b("Kerjakan"),Ee=b("Beli"),Ne={key:0},Re={key:1},xe=b("Kerjakan"),He=t("br",null,null,-1),Ie={class:"badge bg-success"},Oe={key:1,class:"list-group-item list-group-item-action order"},De=t("h6",{class:"text-center"},"Tryout Tidak Tersedia",-1),Fe=[De],Ae={key:0,class:"row mb-3"},We={class:"col-lg-12"},qe={class:"d-flex justify-content-center",style:{"min-height":"0vh"}};function Je(r,u,a,c,m,p){const h=k("Head"),g=k("Link"),v=k("tempate"),B=k("Pagination");return s(),o(d,null,[y(h,null,{default:i(()=>{var e;return[t("title",null,l((e=r.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Tryout",1)]}),_:1}),t("div",I,[t("div",O,[t("div",D,[F,t("div",A,[y(g,{href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:i(()=>[W]),_:1},8,["href"])])]),q,t("div",J,[t("div",Q,[t("div",X,[P(t("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=e=>c.form.search=e),class:"form-control form-control-sm sm-2",placeholder:"Judul Tryout ...."},null,512),[[G,c.form.search]]),P(t("select",{"onUpdate:modelValue":u[1]||(u[1]=e=>c.form.sub_category_id=e),class:"form-control form-control-sm sm-2"},[Y,(s(!0),o(d,null,f(a.subCategories,(e,C)=>(s(),o("option",{key:C,value:e.id},l(e.name),9,Z))),128))],512),[[V,c.form.sub_category_id]]),t("button",{onClick:u[2]||(u[2]=E((...e)=>c.handleSearch&&c.handleSearch(...e),["prevent"])),class:"btn btn-primary btn-sm"},se),y(g,{href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories/${a.lessonCategory.id}/exams`,class:"btn btn-danger btn-sm"},{default:i(()=>[te]),_:1},8,["href"])])])]),t("div",re,[t("div",oe,[t("div",ae,[a.examGroups.data.length?(s(!0),o(d,{key:0},f(a.examGroups.data,(e,C)=>(s(),o("div",{class:"list-group-item list-group-item-action p-2 mb-2 border",key:C},[t("div",ne,[t("div",ie,[t("h6",ce,l(e.title),1),t("p",le,[e.sub_categories&&e.sub_categories.length?(s(!0),o(d,{key:0},f(e.sub_categories,(M,w)=>(s(),o("span",{key:w,class:"badge bg-danger me-1"},l(M.name),1))),128)):(s(),o("span",de," Seluruh Peminatan "+l(e.category.name),1))]),t("p",_e,[(r.$page.props.setting.tryout_sales_type==2||r.$page.props.setting.tryout_sales_type==3)&&r.$page.props.auth.user.member_type==2?(s(),o(d,{key:0},[e.member_categories&&e.member_categories.length?(s(!0),o(d,{key:0},f(e.member_categories,(M,w)=>(s(),o("span",{key:w,class:"badge bg-success me-1"},l(M.name),1))),128)):(s(),o("span",ue," Seluruh Member & Non Member "))],64)):n("",!0)])]),t("div",ge,[r.$page.props.auth.user.member_type==2?(s(),o("div",be,[r.$page.props.setting.tryout_sales_type==1&&e.user_access.length>0?(s(),_(v,{key:0},{default:i(()=>[pe]),_:1})):n("",!0),r.$page.props.setting.tryout_sales_type==2&&e.member_categories.length>0&&c.checkMemberCategories(e.member_categories)==!0?(s(),_(v,{key:1},{default:i(()=>[me]),_:1})):n("",!0),r.$page.props.setting.tryout_sales_type==3&&(e.user_access.length>0||c.checkMemberCategories(e.member_categories)==!0)?(s(),_(v,{key:2},{default:i(()=>[he]),_:1})):n("",!0)])):n("",!0),(r.$page.props.setting.tryout_sales_type==1||r.$page.props.setting.tryout_sales_type==3)&&r.$page.props.auth.user.member_type==2?(s(),o("div",ye,[e.price_type==2?(s(),o("div",fe,[e.price_before_discount==e.price_after_discount?(s(),o("div",ke,[t("h6",ve,"Rp."+l(p.formatPrice(e.price_after_discount)),1)])):(s(),o("div",Ce,[t("h6",Me,[t("sup",null,[t("s",null,"Rp."+l(p.formatPrice(e.price_before_discount)),1),t("span",we,l(p.formatPrice((e.price_before_discount-e.price_after_discount)/e.price_before_discount*100))+"% ",1)]),Se,b(" Rp."+l(p.formatPrice(e.price_after_discount)),1)])]))])):n("",!0)])):n("",!0),r.$page.props.setting.tryout_sales_type==1&&e.price_type==1||r.$page.props.setting.tryout_sales_type==2&&e.member_categories.length==0||r.$page.props.setting.tryout_sales_type==3&&(e.member_categories.length==0||e.price_type==1)?(s(),o("div",Te,je)):n("",!0),t("div",null,[e.exam_status=="active"?(s(),o("div",Be,[r.$page.props.auth.user.member_type==2&&r.$page.props.setting.enable_tryout_sales==1?(s(),o(d,{key:0},[r.$page.props.setting.tryout_sales_type==1?(s(),o(d,{key:0},[e.user_access.length>0||e.price_type==1?(s(),_(g,{key:0,href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories/${a.lessonCategory.id}/exams/${e.id}`,class:"btn btn-sm btn-primary"},{default:i(()=>[$e]),_:2},1032,["href"])):(s(),_(g,{key:1,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/examGroup/${e.id}/buy`},{default:i(()=>[ze]),_:2},1032,["href"]))],64)):n("",!0),r.$page.props.setting.tryout_sales_type==2?(s(),o(d,{key:1},[c.checkMemberCategories(e.member_categories)==!0?(s(),_(g,{key:0,href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories/${a.lessonCategory.id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:i(()=>[Ke]),_:2},1032,["href"])):(s(),_(g,{key:1,href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-sm btn-success"},{default:i(()=>[e.member_categories.length==1?(s(),o("span",Le,"Upgrade Ke "+l(e.member_categories[0].name),1)):(s(),o("span",Ue,"Upgrade Member"))]),_:2},1032,["href"]))],64)):n("",!0),r.$page.props.setting.tryout_sales_type==3?(s(),o(d,{key:2},[e.user_access.length>0&&c.checkMemberCategories(e.member_categories)==!0?(s(),_(g,{key:0,href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories/${a.lessonCategory.id}/exams/${e.id}`,class:"btn btn-sm btn-primary"},{default:i(()=>[Ge]),_:2},1032,["href"])):n("",!0),(e.user_access.length==0||c.checkMemberCategories(e.member_categories)==!1)&&(e.user_access.length>0||c.checkMemberCategories(e.member_categories)==!0||e.price_type==1)?(s(),_(g,{key:1,href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories/${a.lessonCategory.id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:i(()=>[Ve]),_:2},1032,["href"])):n("",!0),e.user_access.length==0&&e.price_type==2?(s(),_(g,{key:2,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/examGroup/${e.id}/buy`},{default:i(()=>[Ee]),_:2},1032,["href"])):n("",!0),c.checkMemberCategories(e.member_categories)==!1?(s(),_(g,{key:3,href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-sm btn-success"},{default:i(()=>[e.member_categories.length==1?(s(),o("span",Ne,"Upgrade Ke "+l(e.member_categories[0].name),1)):(s(),o("span",Re,"Upgrade Member"))]),_:2},1032,["href"])):n("",!0)],64)):n("",!0)],64)):(s(),_(g,{key:1,href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories/${a.lessonCategory.id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:i(()=>[xe]),_:2},1032,["href"]))])):(s(),o(d,{key:1},[t("span",{class:R(["badge",{"bg-danger":e.exam_status=="inactive","bg-warning":e.exam_status==="inprogress"}])},l(e.exam_status==="inactive"?"Inactive":"In Progress"),3),e.exam_status=="inprogress"&&e.release_date?(s(),o(d,{key:0},[He,t("span",Ie,"Rilis "+l(r.formatDateWithTimeHourMinute(e.release_date)),1)],64)):n("",!0)],64))])])])]))),128)):(s(),o("div",Oe,Fe))])])]),a.examGroups.data.length?(s(),o("div",Ae,[t("div",We,[t("div",qe,[y(B,{links:a.examGroups.links},null,8,["links"])])])])):n("",!0)])])],64)}const ss=x(H,[["render",Je]]);export{ss as default};
