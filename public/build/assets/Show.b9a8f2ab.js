import{L as g}from"./Layout.f3923d27.js";import{L as v,H as k,p as y,c as s,a as c,w as _,b as t,d as p,f as l,t as a,e as P,q as D,n as h,F as S,h as j,i as B,k as w,j as m,o as i}from"./app.3d780cf9.js";import{S as T}from"./sweetalert2.all.31f9910d.js";import{_ as x}from"./_plugin-vue_export-helper.cdc0426e.js";const H={layout:g,components:{Link:v,Head:k},props:{errors:Object,withdrawal:Object},setup(o){const n=y({status:o.withdrawal.status,file:""});return{form:n,submit:()=>{j.Inertia.post(`/admin/affiliates/withdrawals/${o.withdrawal.id}`,{forceFormData:!0,_method:"put",status:n.status,file:n.file},{onSuccess:()=>{T.fire({title:"Success!",text:"Status Pengajuan Berhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})}}},methods:{formatPrice(o){return"Rp."+Math.floor(o).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},L={class:"page-wrapper"},M={class:"page-content"},K=B('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Pengajuan Penarikan Komisi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Penarikan Komisi</li></ol></nav></div></div>',1),N={class:"card border-top border-0 border-3 border-primary"},V={class:"card-body"},C={class:"d-lg-flex align-items-center"},A={class:"ms-auto"},F=w("Kembali"),U={key:0,class:"alert alert-danger border-0"},W=t("i",{class:"fa fa-exclamation-triangle"},null,-1),E=w(),I=["innerHTML"],O={class:"table-responsive"},q={class:"table mb-0"},z=t("tr",null,[t("th",{colspan:"3"},"Biodata")],-1),J=t("td",null,"Nama",-1),R=t("td",{width:"10"},":",-1),G=t("td",null,"Email",-1),Q=t("td",null,":",-1),X=t("td",null,"Username",-1),Y=t("td",null,":",-1),Z=t("tr",null,[t("th",{colspan:"3"},"\xA0")],-1),$=t("tr",null,[t("th",{colspan:"3"},"Pengajuan Penarikan")],-1),tt=t("td",null,"Waktu Pengajuan",-1),et=t("td",null,":",-1),at=t("td",null,"Jumlah Penarikan Komisi",-1),st=t("td",null,":",-1),it=t("td",null,"Biaya Admin Penarikan",-1),nt=t("td",null,":",-1),lt=t("td",null,"Komisi Diterima",-1),ot=t("td",null,":",-1),dt=t("td",null,"Dikirim ke Bank",-1),rt=t("td",null,":",-1),ut=t("td",null,":",-1),ct={key:0,class:"badge bg-warning"},_t={key:1,class:"badge bg-danger"},ht={key:2,class:"badge bg-success"},mt={key:0},wt=t("td",null,"Tanggal Disetujui",-1),ft=t("td",null,":",-1),bt={key:1},gt=t("td",null,"Bukti Transfer",-1),vt=t("td",null,":",-1),kt=["src"],yt={key:2},pt=t("td",null,"Ubah Status Transaksi",-1),Pt=t("td",null,":",-1),Dt=t("option",{value:""},"[ Pilih Status Transaksi ]",-1),St=t("option",{value:"pending"},"Pending",-1),jt=t("option",{value:"approved"},"Disetujui",-1),Bt=t("option",{value:"failed"},"Ditolak",-1),Tt=[Dt,St,jt,Bt],xt={key:0,class:"invalid-feedback"},Ht={key:3},Lt=t("td",null,"Bukti Transfer",-1),Mt=t("td",null,":",-1),Kt={key:0,class:"invalid-feedback"},Nt={key:4},Vt=t("td",null,"\xA0",-1),Ct=t("td",null,"\xA0",-1),At=t("td",null,[t("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1),Ft=[Vt,Ct,At];function Ut(o,n,e,r,Wt,u){const f=m("Head"),b=m("Link");return i(),s(S,null,[c(f,null,{default:_(()=>{var d;return[t("title",null,a((d=o.$page.props.setting.app_name)!=null?d:"Atur Setting Terlebih Dahulu")+" - Detail Penarikan Komisi",1)]}),_:1}),t("div",L,[t("div",M,[K,t("div",N,[t("div",V,[t("div",C,[t("div",A,[c(b,{href:"/user/affiliates/withdrawals",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:_(()=>[F]),_:1})])]),t("form",{onSubmit:n[2]||(n[2]=p((...d)=>r.submit&&r.submit(...d),["prevent"]))},[o.$page.props.session.error?(i(),s("div",U,[W,E,t("div",{innerHTML:o.$page.props.session.error},null,8,I)])):l("",!0),t("div",O,[t("table",q,[t("tbody",null,[z,t("tr",null,[J,R,t("td",null,a(e.withdrawal.user?e.withdrawal.user.name:"-"),1)]),t("tr",null,[G,Q,t("td",null,a(e.withdrawal.user?e.withdrawal.user.email:"-"),1)]),t("tr",null,[X,Y,t("td",null,a(e.withdrawal.user?e.withdrawal.user.username:"-"),1)]),Z,$,t("tr",null,[tt,et,t("td",null,a(o.formatDateWithTimeHourMinute(e.withdrawal.created_at)),1)]),t("tr",null,[at,st,t("td",null,a(u.formatPrice(e.withdrawal.total_withdrawal)),1)]),t("tr",null,[it,nt,t("td",null,a(u.formatPrice(e.withdrawal.admin_fee)),1)]),t("tr",null,[lt,ot,t("td",null,a(u.formatPrice(e.withdrawal.total_paid)),1)]),t("tr",null,[dt,rt,t("td",null,a(e.withdrawal.user_bank.bank_name+" - "+e.withdrawal.user_bank.account_number+" - "+e.withdrawal.user_bank.account_name),1)]),t("tr",null,[t("td",null,"Status Pengajuan "+a(r.form.status),1),ut,t("td",null,[e.withdrawal.status=="pending"?(i(),s("span",ct,"Pending")):l("",!0),e.withdrawal.status=="failed"?(i(),s("span",_t,"Ditolak")):l("",!0),e.withdrawal.status=="approved"?(i(),s("span",ht,"Disetujui")):l("",!0)])]),e.withdrawal.status=="approved"?(i(),s("tr",mt,[wt,ft,t("td",null,a(e.withdrawal.date_approved?o.formatDateWithTimeHourMinute(e.withdrawal.date_approved):"-"),1)])):l("",!0),e.withdrawal.status=="approved"?(i(),s("tr",bt,[gt,vt,t("td",null,[t("img",{src:"/storage/upload_files/withdrawal_payment_confirmation/"+e.withdrawal.file,style:{width:"300px"}},null,8,kt)])])):l("",!0),e.withdrawal.status=="pending"?(i(),s("tr",yt,[pt,Pt,t("td",null,[P(t("select",{class:h(["form-control",{"is-invalid":e.errors.status}]),"onUpdate:modelValue":n[0]||(n[0]=d=>r.form.status=d)},Tt,2),[[D,r.form.status]]),e.errors.status?(i(),s("div",xt,a(e.errors.status),1)):l("",!0)])])):l("",!0),e.withdrawal.status=="pending"?(i(),s("tr",Ht,[Lt,Mt,t("td",null,[t("input",{type:"file",class:h(["form-control",{"is-invalid":e.errors.file}]),onInput:n[1]||(n[1]=d=>r.form.file=d.target.files[0]),placeholder:"file"},null,34),e.errors.file?(i(),s("div",Kt,a(e.errors.file),1)):l("",!0)])])):l("",!0),e.withdrawal.status=="pending"?(i(),s("tr",Nt,Ft)):l("",!0)])])])],32)])])])])],64)}const zt=x(H,[["render",Ut]]);export{zt as default};
