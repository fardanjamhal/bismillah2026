import{L as T}from"./Layout.6e589519.js";import{P as U}from"./Pagination.d27b1b98.js";import{L as V,H as B,m as j,r as _,c as n,a as u,w as c,b as t,d as M,f as p,v as H,p as y,F as f,h,e as S,k as g,g as w,i as C,j as x,o as l,t as r,n as L}from"./app.3c4545f2.js";import{S as P}from"./sweetalert2.esm.all.089855d2.js";import{a as D}from"./index.6e52b761.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";const I={layout:T,components:{Link:V,Head:B,Pagination:U},props:{exams:Object,categories:Object},setup(){const a=j({search:_(new URL(document.location).searchParams.get("search")),category_id:_(new URL(document.location).searchParams.get("category_id")||""),lesson_category_id:_(new URL(document.location).searchParams.get("lesson_category_id")||""),lesson_id:_(new URL(document.location).searchParams.get("lesson_id")||""),order:_(new URL(document.location).searchParams.get("order")||""),lessonCategories:[],lessons:[]}),s=()=>{C.Inertia.get("/admin/exams",{search:a.search,category_id:a.category_id,lesson_category_id:a.lesson_category_id,lesson_id:a.lesson_id,order:a.order})},d=(b="",m="")=>{a.lesson_category_id=b!=a.category_id?"":a.lesson_category_id,a.lesson_id=m!=a.lesson_category_id?"":a.lesson_id,D.get(`/admin/categories/${a.category_id}/lesson-categories`).then(i=>{a.lessonCategories=i.data}).catch(i=>console.error(i))},o=(b="")=>{a.lesson_id=b!=a.lesson_category_id?"":a.lesson_id,D.get(`/admin/lesson-categories/${a.lesson_category_id}/lessons`).then(m=>{a.lessons=m.data}).catch(m=>console.error(m))},k=b=>{P.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(m=>{m.isConfirmed&&(C.Inertia.delete(`/admin/exams/${b}`),P.fire({title:"Deleted!",text:"Latihan Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})};return a.category_id&&d(a.category_id,a.lesson_category_id),a.lesson_category_id&&o(a.lesson_category_id),{form:a,handleSearch:s,destroy:k,lessonCategoryData:d,lessonData:o}}},R={class:"page-wrapper"},F={class:"page-content"},z={class:"card border-top border-0 border-3 border-primary"},E={class:"card-body"},J={class:"row"},K={class:"col-md-4 col-lg-2 mb-1"},q={class:"col-md-6 col-lg-2 mb-1"},O=["value"],W={class:"col-md-6 col-lg-2 mb-1"},G=["value"],Q={class:"col-md-6 col-lg-2 mb-1"},X=["value"],Y={class:"col-lg-2 col-md-6 mb-1"},Z={class:"col-md-6 col-lg-2 mb-1"},$={class:"input-group"},tt={class:"card border-top border-0 border-3 border-primary"},st={class:"card-header"},et={class:"d-flex align-items-center"},at={class:"ms-auto"},ot={class:"card-body"},nt={class:"table-responsive"},lt={class:"table mb-0",style:{"font-size":"10pt"}},rt={class:"badge bg-primary"},it={key:0,class:"badge bg-danger"},dt={key:1,class:"badge bg-primary"},mt={class:"btn-group"},ut={class:"dropdown-menu"},ct={key:0},gt={key:1},bt={key:2},_t={class:"dropdown"},pt={class:"dropdown-menu","data-popper-placement":"top-start","data-popper-reference-hidden":"","data-popper-escaped":""},ft=["onClick"],vt={key:0,align:"center",colspan:"10"};function yt(a,s,d,o,k,b){const m=x("Head"),i=x("Link"),A=x("Pagination");return l(),n(f,null,[u(m,null,{default:c(()=>{var e;return[t("title",null,r((e=a.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Data Latihan Soal",1)]}),_:1}),t("div",R,[t("div",F,[s[32]||(s[32]=M('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Latihan Soal</li></ol></nav></div></div>',1)),t("div",z,[s[21]||(s[21]=t("div",{class:"card-header"},[t("div",{class:"d-flex align-items-center"},[t("div",null,[t("h6",{class:"mb-0"},"Filter Data")])])],-1)),t("div",E,[t("form",null,[t("div",J,[t("div",K,[s[8]||(s[8]=t("label",{for:"search"},"Judul Latihan Soal",-1)),p(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>o.form.search=e),class:"form-control form-control-sm",id:"search",placeholder:"Judul Latihan Soal...."},null,512),[[H,o.form.search]])]),t("div",q,[s[10]||(s[10]=t("label",{for:"category"},"Kategori Peminatan",-1)),p(t("select",{onChange:s[1]||(s[1]=(...e)=>o.lessonCategoryData&&o.lessonCategoryData(...e)),"onUpdate:modelValue":s[2]||(s[2]=e=>o.form.category_id=e),class:"form-control form-control-sm"},[s[9]||(s[9]=t("option",{value:""},"[ Pilih]",-1)),(l(!0),n(f,null,h(d.categories,(e,v)=>(l(),n("option",{key:v,value:e.id},r(e.name),9,O))),128))],544),[[y,o.form.category_id]])]),t("div",W,[s[12]||(s[12]=t("label",{for:"lesson_category_id"},"Kategori Mata Pelajaran",-1)),p(t("select",{onChange:s[3]||(s[3]=(...e)=>o.lessonData&&o.lessonData(...e)),"onUpdate:modelValue":s[4]||(s[4]=e=>o.form.lesson_category_id=e),class:"form-control form-control-sm"},[s[11]||(s[11]=t("option",{value:""},"[ Pilih ]",-1)),(l(!0),n(f,null,h(o.form.lessonCategories,e=>(l(),n("option",{value:e.id},r(e.name),9,G))),256))],544),[[y,o.form.lesson_category_id]])]),t("div",Q,[s[14]||(s[14]=t("label",{for:"lesson_id"},"Mata Pelajaran",-1)),p(t("select",{"onUpdate:modelValue":s[5]||(s[5]=e=>o.form.lesson_id=e),class:"form-select form-select-sm"},[s[13]||(s[13]=t("option",{value:""},"[ Pilih ]",-1)),(l(!0),n(f,null,h(o.form.lessons,e=>(l(),n("option",{value:e.id},r(e.name),9,X))),256))],512),[[y,o.form.lesson_id]])]),t("div",Y,[s[16]||(s[16]=t("label",{for:"category"},"Waktu",-1)),p(t("select",{"onUpdate:modelValue":s[6]||(s[6]=e=>o.form.order=e),class:"form-select form-select-sm"},[...s[15]||(s[15]=[t("option",{value:""},"[ Pilih]",-1),t("option",{value:"DESC"},"Terbaru",-1),t("option",{value:"ASC"},"Terlama",-1)])],512),[[y,o.form.order]])]),t("div",Z,[s[19]||(s[19]=t("label",{for:"end_date"},"Action",-1)),s[20]||(s[20]=t("br",null,null,-1)),t("div",$,[t("button",{onClick:s[7]||(s[7]=S((...e)=>o.handleSearch&&o.handleSearch(...e),["prevent"])),class:"btn btn-primary btn-sm"},[...s[17]||(s[17]=[t("i",{class:"bx bx-filter"},null,-1),g("Filter ",-1)])]),u(i,{href:"/admin/exams",class:"btn btn-danger btn-sm"},{default:c(()=>[...s[18]||(s[18]=[t("i",{class:"bx bx-refresh"},null,-1),g("reset ",-1)])]),_:1})])])])])])]),t("div",tt,[t("div",st,[t("div",et,[s[23]||(s[23]=t("div",null,[t("h6",{class:"mb-0"},"Latihan Soal")],-1)),t("div",at,[u(i,{href:"/admin/exams/create",class:"btn btn-primary btn-sm me-2"},{default:c(()=>[...s[22]||(s[22]=[t("i",{class:"bx bxs-plus-square"},null,-1),g("Tambah Latihan Soal ",-1)])]),_:1})])])]),t("div",ot,[t("div",nt,[t("table",lt,[s[31]||(s[31]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"No"),t("th",null,"Peminatan"),t("th",null,"Kategori"),t("th",null,"Mata Pelajaran"),t("th",null,"Paket Soal"),t("th",null,"Judul Latihan Soal"),t("th",null,"Durasi"),t("th",null,"Peserta"),t("th",null,"Status"),t("th",null,"Actions")])],-1)),t("tbody",null,[(l(!0),n(f,null,h(d.exams.data,(e,v)=>(l(),n("tr",{key:v},[t("td",null,r(++v+(d.exams.current_page-1)*d.exams.per_page),1),t("td",null,[t("span",rt,r(e.category.name),1)]),t("td",null,r(e.lesson_category.name),1),t("td",null,r(e.lesson.name),1),t("td",null,r(e.question_title.name),1),t("td",null,r(e.title),1),t("td",null,r(e.duration)+" Menit",1),t("td",null,[e.grade_count==0?(l(),n("span",it,r(e.grade_count),1)):(l(),n("span",dt,r(e.grade_count),1))]),t("td",null,[t("div",mt,[t("button",{type:"button",class:L({btn:!0,"btn-sm":!0,"btn-warning":e.exam_status==="inprogress","btn-danger":e.exam_status==="inactive","btn-primary":e.exam_status==="active"})},r(a.capitalizeWords(e.exam_status)),3),t("button",{type:"button",class:L([{btn:!0,"btn-sm":!0,"btn-warning":e.exam_status==="inprogress","btn-danger":e.exam_status==="inactive","btn-primary":e.exam_status==="active","split-bg-warning":e.exam_status==="inprogress","split-bg-danger":e.exam_status==="inactive","split-bg-primary":e.exam_status==="active"},"dropdown-toggle dropdown-toggle-split"]),"data-bs-toggle":"dropdown","aria-expanded":"false"},[...s[24]||(s[24]=[t("span",{class:"visually-hidden"},"Toggle Dropdown",-1)])],2),t("ul",ut,[e.exam_status!=="active"?(l(),n("li",ct,[u(i,{class:"dropdown-item",href:`/admin/exams/${e.id}/change-exam-status?exam_status=active`},{default:c(()=>[...s[25]||(s[25]=[g("Active",-1)])]),_:1},8,["href"])])):w("",!0),e.exam_status!=="inactive"?(l(),n("li",gt,[u(i,{class:"dropdown-item",href:`/admin/exams/${e.id}/change-exam-status?exam_status=inactive`},{default:c(()=>[...s[26]||(s[26]=[g("Inactive",-1)])]),_:1},8,["href"])])):w("",!0),e.exam_status!=="inprogress"?(l(),n("li",bt,[u(i,{class:"dropdown-item",href:`/admin/exams/${e.id}/change-exam-status?exam_status=inprogress`},{default:c(()=>[...s[27]||(s[27]=[g("In Progress",-1)])]),_:1},8,["href"])])):w("",!0)])])]),t("td",null,[t("div",_t,[s[30]||(s[30]=t("button",{class:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true"},"Action",-1)),t("ul",pt,[t("li",null,[u(i,{class:"dropdown-item",href:`/admin/exams/${e.id}`},{default:c(()=>[...s[28]||(s[28]=[g("Detail",-1)])]),_:1},8,["href"])]),t("li",null,[u(i,{class:"dropdown-item",href:`/admin/exams/${e.id}/edit`},{default:c(()=>[...s[29]||(s[29]=[g("Edit",-1)])]),_:1},8,["href"])]),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:S(ht=>o.destroy(e.id),["prevent"])},"Hapus",8,ft)])])])])]))),128)),t("tr",null,[d.exams.data.length?w("",!0):(l(),n("td",vt,"Data Tidak Tersedia"))])])])]),u(A,{links:d.exams.links,align:"end"},null,8,["links"])])])])])],64)}const Pt=N(I,[["render",yt]]);export{Pt as default};
