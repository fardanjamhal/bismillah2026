import{L as E}from"./Layout.9d740512.js";import{L,H as M,r as k,c as n,a as b,w as x,b as t,d as C,g as r,k as u,n as f,t as m,F as y,h,y as T,e as O,i as p,j as D,o as l}from"./app.65838da4.js";import{m as _}from"./index.a854b9a3.js";import{S}from"./sweetalert2.esm.all.5c9cd675.js";import{_ as j}from"./_plugin-vue_export-helper.cdc0426e.js";const B={layout:E,components:{Link:L,Head:M},props:{exam:Object,grade:Object},setup(s){const e=k(localStorage.getItem("collapseDetailTryOutInformation")!==null?JSON.parse(localStorage.getItem("collapseDetailTryOutInformation")):!0),a=k(localStorage.getItem("collapseDetailTryOutExam")!==null?JSON.parse(localStorage.getItem("collapseDetailTryOutExam")):!0);return{repeatExam:()=>{S.fire({title:"Konfirmasi Ulangi Pengerjaan",text:"Mengulangi Ujian Dapat Mempengaruhi Nilai Anda.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ulangi Ujian"}).then(d=>{d.isConfirmed&&(localStorage.setItem("myAnswers",[]),p.Inertia.get(`/user/exams/${s.exam.id}/exam-start?repeat=1`),S.fire({title:"Success!",text:"Silakan Untuk Mengerjakan Kembali.",icon:"success",timer:1e3,showConfirmButton:!1}))})},collapseDetailTryOutInformation:e,collapseDetailTryOutExam:a,toggleCollapseDetailTryOutInformation:()=>{e.value=!e.value,localStorage.setItem("collapseDetailTryOutInformation",JSON.stringify(e.value))},toggleCollapseDetailTryOutExam:()=>{a.value=!a.value,localStorage.setItem("collapseDetailTryOutExam",JSON.stringify(a.value))},isExamActive:d=>{const i=_().tz(d),g=_(s.exam.exam_start_time),v=_(s.exam.exam_end_time);return s.exam.exam_start_time&&i.isSameOrAfter(g)&&s.exam.exam_end_time&&i.isSameOrBefore(v)||s.exam.exam_start_time&&i.isSameOrAfter(g)&&(s.exam.exam_end_time==null||s.exam.exam_end_time==null)||s.exam.exam_end_time&&i.isSameOrBefore(v)&&(s.exam.exam_start_time==null||s.exam.exam_start_time==null)}}}},A={class:"page-wrapper"},H={class:"page-content"},N={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},K={class:"ms-auto"},U={class:"row"},P={class:"col-lg-12"},q={key:0,class:"alert alert-danger border-0"},J=["innerHTML"],V={key:1,class:"alert alert-success border-0"},W=["innerHTML"],z={class:"col-lg-12"},F={class:"card"},G={class:"card-header bg-primary"},Q={class:"float-end","data-bs-toggle":"collapse",href:"#collapseDetailTryOutInformation","aria-expanded":"false"},R={class:"card-body"},X=["innerHTML"],Y={class:"col-lg-12"},Z={class:"card"},$={class:"card-header bg-primary"},ee={class:"float-end","data-bs-toggle":"collapse",href:"#collapseDetailTryOutExam","aria-expanded":"false"},te={class:"card-body"},ae={class:"table mb-0"},le={class:"badge bg-primary"},ne={key:0},se={key:0},ie={key:1},oe={key:0},re={key:0},me={class:"badge bg-success mx-1"},de={key:1},ue={key:1},ge={key:2},xe={key:0,class:"badge bg-warning text-dark"},be={key:1,class:"badge bg-warning text-dark"},fe={key:2},ye={key:0},_e={key:0},ce={key:1,class:"badge bg-danger"},ve={key:1},ke={key:1},he={key:2};function Te(s,e,a,o,w,I){const c=D("Head"),d=D("Link");return l(),n(y,null,[b(c,null,{default:x(()=>{var i;return[t("title",null,m((i=s.$page.props.setting.app_name)!=null?i:"Atur Setting Terlebih Dahulu")+" - Latihan Soal",1)]}),_:1}),t("div",A,[t("div",H,[t("div",N,[e[5]||(e[5]=C('<div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Latihan Soal</li></ol></nav></div>',2)),t("div",K,[b(d,{href:`/user/categories/${a.exam.category_id}/lesson-categories/${a.exam.lesson_category_id}/lessons/${a.exam.lesson_id}/exams`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:x(()=>[...e[4]||(e[4]=[u("Kembali",-1)])]),_:1},8,["href"])])]),t("div",U,[t("div",P,[s.$page.props.session.error?(l(),n("div",q,[t("div",{innerHTML:s.$page.props.session.error},null,8,J)])):r("",!0),s.$page.props.session.success?(l(),n("div",V,[t("div",{innerHTML:s.$page.props.session.success},null,8,W)])):r("",!0)]),t("div",z,[t("div",F,[t("div",G,[t("h5",{class:"mb-0 text-white","data-bs-toggle":"collapse",href:"#collapseDetailTryOutInformation","aria-expanded":"false",onClick:e[0]||(e[0]=(...i)=>o.toggleCollapseDetailTryOutInformation&&o.toggleCollapseDetailTryOutInformation(...i))},[e[6]||(e[6]=u(" Informasi ",-1)),t("a",Q,[t("i",{class:f(["text-white btn btn-danger btn-sm",{"bx bx-chevron-down":o.collapseDetailTryOutInformation,"bx bx-chevron-up":!o.collapseDetailTryOutInformation}])},null,2)])])]),t("div",{class:f(["collapse",{show:o.collapseDetailTryOutInformation,"fade in":!0}]),id:"collapseDetailTryOutInformation"},[t("div",R,[t("div",{class:"ck-content",innerHTML:a.exam.description},null,8,X)])],2)])]),t("div",Y,[t("div",Z,[t("div",$,[t("h5",{class:"mb-0 text-white","data-bs-toggle":"collapse",href:"#collapseDetailTryOutExam","aria-expanded":"false",onClick:e[1]||(e[1]=(...i)=>o.toggleCollapseDetailTryOutExam&&o.toggleCollapseDetailTryOutExam(...i))},[e[7]||(e[7]=u(" Detail Tryout ",-1)),t("a",ee,[t("i",{class:f(["text-white btn btn-danger btn-sm",{"bx bx-chevron-down":o.collapseDetailTryOutExam,"bx bx-chevron-up":!o.collapseDetailTryOutExam}])},null,2)])])]),t("div",{class:f(["collapse",{show:o.collapseDetailTryOutExam,"fade in":!0}]),id:"collapseDetailTryOutExam"},[t("div",te,[t("table",ae,[t("tbody",null,[e[36]||(e[36]=t("tr",null,[t("td",{colspan:"3"},"\xA0")],-1)),t("tr",null,[e[8]||(e[8]=t("th",{width:"300px"},"Peminatan",-1)),e[9]||(e[9]=t("td",{width:"2px"},":",-1)),t("td",null,[t("span",le,m(a.exam.category.name),1)])]),t("tr",null,[e[10]||(e[10]=t("th",null,"Sub peminatan khusus untuk",-1)),e[11]||(e[11]=t("td",null,":",-1)),t("td",null,[a.exam.sub_categories.length?(l(),n("div",ne,[(l(!0),n(y,null,h(a.exam.sub_categories,(i,g)=>(l(),n("div",{key:g,style:{display:"inline"}},[t("span",null,m(i.name),1),g<a.exam.sub_categories.length-1?(l(),n("span",se,", ")):r("",!0)]))),128))])):(l(),n("div",ie,[t("span",null,"Seluruh Peminatan "+m(a.exam.category.name),1)]))])]),t("tr",null,[e[12]||(e[12]=t("th",null,"Kategori Mata Pelajaran",-1)),e[13]||(e[13]=t("td",null,":",-1)),t("td",null,m(a.exam.lesson_category.name),1)]),t("tr",null,[e[14]||(e[14]=t("th",null,"Mata Pelajaran",-1)),e[15]||(e[15]=t("td",null,":",-1)),t("td",null,m(a.exam.lesson.name),1)]),t("tr",null,[e[16]||(e[16]=t("th",null,"Judul Latihan Soal",-1)),e[17]||(e[17]=t("td",null,":",-1)),t("td",null,m(a.exam.title),1)]),t("tr",null,[e[18]||(e[18]=t("th",null,"Jumlah Soal",-1)),e[19]||(e[19]=t("td",null,":",-1)),t("td",null,m(a.exam.question_selection_mode==2?a.exam.number_of_questions:a.exam.question_title.question_count)+" Soal",1)]),t("tr",null,[e[20]||(e[20]=t("th",null,"Durasi",-1)),e[21]||(e[21]=t("td",null,":",-1)),t("td",null,m(a.exam.duration)+" Menit "+m(a.exam.question_title.total_section>1?"/ Kolom":""),1)]),s.$page.props.auth.user.member_type==2?(l(),n("tr",oe,[e[23]||(e[23]=t("th",null,"Untuk Kategori Member",-1)),e[24]||(e[24]=t("td",null,":",-1)),t("td",null,[a.exam.member_categories.length?(l(),n("div",re,[(l(!0),n(y,null,h(a.exam.member_categories,(i,g)=>(l(),n("div",{key:g,style:{display:"inline"}},[t("span",me,m(i.name),1)]))),128))])):(l(),n("div",de,[...e[22]||(e[22]=[t("span",{class:"badge bg-success"},"Seluruh Member & Non Member",-1)])]))])])):r("",!0),a.exam.exam_start_time?(l(),n("tr",ue,[e[25]||(e[25]=t("th",null,"Waktu Akses Mulai Latihan",-1)),e[26]||(e[26]=t("td",null,":",-1)),t("td",null,m(s.formatDateWithTimeHourMinute(a.exam.exam_start_time)),1)])):r("",!0),a.exam.exam_end_time?(l(),n("tr",ge,[e[27]||(e[27]=t("th",null,"Waktu Berakhir Akses Latihan",-1)),e[28]||(e[28]=t("td",null,":",-1)),t("td",null,m(s.formatDateWithTimeHourMinute(a.exam.exam_end_time)),1)])):r("",!0),e[37]||(e[37]=t("tr",null,[t("td",{colspan:"3"},"\xA0")],-1)),t("tr",null,[e[34]||(e[34]=t("td",null,null,-1)),e[35]||(e[35]=t("td",null,null,-1)),t("td",null,[a.exam.exam_status=="inprogress"?(l(),n("span",xe,"In Progress")):r("",!0),a.exam.exam_status=="inactive"?(l(),n("span",be,"Inactive")):r("",!0),a.exam.exam_status=="active"?(l(),n("div",fe,[a.grade?a.grade&&a.grade.is_finished==0?(l(),n("div",ke,[a.exam.repeat_the_exam==2?(l(),n("a",{key:0,href:"#",onClick:e[2]||(e[2]=O(i=>o.repeatExam(),["prevent"])),class:"btn btn-sm btn-secondary m-1"},"Ulangi")):r("",!0),b(d,{href:`/user/exams/${a.exam.id}/exam-start`,class:"btn btn-sm btn-warning"},{default:x(()=>[...e[31]||(e[31]=[u("Lanjut Mengerjakan",-1)])]),_:1},8,["href"])])):a.grade&&a.grade.is_finished==1?(l(),n("div",he,[a.exam.repeat_the_exam==1||a.exam.repeat_the_exam==2?(l(),n("a",{key:0,href:"#",onClick:e[3]||(e[3]=O(i=>o.repeatExam(),["prevent"])),class:"btn btn-sm btn-secondary m-1"},"Ulangi")):r("",!0),b(d,{href:`/user/grades/${a.grade.id}`,class:"btn btn-sm btn-success m-1"},{default:x(()=>[...e[32]||(e[32]=[u("Lihat Nilai",-1)])]),_:1},8,["href"]),a.exam.show_answer_discussion==1?(l(),T(d,{key:1,href:`/user/grades/${a.grade.id}/questions`,class:"btn btn-sm btn-primary m-1"},{default:x(()=>[...e[33]||(e[33]=[u("Pembahasan",-1)])]),_:1},8,["href"])):r("",!0)])):r("",!0):(l(),n("div",ye,[a.exam.exam_start_time||a.exam.exam_end_time?(l(),n("div",_e,[o.isExamActive(s.$page.props.setting.timezone)?(l(),T(d,{key:0,href:`/user/exams/${a.exam.id}/exam-start`,class:"btn btn-sm btn-primary"},{default:x(()=>[...e[29]||(e[29]=[u("Mulai Kerjakan",-1)])]),_:1},8,["href"])):(l(),n("span",ce,"Latihan Soal Tidak Bisa di Akses"))])):(l(),n("div",ve,[b(d,{href:`/user/exams/${a.exam.id}/exam-start`,class:"btn btn-sm btn-primary"},{default:x(()=>[...e[30]||(e[30]=[u("Mulai Kerjakan",-1)])]),_:1},8,["href"])]))]))])):r("",!0)])])])])])],2)])])])])])],64)}const Ee=j(B,[["render",Te]]);export{Ee as default};
