import{L as B}from"./Layout.2aa80b53.js";import{P as D}from"./Pagination.510ca4b4.js";import{L as T,H as A,r as L,c as e,a as n,w as l,b as t,d as v,e as N,v as H,F as p,g as y,f as h,h as w,i as P,j as m,o as a,t as i,n as k,k as c}from"./app.ae09f713.js";import{S as x}from"./sweetalert2.all.cfd94722.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const I={layout:B,components:{Link:T,Head:A,Pagination:D},props:{modules:Object},setup(){const u=L(new URL(document.location).searchParams.get("search"));return{search:u,handleSearch:()=>{w.Inertia.get("/admin/modules",{search:u.value})},destroy:o=>{x.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(b=>{b.isConfirmed&&(w.Inertia.delete(`/admin/modules/${o}`),x.fire({title:"Deleted!",text:"Modul Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}}},j={class:"page-wrapper"},z={class:"page-content"},U=P('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Modul / Materi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Modul / Materi</li></ol></nav></div></div>',1),E={class:"card border-top border-0 border-3 border-primary"},F={class:"card-body"},J={class:"d-lg-flex align-items-center mb-4 gap-3"},K={class:"position-relative"},$=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1),q={class:"ms-auto"},O=t("i",{class:"bx bxs-plus-square"},null,-1),R=c(" Tambah Modul / Materi"),W={class:"table mb-0",style:{"font-size":"10pt"}},G=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"No"),t("th",null,"Kategori"),t("th",null,"Thumbnail"),t("th",null,"Judul"),t("th",null,"Urutan"),t("th",null,"Total Modul"),t("th",null,"Kategori Member"),t("th",null,"Status"),t("th",null,"Actions")])],-1),Q={class:"badge bg-primary"},X={key:0},Y=["src"],Z={key:1},tt=["src"],st={key:0},et={class:"badge bg-success ms-1"},at={key:1},nt=t("span",{class:"badge bg-success ms-1"},"Seluruh Member & Non Member",-1),it=[nt],ot={align:"right"},lt={class:"btn-group"},rt=t("span",{class:"visually-hidden"},"Toggle Dropdown",-1),dt=[rt],ct={class:"dropdown-menu"},ut={key:0},_t=c("Active"),ht={key:1},pt=c("Inactive"),mt={key:2},bt=c("In Progress"),gt={class:"dropdown"},ft=t("button",{class:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true"},"Action",-1),vt={class:"dropdown-menu","data-popper-placement":"top-start","data-popper-reference-hidden":"","data-popper-escaped":""},yt=c("Detail"),wt=c("Edit"),kt=["onClick"],xt={key:0},Mt=t("td",{align:"center",colspan:"9"},"Data Tidak Tersedia",-1),Ct=[Mt];function St(u,_,r,o,b,Bt){const M=m("Head"),d=m("Link"),C=m("Pagination");return a(),e(p,null,[n(M,null,{default:l(()=>{var s;return[t("title",null,i((s=u.$page.props.setting.app_name)!=null?s:"Atur Setting Terlebih Dahulu")+" - Data Modul / Materi",1)]}),_:1}),t("div",j,[t("div",z,[U,t("div",E,[t("div",F,[t("div",J,[t("form",{onSubmit:_[1]||(_[1]=v((...s)=>o.handleSearch&&o.handleSearch(...s),["prevent"]))},[t("div",K,[N(t("input",{type:"text","onUpdate:modelValue":_[0]||(_[0]=s=>o.search=s),class:"form-control ps-5 radius-20",placeholder:"Cari Berdasarkan Judul Materi /Modul....",size:"40",maxlength:"100"},null,512),[[H,o.search]]),$])],32),t("div",q,[n(d,{href:"/admin/modules/create",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:l(()=>[O,R]),_:1})])]),t("table",W,[G,t("tbody",null,[(a(!0),e(p,null,y(r.modules.data,(s,g)=>(a(),e("tr",{key:g},[t("td",null,i(++g+(r.modules.current_page-1)*r.modules.per_page),1),t("td",null,[t("span",Q,i(s.category.name),1)]),t("td",null,[s.thumbnail?(a(),e("div",X,[t("img",{src:"/storage/upload_files/modules/"+s.thumbnail,style:{width:"90px"}},null,8,Y)])):(a(),e("div",Z,[t("img",{src:"/assets/images/img_not_available.jpg",style:{width:"90px"}},null,8,tt)]))]),t("td",null,i(s.title),1),t("td",null,i(s.order),1),t("td",null,i(s.detail_module_count),1),t("td",null,[s.member_categories.length?(a(),e("div",st,[(a(!0),e(p,null,y(s.member_categories,(f,S)=>(a(),e("div",{key:S,style:{display:"inline"}},[t("span",et,i(f.name),1)]))),128))])):(a(),e("div",at,it))]),t("td",ot,[t("div",lt,[t("button",{type:"button",class:k({btn:!0,"btn-sm":!0,"btn-warning":s.status==="inprogress","btn-danger":s.status==="inactive","btn-primary":s.status==="active"})},i(u.capitalizeWords(s.status)),3),t("button",{type:"button",class:k([{btn:!0,"btn-sm":!0,"btn-warning":s.status==="inprogress","btn-danger":s.status==="inactive","btn-primary":s.status==="active","split-bg-warning":s.status==="inprogress","split-bg-danger":s.status==="inactive","split-bg-primary":s.status==="active"},"dropdown-toggle dropdown-toggle-split"]),"data-bs-toggle":"dropdown","aria-expanded":"false"},dt,2),t("ul",ct,[s.status!=="active"?(a(),e("li",ut,[n(d,{class:"dropdown-item",href:`/admin/modules/${s.id}/change-module-status?status=active`},{default:l(()=>[_t]),_:2},1032,["href"])])):h("",!0),s.status!=="inactive"?(a(),e("li",ht,[n(d,{class:"dropdown-item",href:`/admin/modules/${s.id}/change-module-status?status=inactive`},{default:l(()=>[pt]),_:2},1032,["href"])])):h("",!0),s.status!=="inprogress"?(a(),e("li",mt,[n(d,{class:"dropdown-item",href:`/admin/modules/${s.id}/change-module-status?status=inprogress`},{default:l(()=>[bt]),_:2},1032,["href"])])):h("",!0)])])]),t("td",null,[t("div",gt,[ft,t("ul",vt,[t("li",null,[n(d,{class:"dropdown-item",href:`/admin/modules/${s.id}/detail-modules`},{default:l(()=>[yt]),_:2},1032,["href"])]),t("li",null,[n(d,{class:"dropdown-item",href:`/admin/modules/${s.id}/edit`},{default:l(()=>[wt]),_:2},1032,["href"])]),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:v(f=>o.destroy(s.id),["prevent"])},"Hapus",8,kt)])])])])]))),128)),r.modules.data.length?h("",!0):(a(),e("tr",xt,Ct))])]),n(C,{links:r.modules.links,align:"end"},null,8,["links"])])])])])],64)}const Ht=V(I,[["render",St]]);export{Ht as default};
