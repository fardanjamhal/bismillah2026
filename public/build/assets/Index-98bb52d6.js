import{L as C}from"./Layout-80160f1d.js";import{P as T}from"./Pagination-eba5b0b6.js";import{L as S,H as P,l as R,a as b,o as s,c as o,b as _,w as v,d as t,e as y,F as f,i as k,h as i,t as c,f as h,g as O,v as U,n as A,j as x}from"./app-50a2f634.js";import{a as L}from"./index-c612f2c9.js";import{S as p}from"./sweetalert2.esm.all-61741a63.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import"./axios-2725ad78.js";const N={layout:C,components:{Link:S,Head:P,Pagination:T},props:{errors:Object,banks:Object,transactions:Object},setup(){const r=R({top_up_balance:""}),e=m=>{r.top_up_balance=m},l=()=>{x.Inertia.post("/user/account-balances",{top_up_balance:r.top_up_balance})},n=()=>{p.fire({title:"Reedem Voucher",text:"Masukan kode voucher yang kamu miliki",input:"text",icon:"info",inputAttributes:{autocapitalize:"false"},showCancelButton:!0,allowOutsideClick:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Submit",cancelButtonText:"Batal",showLoaderOnConfirm:!0,preConfirm:m=>{L.get("/user/account-balances/reedem-voucher",{params:{code:m}}).then(d=>{d.data.success==!0?p.fire({title:"Reedem Saldo Berhasil.",text:d.data.message,icon:"success",showCancelButton:!1,confirmButtonText:"Oke",allowOutsideClick:!1}).then(u=>{u.isConfirmed&&x.Inertia.get("/user/account-balances")}):p.fire({title:"Gagal",text:d.data.message,icon:"error",showCancelButton:!0,confirmButtonText:"Ulangi",cancelButtonText:"Batal",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",allowOutsideClick:!1}).then(u=>{u.isConfirmed&&n()})}).catch(d=>{console.error("Request failed:",d),p.showValidationMessage(`Request failed: ${d}`)})}})};return{form:r,submit:l,clickBalance:e,reedemAccountBalance:n}},methods:{formatPrice(r){return"Rp."+(r/1).toFixed(2).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},copyText(r){const e=document.createElement("textarea");e.value=r,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},D={class:"page-wrapper"},V={class:"page-content"},j={key:0,class:"alert alert-danger border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2"},F={class:"mt-3"},H={class:"card"},I={class:"card-body"},E={class:"card-footer"},q={class:"card border-top border-0 border-3 border-primary"},z={class:"card-body p-4"},G={class:"row mb-3"},K={class:"col-sm-9"},J={class:"row"},Q={class:"col-lg-3 col-md-3 mb-3"},W={class:"col-lg-3 col-md-3 mb-3"},X={class:"col-lg-3 col-md-3 mb-3"},Y={class:"col-lg-3 col-md-3 mb-3"},Z={class:"row mb-3"},$={class:"col-sm-9"},tt={class:"input-group"},et={key:0,class:"invalid-feedback"},at={class:"card border-top border-0 border-3 border-primary"},st={class:"card-body"},ot={class:"table-responsive"},lt={class:"table mb-0"},nt={key:0},it={key:0,class:"badge bg-primary"},rt={key:1,class:"badge bg-primary"},dt={key:2,class:"badge bg-primary"},ct={key:3,class:"badge bg-primary"},ut={key:0,class:"badge bg-warning"},mt={key:1,class:"badge bg-primary"},pt={key:2,class:"badge bg-danger"},bt={key:3,class:"badge bg-danger"},_t={key:4,class:"badge bg-success"},ft={class:"d-flex order-actions"};function gt(r,e,l,n,m,d){const u=b("Head"),B=b("Link"),w=b("Pagination");return s(),o(f,null,[_(u,null,{default:v(()=>[t("title",null,c(r.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Data Top Up Saldo",1)]),_:1}),t("div",D,[t("div",V,[e[22]||(e[22]=y('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Top Up Saldo</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Top Up Saldo</li></ol></nav></div></div>',1)),Object.keys(l.errors).length>0?(s(),o("div",j,[e[7]||(e[7]=t("strong",null,"Perhatian, pastikan inputan diisi dengan benar.",-1)),t("ul",F,[(s(!0),o(f,null,k(l.errors,a=>(s(),o("li",null,c(a),1))),256))])])):i("",!0),t("div",H,[e[8]||(e[8]=t("div",{class:"card-header bg-primary"},[t("h5",{class:"mb-0 text-white"}," Saldo Sekarang ")],-1)),t("div",I,[t("h3",null,c(d.formatPrice(r.$page.props.auth.user.account_balance)),1)]),t("div",E,[t("button",{class:"btn btn-primary btn-sm",onClick:e[0]||(e[0]=h(a=>n.reedemAccountBalance(),["prevent"]))},"Redeem Saldo")])]),t("form",{onSubmit:e[6]||(e[6]=h((...a)=>n.submit&&n.submit(...a),["prevent"]))},[t("div",q,[e[17]||(e[17]=t("div",{class:"card-header"},[t("h5",{class:"mb-0"}," Top Up Saldo ")],-1)),t("div",z,[t("div",G,[e[13]||(e[13]=t("label",{class:"col-sm-3 col-form-label"},"Pilih Nominal Top Up",-1)),t("div",K,[t("div",J,[t("div",Q,[t("input",{value:"10000",type:"radio",class:"btn-check",name:"options-outlined",id:"primary-outlined-1",autocomplete:"off",onClick:e[1]||(e[1]=a=>n.clickBalance(1e4))}),e[9]||(e[9]=t("label",{class:"btn btn-outline-primary w-100",for:"primary-outlined-1"},"Rp. 10.000",-1))]),t("div",W,[t("input",{value:"30000",type:"radio",class:"btn-check",name:"options-outlined",id:"primary-outlined-2",autocomplete:"off",onClick:e[2]||(e[2]=a=>n.clickBalance(3e4))}),e[10]||(e[10]=t("label",{class:"btn btn-outline-primary w-100",for:"primary-outlined-2"},"Rp. 30.000",-1))]),t("div",X,[t("input",{value:"50000",type:"radio",class:"btn-check",name:"options-outlined",id:"primary-outlined-3",autocomplete:"off",onClick:e[3]||(e[3]=a=>n.clickBalance(5e4))}),e[11]||(e[11]=t("label",{class:"btn btn-outline-primary w-100",for:"primary-outlined-3"},"Rp. 50.000",-1))]),t("div",Y,[t("input",{value:"100000",type:"radio",class:"btn-check",name:"options-outlined",id:"primary-outlined-4",autocomplete:"off",onClick:e[4]||(e[4]=a=>n.clickBalance(1e5))}),e[12]||(e[12]=t("label",{class:"btn btn-outline-primary w-100",for:"primary-outlined-4"},"Rp. 100.000",-1))])])])]),t("div",Z,[e[15]||(e[15]=t("label",{class:"col-sm-3 col-form-label"},"Atau Input Nominal Manual",-1)),t("div",$,[t("div",tt,[e[14]||(e[14]=t("span",{class:"input-group-text",id:"basic-addon1"},"Rp.",-1)),O(t("input",{type:"number",min:"0",class:A(["form-control",{"is-invalid":l.errors.top_up_balance}]),placeholder:"Nominal Top Up","onUpdate:modelValue":e[5]||(e[5]=a=>n.form.top_up_balance=a)},null,2),[[U,n.form.top_up_balance]]),l.errors.top_up_balance?(s(),o("div",et,c(l.errors.top_up_balance),1)):i("",!0)])])]),e[16]||(e[16]=y('<div class="row"><label class="col-sm-3 col-form-label"></label><div class="col-sm-9"><div class="d-md-flex d-grid align-items-center gap-3"><button type="submit" class="btn btn-primary btn-sm px-4">Top Up Saldo Sekarang</button></div></div></div>',1))])])],32),t("div",at,[t("div",st,[e[21]||(e[21]=t("div",{class:"d-flex align-items-center"},[t("div",null,[t("h6",{class:"mb-3"},"Riwayat Top Up Saldo")])],-1)),t("div",ot,[t("table",lt,[e[20]||(e[20]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"No"),t("th",null,"Kode Transaksi"),t("th",null,"Deskripsi"),t("th",null,"Tanggal Transaksi"),t("th",null,"Total Topup Saldo"),t("th",null,"Metode Pembayaran"),t("th",null,"Status"),t("th",null,"Actions")])],-1)),t("tbody",null,[l.transactions.data.length?i("",!0):(s(),o("tr",nt,[...e[18]||(e[18]=[t("td",{colspan:"8",align:"center"},"Belum ada transaksi",-1)])])),(s(!0),o(f,null,k(l.transactions.data,(a,g)=>(s(),o("tr",{key:g},[t("td",null,c(++g+(l.transactions.current_page-1)*l.transactions.per_page),1),t("td",null,c(a.code),1),t("td",null,c(a.description),1),t("td",null,c(a.created_at),1),t("td",null,c(d.formatPrice(a.total_payment)),1),t("td",null,[a.payment_method=="account_balance"?(s(),o("span",it,"Saldo Akun")):i("",!0),a.payment_method=="automatic_transfer_midtrans"?(s(),o("span",rt,"Transfer Otomatis")):i("",!0),a.payment_method=="manual_transfer"?(s(),o("span",dt,"Transfer Manual")):i("",!0),a.payment_method=="not_payment_method"?(s(),o("span",ct,"Tanpa Metode Pembayaran")):i("",!0)]),t("td",null,[a.transaction_status=="pending"?(s(),o("span",ut,"Pending")):i("",!0),a.transaction_status=="paid"?(s(),o("span",mt,"Paid")):i("",!0),a.transaction_status=="expired"?(s(),o("span",pt,"Expired")):i("",!0),a.transaction_status=="failed"?(s(),o("span",bt,"Failed")):i("",!0),a.transaction_status=="done"?(s(),o("span",_t,"Done")):i("",!0)]),t("td",null,[t("div",ft,[_(B,{href:`/user/transactions/${a.id}`},{default:v(()=>[...e[19]||(e[19]=[t("i",{class:"bx bx-grid-alt"},null,-1)])]),_:1},8,["href"])])])]))),128))])]),_(w,{links:l.transactions.links,align:"end"},null,8,["links"])])])])])])],64)}const Ct=M(N,[["render",gt]]);export{Ct as default};
