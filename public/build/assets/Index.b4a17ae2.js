import{L as w}from"./Layout.0f695962.js";import{P as S}from"./Pagination.0a062935.js";import{L as j,H as L,p as B,r as f,h as y,c as r,a as m,w as d,b as e,e as T,v as M,d as P,F as u,g as O,f as v,i as U,j as h,o,t as g,W as p,k as x}from"./app.6c999467.js";import{S as k}from"./sweetalert2.all.91dbb82a.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const N={layout:w,components:{Link:j,Head:L,Pagination:S},props:{exams:Object,categoryId:Object,lessonCategoryId:Object,lessonId:Object,userMemberCategories:Object,subCategories:Object,session:Object},setup(t){const n=B({search:f(new URL(document.location).searchParams.get("search")),sub_category_id:f(new URL(document.location).searchParams.get("sub_category_id")||"")}),a=()=>{y.Inertia.get(`/user/categories/${t.categoryId}/lesson-categories/${t.lessonCategoryId}/lessons/${t.lessonId}/exams`,{search:n.search,sub_category_id:n.sub_category_id})};return t.session&&t.session.success&&k.fire({title:"Sukses",text:t.session.success,icon:"success"}),t.session&&t.session.error&&k.fire({title:"Peringatan",text:t.session.error,icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Top Up Saldo",cancelButtonText:"Tidak"}).then(c=>{c.isConfirmed&&y.Inertia.get("/user/account-balances")}),{form:n,handleSearch:a,checkMemberCategories:c=>{if(c.length>0){const b=c.map(l=>l.id);return t.userMemberCategories.some(l=>b.includes(l.member_category_id))}else return!0}}},methods:{formatPrice(t){return(t/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},$={class:"page-wrapper"},H={class:"page-content"},D={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},F=U('<div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal22</li></ol></nav></div>',2),A={class:"ms-auto"},K=x("Kembali"),R=e("hr",null,null,-1),q={class:"card"},E={class:"card-body bg-light p-3 rounded-3"},J={class:"input-group flex-md-nowrap flex-wrap"},W=e("i",{class:"bx bx-filter"},null,-1),z=[W],G=e("i",{class:"bx bx-refresh"},null,-1),Q={class:"card mb-0"},X={class:"card-body p-3"},Y={class:"list-group"},Z={class:"exam-title"},ee={class:"text-dark fw-semibold mb-0"},se={class:"exam-action"},te=x("Kerjakan"),ae={key:0},oe={key:1},ne={key:1,class:"list-group-item text-center"},re=e("h6",null,"Tryout Tidak Tersedia",-1),ie=[re],ce={key:0,class:"row mb-3"},le={class:"col-lg-12"},de={class:"d-flex justify-content-center",style:{"min-height":"0vh"}};function _e(t,n,a,i,c,b){const l=h("Head"),_=h("Link"),C=h("Pagination");return o(),r(u,null,[m(l,null,{default:d(()=>{var s;return[e("title",null,g((s=t.$page.props.setting.app_name)!=null?s:"Atur Setting Terlebih Dahulu")+" - Soal",1)]}),_:1}),e("div",$,[e("div",H,[e("div",D,[F,e("div",A,[m(_,{href:`/user/categories/${a.categoryId}/lesson-categories/${a.lessonCategoryId}/lessons`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:d(()=>[K]),_:1},8,["href"])])]),R,e("div",q,[e("div",E,[e("div",J,[T(e("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>i.form.search=s),class:"form-control form-control-sm sm-2",placeholder:"Judul Latihan ...."},null,512),[[M,i.form.search]]),e("button",{onClick:n[1]||(n[1]=P((...s)=>i.handleSearch&&i.handleSearch(...s),["prevent"])),class:"btn btn-primary btn-sm"},z),m(_,{href:`/user/categories/${a.categoryId}/lesson-categories/${a.lessonCategoryId}/lessons/${a.lessonId}/exams`,class:"btn btn-danger btn-sm"},{default:d(()=>[G]),_:1},8,["href"])])])]),e("div",Q,[e("div",X,[e("div",Y,[a.exams.data.length?(o(!0),r(u,{key:0},O(a.exams.data,(s,I)=>(o(),r("div",{class:"list-group-item list-group-item-action p-3 d-flex justify-content-between align-items-center border rounded shadow-sm",key:I},[e("div",Z,[e("h6",ee,g(s.title),1)]),e("div",se,[t.$page.props.setting.practice_question_sales_type==2?(o(),r(u,{key:0},[i.checkMemberCategories(s.member_categories)==!0?(o(),p(_,{key:0,href:`/user/categories/${s.category_id}/lesson-categories/${s.lesson_category_id}/lessons/${s.lesson_id}/exams/${s.id}`,class:"btn btn-sm btn-primary me-1"},{default:d(()=>[te]),_:2},1032,["href"])):(o(),p(_,{key:1,href:`/user/vouchers?category_id=${s.category_id}`,class:"btn btn-outline-success"},{default:d(()=>[s.member_categories.length==1?(o(),r("span",ae,"Upgrade "+g(s.member_categories[0]?s.member_categories[0].name:""),1)):(o(),r("span",oe,"Upgrade Member"))]),_:2},1032,["href"]))],64)):v("",!0)])]))),128)):(o(),r("div",ne,ie))])])]),a.exams.data.length?(o(),r("div",ce,[e("div",le,[e("div",de,[m(C,{links:a.exams.links},null,8,["links"])])])])):v("",!0)])])],64)}const fe=V(N,[["render",_e]]);export{fe as default};
