import{L as C}from"./Layout.832db21f.js";import{P as T}from"./Pagination.a01a77bf.js";import{L as S,H as P,p as R,c as s,a as _,w as g,b as e,F as b,g as v,f as i,t as d,d as y,e as O,v as U,n as A,h as k,i as x,j as h,o}from"./app.ec49e899.js";import{a as L}from"./index.2dcb7b4d.js";import{S as p}from"./sweetalert2.all.eb0547e6.js";import{_ as M}from"./_plugin-vue_export-helper.cdc0426e.js";const N={layout:C,components:{Link:S,Head:P,Pagination:T},props:{errors:Object,banks:Object,transactions:Object},setup(){const r=R({top_up_balance:""}),a=m=>{r.top_up_balance=m},n=()=>{k.Inertia.post("/user/account-balances",{top_up_balance:r.top_up_balance})},l=()=>{p.fire({title:"Reedem Voucher",text:"Masukan kode voucher yang kamu miliki",input:"text",icon:"info",inputAttributes:{autocapitalize:"false"},showCancelButton:!0,allowOutsideClick:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Submit",cancelButtonText:"Batal",showLoaderOnConfirm:!0,preConfirm:m=>{L.get("/user/account-balances/reedem-voucher",{params:{code:m}}).then(c=>{c.data.success==!0?p.fire({title:"Reedem Saldo Berhasil.",text:c.data.message,icon:"success",showCancelButton:!1,confirmButtonText:"Oke",allowOutsideClick:!1}).then(u=>{u.isConfirmed&&k.Inertia.get("/user/account-balances")}):p.fire({title:"Gagal",text:c.data.message,icon:"error",showCancelButton:!0,confirmButtonText:"Ulangi",cancelButtonText:"Batal",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",allowOutsideClick:!1}).then(u=>{u.isConfirmed&&l()})}).catch(c=>{console.error("Request failed:",c),p.showValidationMessage(`Request failed: ${c}`)})}})};return{form:r,submit:n,clickBalance:a,reedemAccountBalance:l}},methods:{formatPrice(r){return"Rp."+(r/1).toFixed(2).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},copyText(r){const a=document.createElement("textarea");a.value=r,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)}}},D={class:"page-wrapper"},V={class:"page-content"},j=x('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Top Up Saldo</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Top Up Saldo</li></ol></nav></div></div>',1),F={key:0,class:"alert alert-danger border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2"},H=e("strong",null,"Perhatian, pastikan inputan diisi dengan benar.",-1),I={class:"mt-3"},E={class:"card"},q=e("div",{class:"card-header bg-primary"},[e("h5",{class:"mb-0 text-white"}," Saldo Sekarang ")],-1),z={class:"card-body"},G={class:"card-footer"},K={class:"card border-top border-0 border-3 border-primary"},J=e("div",{class:"card-header"},[e("h5",{class:"mb-0"}," Top Up Saldo ")],-1),Q={class:"card-body p-4"},W={class:"row mb-3"},X=e("label",{class:"col-sm-3 col-form-label"},"Pilih Nominal Top Up",-1),Y={class:"col-sm-9"},Z={class:"row"},$={class:"col-lg-3 col-md-3 mb-3"},ee=e("label",{class:"btn btn-outline-primary w-100",for:"primary-outlined-1"},"Rp. 10.000",-1),te={class:"col-lg-3 col-md-3 mb-3"},ae=e("label",{class:"btn btn-outline-primary w-100",for:"primary-outlined-2"},"Rp. 30.000",-1),se={class:"col-lg-3 col-md-3 mb-3"},oe=e("label",{class:"btn btn-outline-primary w-100",for:"primary-outlined-3"},"Rp. 50.000",-1),ne={class:"col-lg-3 col-md-3 mb-3"},le=e("label",{class:"btn btn-outline-primary w-100",for:"primary-outlined-4"},"Rp. 100.000",-1),ie={class:"row mb-3"},re=e("label",{class:"col-sm-3 col-form-label"},"Atau Input Nominal Manual",-1),ce={class:"col-sm-9"},de={class:"input-group"},ue=e("span",{class:"input-group-text",id:"basic-addon1"},"Rp.",-1),me={key:0,class:"invalid-feedback"},pe=x('<div class="row"><label class="col-sm-3 col-form-label"></label><div class="col-sm-9"><div class="d-md-flex d-grid align-items-center gap-3"><button type="submit" class="btn btn-primary btn-sm px-4">Top Up Saldo Sekarang</button></div></div></div>',1),_e={class:"card border-top border-0 border-3 border-primary"},be={class:"card-body"},he=e("div",{class:"d-flex align-items-center"},[e("div",null,[e("h6",{class:"mb-3"},"Riwayat Top Up Saldo")])],-1),fe={class:"table-responsive"},ge={class:"table mb-0"},ve=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"No"),e("th",null,"Kode Transaksi"),e("th",null,"Deskripsi"),e("th",null,"Tanggal Transaksi"),e("th",null,"Total Topup Saldo"),e("th",null,"Metode Pembayaran"),e("th",null,"Status"),e("th",null,"Actions")])],-1),ye={key:0},ke=e("td",{colspan:"8",align:"center"},"Belum ada transaksi",-1),xe=[ke],Be={key:0,class:"badge bg-primary"},we={key:1,class:"badge bg-primary"},Ce={key:2,class:"badge bg-primary"},Te={key:3,class:"badge bg-primary"},Se={key:0,class:"badge bg-warning"},Pe={key:1,class:"badge bg-primary"},Re={key:2,class:"badge bg-danger"},Oe={key:3,class:"badge bg-danger"},Ue={key:4,class:"badge bg-success"},Ae={class:"d-flex order-actions"},Le=e("i",{class:"bx bx-grid-alt"},null,-1);function Me(r,a,n,l,m,c){const u=h("Head"),B=h("Link"),w=h("Pagination");return o(),s(b,null,[_(u,null,{default:g(()=>{var t;return[e("title",null,d((t=r.$page.props.setting.app_name)!=null?t:"Atur Setting Terlebih Dahulu")+" - Data Top Up Saldo",1)]}),_:1}),e("div",D,[e("div",V,[j,Object.keys(n.errors).length>0?(o(),s("div",F,[H,e("ul",I,[(o(!0),s(b,null,v(n.errors,t=>(o(),s("li",null,d(t),1))),256))])])):i("",!0),e("div",E,[q,e("div",z,[e("h3",null,d(c.formatPrice(r.$page.props.auth.user.account_balance)),1)]),e("div",G,[e("button",{class:"btn btn-primary btn-sm",onClick:a[0]||(a[0]=y(t=>l.reedemAccountBalance(),["prevent"]))},"Redeem Saldo")])]),e("form",{onSubmit:a[6]||(a[6]=y((...t)=>l.submit&&l.submit(...t),["prevent"]))},[e("div",K,[J,e("div",Q,[e("div",W,[X,e("div",Y,[e("div",Z,[e("div",$,[e("input",{value:"10000",type:"radio",class:"btn-check",name:"options-outlined",id:"primary-outlined-1",autocomplete:"off",onClick:a[1]||(a[1]=t=>l.clickBalance(1e4))}),ee]),e("div",te,[e("input",{value:"30000",type:"radio",class:"btn-check",name:"options-outlined",id:"primary-outlined-2",autocomplete:"off",onClick:a[2]||(a[2]=t=>l.clickBalance(3e4))}),ae]),e("div",se,[e("input",{value:"50000",type:"radio",class:"btn-check",name:"options-outlined",id:"primary-outlined-3",autocomplete:"off",onClick:a[3]||(a[3]=t=>l.clickBalance(5e4))}),oe]),e("div",ne,[e("input",{value:"100000",type:"radio",class:"btn-check",name:"options-outlined",id:"primary-outlined-4",autocomplete:"off",onClick:a[4]||(a[4]=t=>l.clickBalance(1e5))}),le])])])]),e("div",ie,[re,e("div",ce,[e("div",de,[ue,O(e("input",{type:"number",min:"0",class:A(["form-control",{"is-invalid":n.errors.top_up_balance}]),placeholder:"Nominal Top Up","onUpdate:modelValue":a[5]||(a[5]=t=>l.form.top_up_balance=t)},null,2),[[U,l.form.top_up_balance]]),n.errors.top_up_balance?(o(),s("div",me,d(n.errors.top_up_balance),1)):i("",!0)])])]),pe])])],32),e("div",_e,[e("div",be,[he,e("div",fe,[e("table",ge,[ve,e("tbody",null,[n.transactions.data.length?i("",!0):(o(),s("tr",ye,xe)),(o(!0),s(b,null,v(n.transactions.data,(t,f)=>(o(),s("tr",{key:f},[e("td",null,d(++f+(n.transactions.current_page-1)*n.transactions.per_page),1),e("td",null,d(t.code),1),e("td",null,d(t.description),1),e("td",null,d(t.created_at),1),e("td",null,d(c.formatPrice(t.total_payment)),1),e("td",null,[t.payment_method=="account_balance"?(o(),s("span",Be,"Saldo Akun")):i("",!0),t.payment_method=="automatic_transfer_midtrans"?(o(),s("span",we,"Transfer Otomatis")):i("",!0),t.payment_method=="manual_transfer"?(o(),s("span",Ce,"Transfer Manual")):i("",!0),t.payment_method=="not_payment_method"?(o(),s("span",Te,"Tanpa Metode Pembayaran")):i("",!0)]),e("td",null,[t.transaction_status=="pending"?(o(),s("span",Se,"Pending")):i("",!0),t.transaction_status=="paid"?(o(),s("span",Pe,"Paid")):i("",!0),t.transaction_status=="expired"?(o(),s("span",Re,"Expired")):i("",!0),t.transaction_status=="failed"?(o(),s("span",Oe,"Failed")):i("",!0),t.transaction_status=="done"?(o(),s("span",Ue,"Done")):i("",!0)]),e("td",null,[e("div",Ae,[_(B,{href:`/user/transactions/${t.id}`},{default:g(()=>[Le]),_:2},1032,["href"])])])]))),128))])]),_(w,{links:n.transactions.links,align:"end"},null,8,["links"])])])])])])],64)}const Ie=M(N,[["render",Me]]);export{Ie as default};
