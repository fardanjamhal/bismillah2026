import{L as P}from"./Layout.0d76d07d.js";import{P as B}from"./Pagination.ace2954f.js";import{L,H as T,p as z,r as I,h as S,c as o,a as y,w as n,b as t,e as w,v as K,q as U,F as _,g as f,d as O,f as a,i as V,j as k,o as s,t as c,W as d,k as p,n as N}from"./app.491e8c84.js";import{S as j}from"./sweetalert2.all.54f008f8.js";import{_ as R}from"./_plugin-vue_export-helper.cdc0426e.js";const H={layout:P,components:{Link:L,Head:T,Pagination:B},props:{exams:Object,categoryId:Object,lessonCategoryId:Object,lessonId:Object,userMemberCategories:Object,subCategories:Object,session:Object},setup(r){const g=z({search:I(new URL(document.location).searchParams.get("search")),sub_category_id:I(new URL(document.location).searchParams.get("sub_category_id")||"")}),l=()=>{S.Inertia.get(`/user/categories/${r.categoryId}/lesson-categories/${r.lessonCategoryId}/lessons/${r.lessonId}/exams`,{search:g.search,sub_category_id:g.sub_category_id})};return r.session&&r.session.success&&j.fire({title:"Sukses",text:r.session.success,icon:"success"}),r.session&&r.session.error&&j.fire({title:"Peringatan",text:r.session.error,icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Top Up Saldo",cancelButtonText:"Tidak"}).then(h=>{h.isConfirmed&&S.Inertia.get("/user/account-balances")}),{form:g,handleSearch:l,checkMemberCategories:h=>{if(h.length>0){const b=h.map(m=>m.id);return r.userMemberCategories.some(m=>b.includes(m.member_category_id))}else return!0}}},methods:{formatPrice(r){return(r/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},D={class:"page-wrapper"},E={class:"page-content"},F={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},A=V('<div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal</li></ol></nav></div>',2),W={class:"ms-auto"},G=p("Kembali"),J=t("hr",null,null,-1),Q={class:"card"},X={class:"card-body bg-light p-3 rounded-3"},Y={class:"input-group flex-md-nowrap flex-wrap"},Z=t("option",{value:""},"[ Kategori ]",-1),x=["value"],ee=t("i",{class:"bx bx-filter"},null,-1),se=[ee],te=t("i",{class:"bx bx-refresh"},null,-1),re={class:"card mb-0"},oe={class:"card-body p-3"},ae={class:"list-group"},ne={class:"d-flex flex-column flex-md-row"},ie={class:"flex-grow-1 text-center text-sm-start"},ce={class:"my-2"},le={class:"mb-1"},_e={key:1,class:"badge bg-danger"},de={class:"mb-1"},ge={key:1,class:"badge bg-success"},ue={class:"d-flex flex-column action-button-exams text-center text-md-end"},pe={key:0},be=t("span",{class:"badge bg-success",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"2"}},"Enrolled",-1),he=t("span",{class:"badge bg-success",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"2"}},"Enrolled",-1),me=t("span",{class:"badge bg-success",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"2"}},"Enrolled",-1),ye={key:1},fe={key:0},ke={key:0},ve={class:"card-price"},$e={key:1},Ce={class:"text-dark"},Me={class:"badge bg-danger mx-1"},Ie=t("br",null,null,-1),Se={key:2},we=t("span",{class:"badge bg-warning text-dark",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"1"}},"Gratis",-1),je=[we],qe={key:0},Pe=p("Kerjakan"),Be=p("Beli"),Le=p("Kerjakan"),Te={key:0},ze={key:1},Ke=p("Kerjakan"),Ue=p("Kerjakan"),Oe=p("Beli"),Ve={key:0},Ne={key:1},Re=p("Kerjakan"),He=t("br",null,null,-1),De={class:"badge bg-success"},Ee={key:1,class:"list-group-item list-group-item-action order"},Fe=t("h6",{class:"text-center"},"Tryout Tidak Tersedia",-1),Ae=[Fe],We={key:0,class:"row mb-3"},Ge={class:"col-lg-12"},Je={class:"d-flex justify-content-center",style:{"min-height":"0vh"}};function Qe(r,g,l,i,h,b){const m=k("Head"),u=k("Link"),v=k("tempate"),q=k("Pagination");return s(),o(_,null,[y(m,null,{default:n(()=>{var e;return[t("title",null,c((e=r.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Soal",1)]}),_:1}),t("div",D,[t("div",E,[t("div",F,[A,t("div",W,[y(u,{href:`/user/categories/${l.categoryId}/lesson-categories/${l.lessonCategoryId}/lessons`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:n(()=>[G]),_:1},8,["href"])])]),J,t("div",Q,[t("div",X,[t("div",Y,[w(t("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=e=>i.form.search=e),class:"form-control form-control-sm sm-2",placeholder:"Judul Latihan ...."},null,512),[[K,i.form.search]]),w(t("select",{"onUpdate:modelValue":g[1]||(g[1]=e=>i.form.sub_category_id=e),class:"form-control form-control-sm sm-2"},[Z,(s(!0),o(_,null,f(l.subCategories,(e,$)=>(s(),o("option",{key:$,value:e.id},c(e.name),9,x))),128))],512),[[U,i.form.sub_category_id]]),t("button",{onClick:g[2]||(g[2]=O((...e)=>i.handleSearch&&i.handleSearch(...e),["prevent"])),class:"btn btn-primary btn-sm"},se),y(u,{href:`/user/categories/${l.categoryId}/lesson-categories/${l.lessonCategoryId}/lessons/${l.lessonId}/exams`,class:"btn btn-danger btn-sm"},{default:n(()=>[te]),_:1},8,["href"])])])]),t("div",re,[t("div",oe,[t("div",ae,[l.exams.data.length?(s(!0),o(_,{key:0},f(l.exams.data,(e,$)=>(s(),o("div",{class:"list-group-item list-group-item-action p-2 mb-2 border",key:$},[t("div",ne,[t("div",ie,[t("h6",ce,c(e.title),1),t("p",le,[e.sub_categories&&e.sub_categories.length?(s(!0),o(_,{key:0},f(e.sub_categories,(C,M)=>(s(),o("span",{key:M,class:"badge bg-danger me-1"},c(C.name),1))),128)):(s(),o("span",_e," Seluruh Peminatan "+c(e.category.name),1))]),t("p",de,[(r.$page.props.setting.practice_question_sales_type==2||r.$page.props.setting.practice_question_sales_type==3)&&r.$page.props.auth.user.member_type==2?(s(),o(_,{key:0},[e.member_categories&&e.member_categories.length?(s(!0),o(_,{key:0},f(e.member_categories,(C,M)=>(s(),o("span",{key:M,class:"badge bg-success me-1"},c(C.name),1))),128)):(s(),o("span",ge," Seluruh Member & Non Member "))],64)):a("",!0)])]),t("div",ue,[r.$page.props.auth.user.member_type==2?(s(),o("div",pe,[r.$page.props.setting.practice_question_sales_type==1&&e.user_access.length>0?(s(),d(v,{key:0},{default:n(()=>[be]),_:1})):a("",!0),r.$page.props.setting.practice_question_sales_type==2&&e.member_categories.length>0&&i.checkMemberCategories(e.member_categories)==!0?(s(),d(v,{key:1},{default:n(()=>[he]),_:1})):a("",!0),r.$page.props.setting.practice_question_sales_type==3&&(e.user_access.length>0||i.checkMemberCategories(e.member_categories)==!0)?(s(),d(v,{key:2},{default:n(()=>[me]),_:1})):a("",!0)])):a("",!0),(r.$page.props.setting.practice_question_sales_type==1||r.$page.props.setting.practice_question_sales_type==3)&&r.$page.props.auth.user.member_type==2?(s(),o("div",ye,[e.price_type==2?(s(),o("div",fe,[e.price_before_discount==e.price_after_discount?(s(),o("div",ke,[t("h6",ve,"Rp."+c(b.formatPrice(e.price_after_discount)),1)])):(s(),o("div",$e,[t("h6",Ce,[t("sup",null,[t("s",null,"Rp."+c(b.formatPrice(e.price_before_discount)),1),t("span",Me,c(b.formatPrice((e.price_before_discount-e.price_after_discount)/e.price_before_discount*100))+"% ",1)]),Ie,p(" Rp."+c(b.formatPrice(e.price_after_discount)),1)])]))])):a("",!0)])):a("",!0),r.$page.props.setting.practice_question_sales_type==1&&e.price_type==1||r.$page.props.setting.practice_question_sales_type==2&&e.member_categories.length==0||r.$page.props.setting.practice_question_sales_type==3&&(e.member_categories.length==0||e.price_type==1)?(s(),o("div",Se,je)):a("",!0),t("div",null,[e.exam_status=="active"?(s(),o("div",qe,[r.$page.props.auth.user.member_type==2&&r.$page.props.setting.enable_practice_question_sales==1?(s(),o(_,{key:0},[r.$page.props.setting.practice_question_sales_type==1?(s(),o(_,{key:0},[e.user_access.length>0||e.price_type==1?(s(),d(u,{key:0,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:n(()=>[Pe]),_:2},1032,["href"])):(s(),d(u,{key:1,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/exam/${e.id}/buy`},{default:n(()=>[Be]),_:2},1032,["href"]))],64)):a("",!0),r.$page.props.setting.practice_question_sales_type==2?(s(),o(_,{key:1},[i.checkMemberCategories(e.member_categories)==!0?(s(),d(u,{key:0,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:n(()=>[Le]),_:2},1032,["href"])):(s(),d(u,{key:1,href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-sm btn-success"},{default:n(()=>[e.member_categories.length==1?(s(),o("span",Te,"Upgrade Ke "+c(e.member_categories[0]?e.member_categories[0].name:""),1)):(s(),o("span",ze,"Upgrade Member"))]),_:2},1032,["href"]))],64)):a("",!0),r.$page.props.setting.practice_question_sales_type==3?(s(),o(_,{key:2},[e.user_access.length>0&&i.checkMemberCategories(e.member_categories)==!0?(s(),d(u,{key:0,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:n(()=>[Ke]),_:2},1032,["href"])):a("",!0),(e.user_access.length==0||i.checkMemberCategories(e.member_categories)==!1)&&(e.user_access.length>0||i.checkMemberCategories(e.member_categories)==!0||e.price_type==1)?(s(),d(u,{key:1,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:n(()=>[Ue]),_:2},1032,["href"])):a("",!0),e.user_access.length==0&&e.price_type==2?(s(),d(u,{key:2,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/exam/${e.id}/buy`},{default:n(()=>[Oe]),_:2},1032,["href"])):a("",!0),i.checkMemberCategories(e.member_categories)==!1?(s(),d(u,{key:3,href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-sm btn-success"},{default:n(()=>[e.member_categories.length==1?(s(),o("span",Ve,"Upgrade Ke "+c(e.member_categories[0]?e.member_categories[0].name:""),1)):(s(),o("span",Ne,"Upgrade Member"))]),_:2},1032,["href"])):a("",!0)],64)):a("",!0)],64)):(s(),d(u,{key:1,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:n(()=>[Re]),_:2},1032,["href"]))])):(s(),o(_,{key:1},[t("span",{class:N(["badge",{"bg-danger":e.exam_status=="inactive","bg-warning":e.exam_status==="inprogress"}])},c(e.exam_status==="inactive"?"Inactive":"In Progress"),3),e.exam_status=="inprogress"&&e.release_date?(s(),o(_,{key:0},[He,t("span",De,"Rilis "+c(r.formatDateWithTimeHourMinute(e.release_date)),1)],64)):a("",!0)],64))])])])]))),128)):(s(),o("div",Ee,Ae))])])]),l.exams.data.length?(s(),o("div",We,[t("div",Ge,[t("div",Je,[y(q,{links:l.exams.links},null,8,["links"])])])])):a("",!0)])])],64)}const ss=R(H,[["render",Qe]]);export{ss as default};
