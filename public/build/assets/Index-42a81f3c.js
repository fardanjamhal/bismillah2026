import{L as S}from"./Layout-80160f1d.js";import{p as L,e as B,t as M}from"./index.es-eaddaab2.js";import{P as H}from"./Pagination-eba5b0b6.js";import{L as C,H as P,l as D,r as A,a as T,o as i,c as l,b as f,w as h,d as t,e as I,f as y,t as o,h as a,F as p,i as x,n as b,q as j,k as m,g as E,v as J,j as _}from"./app-50a2f634.js";import{S as c}from"./sweetalert2.esm.all-61741a63.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";const F={layout:S,components:{Link:C,Head:P,Pagination:H,MathJax:L},props:{errors:Object,questions:Object,questionTitle:Object},mounted(){let r=document.createElement("script");r.setAttribute("src","https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"),document.head.appendChild(r);function e(){const n=document.getElementById("elementId");M(n)}B({},e)},setup(r){const e=D({type:"number",file:""}),n=()=>{c.fire({title:"Pastikan Format File Sesuai",text:"Jika format tidak sesuai maka seluruh soal tidak akan berhasil di import.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Import"}).then(s=>{s.isConfirmed&&_.Inertia.post(`/admin/question-titles/${r.questionTitle.id}/import-excel`,{file:e.file},{forceFormData:!0,onFinish:()=>{e.file="",document.querySelector("#fileInput").value=""}})})},d=()=>{_.Inertia.post(`/admin/question-titles/${r.questionTitle.id}/questions/generate-question`,{type:e.type},{onSuccess:()=>{c.fire({title:"Success!",text:"Soal Berhasil Di Generate!.",icon:"success",showConfirmButton:!1,timer:2e3})}})},k=A(new URL(document.location).searchParams.get("search"));return{search:k,form:e,handleSearch:()=>{_.Inertia.get(`/admin/question-titles/${r.questionTitle.id}/questions`,{search:k.value})},destroy:s=>{c.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(u=>{u.isConfirmed&&(_.Inertia.delete(`/admin/question-titles/${r.questionTitle.id}/questions/${s}`),c.fire({title:"Deleted!",text:"Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},generateQuestion:d,destroyQuestionTitle:s=>{c.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(u=>{u.isConfirmed&&(_.Inertia.delete(`/admin/question-titles/${s}`),c.fire({title:"Deleted!",text:"Judul Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},importExcel:n,destroyAllQuestion:s=>{c.fire({title:"Apakah anda yakin akan menghapus seluruh soal ?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(u=>{u.isConfirmed&&(_.Inertia.get(`/admin/question-titles/${r.questionTitle.id}/delete-question`),c.fire({title:"Deleted!",text:"Seluruh Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}}},K={class:"page-wrapper"},Q={class:"page-content"},O={class:"card border-top border-0 border-3 border-primary"},V={class:"card-body"},G={class:"d-lg-flex align-items-center mb-4 gap-3"},R={class:"ms-auto"},U={class:"tab-content py-3"},z={class:"tab-pane fade active show",id:"primaryhome",role:"tabpanel"},Y={class:"table mb-0"},X={class:"badge bg-primary"},W={key:0},Z={class:"badge bg-success"},$={key:1},tt={key:0},et={key:1},nt={key:2},st={key:3},it={key:2},lt=["innerHTML"],at={class:"tab-pane fade",id:"primaryprofile",role:"tabpanel"},ot={class:"table table-bordered mb-0"},rt=["href"],dt=["href"],ut={key:0,align:"center",colspan:"4"},mt={key:0,class:"alert alert-success border-0 bg-success alert-dismissible fade show py-2"},ct={class:"d-flex align-items-center"},bt={class:"ms-3"},gt={class:"text-white"},ft={key:1,class:"alert alert-danger border-0 bg-danger alert-dismissible fade show py-2"},ht={class:"d-flex align-items-center"},_t={class:"ms-3"},yt={class:"text-white"},pt={key:2,class:"alert alert-danger border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2"},kt={class:"mt-3"},Tt={class:"card"},xt={class:"card-body"},vt={class:"d-lg-flex align-items-center gap-3"},qt={class:"dropdown-menu"},wt=["href"],St=["href"],Lt=["href"],Bt={class:"btn-group me-2"},Mt={class:"card border-top border-0 border-3 border-primary"},Ht={class:"card-body"},Ct={class:"d-lg-flex align-items-center mb-4 gap-3"},Pt={class:"position-relative"},Dt={class:"ms-auto"},At={class:"table mb-0"},It={key:0},jt={controls:""},Et=["src"],Jt=["src"],Nt=["innerHTML"],Ft={key:1,type:"A"},Kt=["innerHTML"],Qt=["innerHTML"],Ot=["innerHTML"],Vt=["innerHTML"],Gt=["innerHTML"],Rt={key:2,type:"A"},Ut=["innerHTML"],zt=["innerHTML"],Yt=["innerHTML"],Xt=["innerHTML"],Wt=["innerHTML"],Zt={key:3,class:"badge rounded-pill text-primary bg-light-primary p-2 text-uppercase"},$t={class:"d-flex order-actions"},te=["onClick"],ee={key:0,align:"center",colspan:"3"};function ne(r,e,n,d,k,w){const v=T("Head"),g=T("Link"),q=T("Pagination");return i(),l(p,null,[f(v,null,{default:h(()=>[t("title",null,o(r.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Data Soal",1)]),_:1}),t("div",K,[t("div",Q,[e[49]||(e[49]=I('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Soal</li></ol></nav></div></div>',1)),t("div",O,[t("div",V,[t("div",G,[f(g,{href:`/admin/question-titles/${n.questionTitle.id}/edit`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:h(()=>[...e[6]||(e[6]=[m("Edit Paket Soal",-1)])]),_:1},8,["href"]),t("a",{href:"#",onClick:e[0]||(e[0]=y(s=>d.destroyQuestionTitle(n.questionTitle.id),["prevent"])),class:"btn btn-danger btn-sm mt-2 mt-lg-0"},"Hapus Paket Soal"),t("div",R,[f(g,{href:"/admin/question-titles",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:h(()=>[...e[7]||(e[7]=[m("Kembali",-1)])]),_:1})])]),e[31]||(e[31]=t("ul",{class:"nav nav-tabs nav-dark",role:"tablist"},[t("li",{class:"nav-item",role:"presentation"},[t("a",{class:"nav-link active","data-bs-toggle":"tab",href:"#primaryhome",role:"tab","aria-selected":"true"},[t("div",{class:"d-flex align-items-center"},[t("div",{class:"tab-title"},"Detail Paket Soal")])])]),t("li",{class:"nav-item",role:"presentation"},[t("a",{class:"nav-link","data-bs-toggle":"tab",href:"#primaryprofile",role:"tab","aria-selected":"false",tabindex:"-1"},[t("div",{class:"d-flex align-items-center"},[t("div",{class:"tab-title"},"Detail Penggunaan Paket Soal")])])])],-1)),t("div",U,[t("div",z,[t("table",Y,[t("tbody",null,[t("tr",null,[e[8]||(e[8]=t("th",null,"Peminatan",-1)),e[9]||(e[9]=t("td",{width:"10px"},":",-1)),t("td",null,[t("span",X,o((n.questionTitle.category&&n.questionTitle.category.name)??"-"),1)])]),t("tr",null,[e[10]||(e[10]=t("th",null,"Kategori Mata Pelajaran",-1)),e[11]||(e[11]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.lesson_category.name),1)]),t("tr",null,[e[12]||(e[12]=t("th",null,"Mata Pelajaran",-1)),e[13]||(e[13]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.lesson.name),1)]),t("tr",null,[e[14]||(e[14]=t("th",null,"Judul Soal",-1)),e[15]||(e[15]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.name),1)]),t("tr",null,[e[16]||(e[16]=t("th",null,"Jumlah Pilihan Ganda",-1)),e[17]||(e[17]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.total_choices),1)]),t("tr",null,[e[18]||(e[18]=t("th",null,"Total Bagian",-1)),e[19]||(e[19]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.total_section),1)]),n.questionTitle.passing_grade?(i(),l("tr",W,[e[20]||(e[20]=t("th",null,"Nilai Ambang Batas",-1)),e[21]||(e[21]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.passing_grade??"-"),1)])):a("",!0),t("tr",null,[e[22]||(e[22]=t("th",null,"Tambahkan Kategori Penilaian",-1)),e[23]||(e[23]=t("td",null,":",-1)),t("td",null,[t("span",Z,o(n.questionTitle.add_value_category==0?"Tidak":"Ya"),1)])]),n.questionTitle.add_value_category==1?(i(),l("tr",$,[e[24]||(e[24]=t("th",null,"Jenis Penilaian",-1)),e[25]||(e[25]=t("td",null,":",-1)),t("td",null,[n.questionTitle.assessment_type==1?(i(),l("span",tt,"Dihitung Per Kategori Penilaian")):a("",!0),n.questionTitle.assessment_type==2?(i(),l("span",et,"Dihitung Untuk Seluruh Soal (Rata-rata)")):a("",!0),n.questionTitle.assessment_type==3?(i(),l("span",nt,"Dihitung Berdasarkan Poin Jawaban Benar")):a("",!0),n.questionTitle.assessment_type==4?(i(),l("span",st,"Dihitung Berdasarkan Bobot Jawaban")):a("",!0)])])):a("",!0),n.questionTitle.add_value_category==1&&(n.questionTitle.assessment_type==1||n.questionTitle.assessment_type==2)?(i(),l("tr",it,[e[26]||(e[26]=t("th",null,"Kelompok Kategori Penilaian",-1)),e[27]||(e[27]=t("td",null,":",-1)),t("td",{innerHTML:n.questionTitle.value_category_group?n.questionTitle.value_category_group.name:"<span class='badge bg-danger'>Belum disetting</span>"},null,8,lt)])):a("",!0),t("tr",null,[e[28]||(e[28]=t("th",null,"Dibuat Oleh",-1)),e[29]||(e[29]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.user?n.questionTitle.user.name:"-"),1)])])])]),t("div",at,[t("table",ot,[e[30]||(e[30]=t("thead",null,[t("tr",null,[t("th",null,"No"),t("th",null,"Penggunaan"),t("th",null,"Judul"),t("th",null,"Action")])],-1)),t("tbody",null,[(i(!0),l(p,null,x(n.questionTitle.exam,(s,u)=>(i(),l("tr",{key:u},[t("td",null,o(u+1),1),t("td",null,o(s.exam_group_id?"Tryout":"Latihan Soal"),1),t("td",null,o(s.exam_group?s.exam_group.title:s.title),1),t("td",null,[s.exam_group?a("",!0):(i(),l("a",{key:0,class:"btn btn-primary btn-sm",target:"_blank",href:`/admin/exams/${s.id}`},"Lihat Latihan Soal",8,rt)),s.exam_group?(i(),l("a",{key:1,class:"btn btn-primary btn-sm",target:"_blank",href:`/admin/exam-groups/${s.exam_group.id}/exam-group-details`},"Lihat Tryout",8,dt)):a("",!0)])]))),128)),t("tr",null,[n.questionTitle.exam.length?a("",!0):(i(),l("td",ut,"Paket Soal belum digunakan di Latihan Soal ataupun di Tryout"))])])])])])])]),r.$page.props.session.success?(i(),l("div",mt,[t("div",ct,[e[33]||(e[33]=t("div",{class:"font-35 text-white"},[t("i",{class:"bx bxs-check-circle"})],-1)),t("div",bt,[e[32]||(e[32]=t("h6",{class:"mb-0 text-white"},"Sukses",-1)),t("div",gt,o(r.$page.props.session.success),1)])])])):a("",!0),r.$page.props.session.error?(i(),l("div",ft,[t("div",ht,[e[35]||(e[35]=t("div",{class:"font-35 text-white"},[t("i",{class:"bx bxs-message-square-x"})],-1)),t("div",_t,[e[34]||(e[34]=t("h6",{class:"mb-0 text-white"},"Gagal",-1)),t("div",yt,o(r.$page.props.session.error),1)])])])):a("",!0),Object.keys(n.errors).length>0?(i(),l("div",pt,[e[36]||(e[36]=t("strong",null,"Perhatian, pastikan inputan dalam file import diisi dengan benar.",-1)),t("ul",kt,[(i(!0),l(p,null,x(Object.values(n.errors).flat(),s=>(i(),l("li",{key:s},o(s),1))),128))])])):a("",!0),t("div",Tt,[t("div",xt,[t("div",vt,[n.questionTitle.total_section>1?(i(),l("div",{key:0,class:b({"ms-auto":n.questionTitle.total_section>1})},[n.questions.data.length?a("",!0):(i(),j(g,{key:0,href:`/admin/question-titles/${n.questionTitle.id}/questions/generate-questions`,class:"btn btn-danger btn-sm"},{default:h(()=>[...e[37]||(e[37]=[t("i",{class:"bx bxs-file"},null,-1),m("Generate Soal Kecermatan",-1)])]),_:1},8,["href"]))],2)):a("",!0),t("div",{class:b(["dropdown",{"ms-auto":n.questionTitle.total_section==1}])},[e[38]||(e[38]=t("button",{class:"btn btn-primary dropdown-toggle btn-sm",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Export Soal",-1)),t("ul",qt,[t("li",null,[t("a",{class:"dropdown-item",target:"_blank",href:`/admin/question-titles/${n.questionTitle.id}/export-excel`},"Export Excel",8,wt)]),t("li",null,[t("a",{class:"dropdown-item",target:"_blank",href:`/admin/question-titles/${n.questionTitle.id}/export-pdf`},"Export PDF",8,St)])])],2),n.questionTitle.total_section==1?(i(),l("a",{key:1,target:"_blank",href:`/admin/question-titles/${n.questionTitle.id}/format-import-excel`,class:"btn btn-sm btn-success"},[...e[39]||(e[39]=[t("i",{class:"bx bxs-file"},null,-1),m("Download Template Import Soal ",-1)])],8,Lt)):a("",!0),n.questionTitle.total_section==1?(i(),l("form",{key:2,onSubmit:e[2]||(e[2]=y((...s)=>d.importExcel&&d.importExcel(...s),["prevent"])),class:"d-flex ml-auto"},[t("div",Bt,[t("input",{type:"file",onInput:e[1]||(e[1]=s=>d.form.file=s.target.files[0]),class:"form-control form-control-sm me-2",required:"",id:"fileInput"},null,32)]),e[40]||(e[40]=t("div",{class:"btn-group"},[t("button",{type:"submit",class:"btn btn-danger btn-sm"},[t("i",{class:"bx bxs-file"}),m(" Import Soal ")])],-1))],32)):a("",!0)])])]),t("div",Mt,[t("div",Ht,[t("div",Ct,[t("form",{onSubmit:e[4]||(e[4]=y((...s)=>d.handleSearch&&d.handleSearch(...s),["prevent"]))},[t("div",Pt,[E(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=s=>d.search=s),class:"form-control ps-5 radius-20",placeholder:"Cari Berdasarkan Soal....",size:"40",maxlength:"100"},null,512),[[J,d.search]]),e[41]||(e[41]=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1))])],32),t("div",Dt,[t("a",{href:"#",onClick:e[5]||(e[5]=y(s=>d.destroyAllQuestion(n.questionTitle.id),["prevent"])),class:"btn btn-danger btn-sm"},[...e[42]||(e[42]=[t("i",{class:"bx bx-trash"},null,-1),m(" Hapus Semua Soal",-1)])]),f(g,{href:`/admin/question-titles/${n.questionTitle.id}/questions/create`,class:"btn btn-sm btn-primary m-2"},{default:h(()=>[...e[43]||(e[43]=[t("i",{class:"bx bxs-plus-square"},null,-1),m(" Tambah Soal",-1)])]),_:1},8,["href"])])]),t("table",At,[e[48]||(e[48]=t("thead",{class:"table-light"},[t("tr",null,[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0",style:{width:"85%"}},"Soal"),t("th",{class:"border-0 rounded-end",style:{width:"10%"}},"Aksi")])],-1)),t("tbody",null,[(i(!0),l(p,null,x(n.questions.data,(s,u)=>(i(),l("tr",{key:u},[t("td",null,o(++u+(n.questions.current_page-1)*n.questions.per_page),1),t("td",null,[s.audio_input==1&&s.audio?(i(),l("div",It,[t("audio",jt,[t("source",{src:"/storage/upload_files/questions/audio/"+s.audio,type:"audio/ogg"},null,8,Et),t("source",{src:"/storage/upload_files/questions/audio/"+s.audio,type:"audio/mpeg"},null,8,Jt),e[44]||(e[44]=m(" Your browser does not support the audio element. ",-1))])])):a("",!0),t("div",{innerHTML:s.question,class:"clearfix ck-content"},null,8,Nt),e[45]||(e[45]=t("br",null,null,-1)),n.questionTitle.assessment_type==4?(i(),l("ol",Ft,[1<=n.questionTitle.total_choices?(i(),l("li",{key:0,innerHTML:"<span class='badge bg-danger'>point "+s["point_1"]+"</span> <br>"+s["option_1"]},null,8,Kt)):a("",!0),2<=n.questionTitle.total_choices?(i(),l("li",{key:1,innerHTML:"<span class='badge bg-danger'>point "+s["point_2"]+"</span> <br>"+s["option_2"]},null,8,Qt)):a("",!0),3<=n.questionTitle.total_choices?(i(),l("li",{key:2,innerHTML:"<span class='badge bg-danger'>point "+s["point_3"]+"</span> <br>"+s["option_3"]},null,8,Ot)):a("",!0),4<=n.questionTitle.total_choices?(i(),l("li",{key:3,innerHTML:"<span class='badge bg-danger'>point "+s["point_4"]+"</span> <br>"+s["option_4"]},null,8,Vt)):a("",!0),5<=n.questionTitle.total_choices?(i(),l("li",{key:4,innerHTML:"<span class='badge bg-danger'>point "+s["point_5"]+"</span> <br>"+s["option_5"]},null,8,Gt)):a("",!0)])):(i(),l("ol",Rt,[1<=n.questionTitle.total_choices?(i(),l("li",{key:0,class:b(["ck-content",{"text-success fw-bold":s.answer.includes(1)}]),innerHTML:s.option_1},null,10,Ut)):a("",!0),2<=n.questionTitle.total_choices?(i(),l("li",{key:1,class:b(["ck-content",{"text-success fw-bold":s.answer.includes(2)}]),innerHTML:s.option_2},null,10,zt)):a("",!0),3<=n.questionTitle.total_choices?(i(),l("li",{key:2,class:b(["ck-content",{"text-success fw-bold":s.answer.includes(3)}]),innerHTML:s.option_3},null,10,Yt)):a("",!0),4<=n.questionTitle.total_choices?(i(),l("li",{key:3,class:b(["ck-content",{"text-success fw-bold":s.answer.includes(4)}]),innerHTML:s.option_4},null,10,Xt)):a("",!0),5<=n.questionTitle.total_choices?(i(),l("li",{key:4,class:b(["ck-content",{"text-success fw-bold":s.answer.includes(5)}]),innerHTML:s.option_5},null,10,Wt)):a("",!0)])),s.value_category?(i(),l("div",Zt,o(s.value_category.name),1)):a("",!0)]),t("td",null,[t("div",$t,[f(g,{href:`/admin/question-titles/${n.questionTitle.id}/questions/${s.id}/edit`,class:"ms-1"},{default:h(()=>[...e[46]||(e[46]=[t("i",{class:"bx bxs-edit"},null,-1)])]),_:1},8,["href"]),t("a",{href:"#",onClick:y(se=>d.destroy(s.id),["prevent"]),class:"ms-1"},[...e[47]||(e[47]=[t("i",{class:"bx bxs-trash"},null,-1)])],8,te)])])]))),128)),t("tr",null,[n.questions.data.length?a("",!0):(i(),l("td",ee,"Data Tidak Tersedia"))])])]),f(q,{links:n.questions.links,align:"end"},null,8,["links"])])])])])],64)}const ue=N(F,[["render",ne]]);export{ue as default};
