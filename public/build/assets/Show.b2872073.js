import{L as M}from"./Layout.0abe6e10.js";import{L,H as w,c as a,a as f,w as c,b as e,t as r,f as d,F as l,g as k,k as g,W as b,j as p,o as s}from"./app.8fed3035.js";import{_ as C}from"./_plugin-vue_export-helper.cdc0426e.js";const H={layout:M,components:{Link:L,Head:w},props:{module:Object,userMemberCategories:Object},setup(o){return{checkMemberCategories:t=>{if(t.length>0){const i=t.map(m=>m.id);return o.userMemberCategories.some(m=>i.includes(m.member_category_id))}else return!0}}},methods:{formatPrice(o){return(o/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},T={class:"page-wrapper"},x={class:"page-content"},B={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},N=e("div",{class:"breadcrumb-title pe-3"},"Modul / Materi",-1),P={class:"ps-3"},j={"aria-label":"breadcrumb"},E={class:"breadcrumb mb-0 p-0"},S=e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])],-1),U={class:"breadcrumb-item active","aria-current":"page"},V={class:"ms-auto"},D=g("Kembali"),F=e("hr",null,null,-1),K={class:"row"},R={class:"col-lg-12"},A={key:0,class:"alert alert-danger border-0"},O=["innerHTML"],G={key:1,class:"alert alert-success border-0"},I=["innerHTML"],W={class:"col-12"},q={class:"card radius-10 border-start border-0 border-3 border-primary"},z={class:"card-body"},J={class:"row"},Q={class:"col-lg-9 col-md-12"},X={class:"mt-0"},Y=["innerHTML"],Z={class:"my-2 text-center text-md-start"},$={key:1,class:"badge bg-success"},ee={class:"col-lg-3 col-md-12 text-center text-md-end"},te={key:0},se={key:0},ae={key:0},oe={class:"card-price"},re={key:1},de={class:"text-dark"},le={class:"badge bg-danger mx-1"},ie=e("br",null,null,-1),ne={key:1},ce=e("h6",{class:"text-dark"},"Gratis",-1),_e=[ce],me={key:0,class:"badge bg-warning text-dark font-13 m-1"},ue=g("Beli"),he={key:0,class:"badge bg-warning text-dark font-13 m-1"},be={key:0},ge={key:1},ye={key:0,class:"badge bg-warning text-dark font-13 m-1"},fe={key:1,class:"badge bg-warning text-dark font-13 m-1"},ke=g("Beli"),pe={key:0},ve={key:1},Me={class:"row"},Le={class:"col-12"},we={class:"card radius-10 border-start border-0 border-3 border-primary"},Ce={class:"card-body"},He={class:"mt-3"},Te={class:"table table-hover table-striped"},xe=e("thead",null,[e("tr",null,[e("th",null,"No"),e("th",null,"Modul/Materi"),e("th",null,"\xA0")])],-1),Be={class:"d-flex align-items-center"},Ne=e("div",null,[e("i",{class:"bx bxs-file me-2 font-24 text-primary"})],-1),Pe={class:"font-weight-bold text-primary"},je=["href"],Ee={key:1},Se=e("td",{colspan:"5",align:"center"},"Modul Pembelajaran Belum Tersedia",-1),Ue=[Se];function Ve(o,y,t,i,m,u){const v=p("Head"),_=p("Link");return s(),a(l,null,[f(v,null,{default:c(()=>{var n;return[e("title",null,r((n=o.$page.props.setting.app_name)!=null?n:"Atur Setting Terlebih Dahulu")+" - Data Modul / Materi",1)]}),_:1}),e("div",T,[e("div",x,[e("div",B,[N,e("div",P,[e("nav",j,[e("ol",E,[S,e("li",U,r(t.module.category.name)+" - "+r(t.module.title),1)])])]),e("div",V,[f(_,{href:"/user/modules",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:c(()=>[D]),_:1})])]),F,e("div",K,[e("div",R,[o.$page.props.session.error?(s(),a("div",A,[e("div",{innerHTML:o.$page.props.session.error},null,8,O)])):d("",!0),o.$page.props.session.success?(s(),a("div",G,[e("div",{innerHTML:o.$page.props.session.success},null,8,I)])):d("",!0)]),e("div",W,[e("div",q,[e("div",z,[e("div",J,[e("div",Q,[e("h5",X,r(t.module.category.name)+" - "+r(t.module.title),1),e("div",{innerHTML:t.module.description},null,8,Y),e("p",Z,[(o.$page.props.setting.module_material_sales_type==2||o.$page.props.setting.module_material_sales_type==3)&&o.$page.props.auth.user.member_type==2?(s(),a(l,{key:0},[t.module.member_categories&&t.module.member_categories.length?(s(!0),a(l,{key:0},k(t.module.member_categories,(n,h)=>(s(),a("span",{key:h,class:"badge bg-success me-1"},r(n.name),1))),128)):(s(),a("span",$," Seluruh Member & Non Member "))],64)):d("",!0)])]),e("div",ee,[(o.$page.props.setting.module_material_sales_type==1||o.$page.props.setting.module_material_sales_type==3)&&o.$page.props.auth.user.member_type==2?(s(),a("div",te,[t.module.price_type==2?(s(),a("div",se,[t.module.price_before_discount==t.module.price_after_discount?(s(),a("div",ae,[e("h6",oe,"Rp."+r(u.formatPrice(t.module.price_after_discount)),1)])):(s(),a("div",re,[e("h6",de,[e("sup",null,[e("s",null,"Rp."+r(u.formatPrice(t.module.price_before_discount)),1),e("span",le,r(u.formatPrice((t.module.price_before_discount-t.module.price_after_discount)/t.module.price_before_discount*100))+"% ",1)]),ie,g(" Rp."+r(u.formatPrice(t.module.price_after_discount)),1)])]))])):(s(),a("div",ne,_e))])):d("",!0),o.$page.props.auth.user.member_type==2&&o.$page.props.setting.enable_module_material_sales==1?(s(),a(l,{key:1},[o.$page.props.setting.module_material_sales_type==1?(s(),a(l,{key:0},[t.module.user_access.length>0||t.module.price_type==1?(s(),a("span",me,"Enrolled")):(s(),b(_,{key:1,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/module/${t.module.id}/buy`},{default:c(()=>[ue]),_:1},8,["href"]))],64)):d("",!0),o.$page.props.setting.module_material_sales_type==2?(s(),a(l,{key:1},[i.checkMemberCategories(t.module.member_categories)==!0?(s(),a("span",he,"Enrolled")):(s(),b(_,{key:1,href:`/user/vouchers?category_id=${t.module.category_id}`,class:"btn btn-sm btn-success"},{default:c(()=>[t.module.member_categories.length==1?(s(),a("span",be,"Upgrade Ke "+r(t.module.member_categories[0]?t.module.member_categories[0].name:""),1)):(s(),a("span",ge,"Upgrade Member"))]),_:1},8,["href"]))],64)):d("",!0),o.$page.props.setting.module_material_sales_type==3?(s(),a(l,{key:2},[t.module.user_access.length>0&&i.checkMemberCategories(t.module.member_categories)==!0?(s(),a("span",ye,"Enrolled")):d("",!0),(t.module.user_access.length==0||i.checkMemberCategories(t.module.member_categories)==!1)&&(t.module.user_access.length>0||i.checkMemberCategories(t.module.member_categories)==!0||t.module.price_type==1)?(s(),a("span",fe,"Enrolled")):d("",!0),t.module.user_access.length==0&&t.module.price_type==2?(s(),b(_,{key:2,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/module/${t.module.id}/buy`},{default:c(()=>[ke]),_:1},8,["href"])):d("",!0),i.checkMemberCategories(t.module.member_categories)==!1?(s(),b(_,{key:3,href:`/user/vouchers?category_id=${t.module.category_id}`,class:"btn btn-sm btn-success"},{default:c(()=>[t.module.member_categories.length==1?(s(),a("span",pe,"Upgrade Ke "+r(t.module.member_categories[0]?t.module.member_categories[0].name:""),1)):(s(),a("span",ve,"Upgrade Member"))]),_:1},8,["href"])):d("",!0)],64)):d("",!0)],64)):d("",!0)])])])])])]),e("div",Me,[e("div",Le,[e("div",we,[e("div",Ce,[e("div",He,[e("table",Te,[xe,e("tbody",null,[t.module.detail_module.length>0?(s(!0),a(l,{key:0},k(t.module.detail_module,(n,h)=>(s(),a("tr",{key:h},[e("td",null,r(++h),1),e("td",null,[e("div",Be,[Ne,e("div",Pe,r(n.title),1)])]),e("td",null,[e("a",{target:"_blank",href:`/user/modules/${t.module.id}/detail-modules/${n.id}`,class:"btn btn-outline-primary btn-sm"},"Lihat",8,je)])]))),128)):(s(),a("tr",Ee,Ue))])])])])])])])])])],64)}const Re=C(H,[["render",Ve]]);export{Re as default};
