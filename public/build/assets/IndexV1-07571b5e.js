import{L as p}from"./Layout-ed73603e.js";import{P as g}from"./Pagination-9f303e66.js";import{L as b,H as h,d as m,v as e}from"./app-cd8c7f16.js";import{S as d}from"./sweetalert2.esm.all-61741a63.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";const y={layout:p,components:{Link:b,Head:h,Pagination:g},props:{exams:Object,categoryId:Object,lessonCategoryId:Object,lessonId:Object,userMemberCategories:Object,session:Object},setup(r){return r.session&&r.session.success&&d.fire({title:"Sukses",text:r.session.success,icon:"success"}),r.session&&r.session.error&&d.fire({title:"Peringatan",text:r.session.error,icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Top Up Saldo",cancelButtonText:"Tidak"}).then(s=>{s.isConfirmed&&m.Inertia.get("/user/account-balances")}),{buyExam:s=>{d.fire({title:"Anda yakin akan membeli Latihan Soal ini ?",text:"Pastikan Saldo Anda Cukup Untuk Bertransaksi",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Beli Latihan Soal",cancelButtonText:"Tidak"}).then(i=>{i.isConfirmed&&m.Inertia.get(`/user/account-balances/buy-exam/${s}?type=exam`)})},checkMemberCategories:s=>{if(s){for(const i of r.userMemberCategories)if(i.member_categories.some(l=>s.includes(l)))return!0;return!1}else return!0}}},methods:{formatPrice(r){return(r/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},f={class:"page-wrapper"},v={class:"page-content"},E={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},N={class:"ms-auto"},V={key:0},C={class:"row"},S={class:"card"},w={key:0},$={key:0,class:"badge bg-danger",style:{position:"absolute","font-size":"14px",margin:"4px"}},T={class:"p-2"},L=["src"],M={class:"card-header"},j={class:"card-title"},P={key:1,class:"card-body"},D={key:0,style:{"min-height":"50px"}},I={key:0},K={key:0},A={class:"card-price text-center"},F={key:1},O={class:"text-dark text-center"},U={class:"badge bg-danger mx-1"},H={key:1},R={key:1,class:"text-center"},z={key:0},Y={class:"badge bg-success mb-0 ms-1"},G={key:1},q={class:"card-footer"},J={key:0},Q={key:0},W={key:0},X={key:0},Z={key:1},x=["onClick"],ee={key:1},te={key:0},oe={key:1},re={key:0},se={key:1},ne={key:2},ce={key:0},ae={key:1},le={key:2},ie=["onClick"],de={key:3},me={key:0},_e={key:1},ue={key:1},ke={key:1},pe={key:1,class:"row mb-3"},ge={class:"col"};function be(r,o,c,s,i,l){const _=e.resolveComponent("Head"),n=e.resolveComponent("Link"),u=e.resolveComponent("Pagination");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(_,null,{default:e.withCtx(()=>[e.createElementVNode("title",null,e.toDisplayString(r.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Soal",1)]),_:1}),e.createElementVNode("div",f,[e.createElementVNode("div",v,[e.createElementVNode("div",E,[o[1]||(o[1]=e.createStaticVNode('<div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal</li></ol></nav></div>',2)),e.createElementVNode("div",N,[e.createVNode(n,{href:`/user/categories/${c.categoryId}/lesson-categories/${c.lessonCategoryId}/lessons`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:e.withCtx(()=>[...o[0]||(o[0]=[e.createTextVNode("Kembali",-1)])]),_:1},8,["href"])])]),o[14]||(o[14]=e.createElementVNode("hr",null,null,-1)),c.exams.data.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",V,[...o[2]||(o[2]=[e.createStaticVNode('<div class="row row-cols-12 row-cols-md-12 row-cols-lg-12 row-cols-xl-12"><div class="col"><div class="card border-bottom border-3 border-0"><div class="card-body"><h5 class="card-title text-center">Soal Belum Tersedia.</h5></div></div></div></div>',1)])])),e.createElementVNode("div",C,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.exams.data,(t,k)=>(e.openBlock(),e.createElementBlock("div",{class:"col-xs-12 col-sm-6 col-md-6 col-lg-3",key:k},[e.createElementVNode("div",S,[r.$page.props.auth.user.member_type==2?(e.openBlock(),e.createElementBlock("div",w,[(t.transaction.length>0||s.checkMemberCategories(t.member_categories)==!0)&&t.member_categories?(e.openBlock(),e.createElementBlock("span",$,"Enrolled")):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",T,[e.createElementVNode("img",{src:"/storage/upload_files/lessons/"+t.lesson.thumbnail,class:"card-img"},null,8,L)]),e.createElementVNode("div",M,[e.createElementVNode("h6",j,e.toDisplayString(t.title),1),o[3]||(o[3]=e.createElementVNode("p",{class:"card-text"},"Kerjakan Soal Sesuai Perintah Yang Ada Dalam Informasi.",-1))]),r.$page.props.auth.user.member_type==2?(e.openBlock(),e.createElementBlock("div",P,[r.$page.props.setting.purchase_type==1||r.$page.props.setting.purchase_type==3?(e.openBlock(),e.createElementBlock("div",D,[t.price_type==2?(e.openBlock(),e.createElementBlock("div",I,[t.price_before_discount==t.price_after_discount?(e.openBlock(),e.createElementBlock("div",K,[e.createElementVNode("h6",A,"Rp."+e.toDisplayString(l.formatPrice(t.price_after_discount)),1)])):(e.openBlock(),e.createElementBlock("div",F,[e.createElementVNode("h6",O,[e.createElementVNode("sup",null,[e.createElementVNode("s",null,"Rp."+e.toDisplayString(l.formatPrice(t.price_before_discount)),1),e.createElementVNode("span",U,e.toDisplayString(l.formatPrice((t.price_before_discount-t.price_after_discount)/t.price_before_discount*100))+"% ",1)]),o[4]||(o[4]=e.createElementVNode("br",null,null,-1)),e.createTextVNode("Rp."+e.toDisplayString(l.formatPrice(t.price_after_discount)),1)])]))])):(e.openBlock(),e.createElementBlock("div",H,[...o[5]||(o[5]=[e.createElementVNode("h6",{class:"text-dark text-center"},"Gratis",-1)])]))])):e.createCommentVNode("",!0),r.$page.props.setting.purchase_type==2||r.$page.props.setting.purchase_type==3?(e.openBlock(),e.createElementBlock("div",R,[t.member_categories?(e.openBlock(),e.createElementBlock("div",z,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.member_categories,a=>(e.openBlock(),e.createElementBlock("span",Y,e.toDisplayString(a),1))),256))])):(e.openBlock(),e.createElementBlock("div",G,[...o[6]||(o[6]=[e.createElementVNode("span",{class:"badge bg-success mb-0"},"Seluruh Member & Non Member",-1)])]))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",q,[t.exam_status=="active"?(e.openBlock(),e.createElementBlock("div",J,[r.$page.props.auth.user.member_type==2&t.price_type==2?(e.openBlock(),e.createElementBlock("div",Q,[r.$page.props.setting.purchase_type==1?(e.openBlock(),e.createElementBlock("div",W,[t.transaction.length>0?(e.openBlock(),e.createElementBlock("div",X,[e.createVNode(n,{href:`/user/categories/${t.category_id}/lesson-categories/${t.lesson_category_id}/lessons/${t.lesson_id}/exams/${t.id}`,class:"btn btn-primary btn-sm w-100"},{default:e.withCtx(()=>[...o[7]||(o[7]=[e.createTextVNode("Kerjakan Soal",-1)])]),_:1},8,["href"])])):(e.openBlock(),e.createElementBlock("div",Z,[e.createElementVNode("button",{class:"btn btn-outline-primary btn-sm w-100",onClick:a=>s.buyExam(t.id)},"Beli Latihan Soal",8,x)]))])):e.createCommentVNode("",!0),r.$page.props.setting.purchase_type==2?(e.openBlock(),e.createElementBlock("div",ee,[s.checkMemberCategories(t.member_categories)==!0?(e.openBlock(),e.createElementBlock("div",te,[t.exam_status=="active"?(e.openBlock(),e.createBlock(n,{key:0,href:`/user/categories/${t.category_id}/lesson-categories/${t.lesson_category_id}/lessons/${t.lesson_id}/exams/${t.id}`,class:"btn btn-primary btn-sm w-100"},{default:e.withCtx(()=>[...o[8]||(o[8]=[e.createTextVNode("Kerjakan Soal",-1)])]),_:1},8,["href"])):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("div",oe,[e.createVNode(n,{href:`/user/vouchers?category_id=${t.category_id}`,class:"btn btn-outline-primary btn-sm w-100"},{default:e.withCtx(()=>[t.member_categories.length==1?(e.openBlock(),e.createElementBlock("div",re,[o[9]||(o[9]=e.createTextVNode(" Upgrade Ke ",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.member_categories,a=>(e.openBlock(),e.createElementBlock("span",null,e.toDisplayString(a),1))),256))])):(e.openBlock(),e.createElementBlock("div",se," Upgrade Member "))]),_:2},1032,["href"])]))])):e.createCommentVNode("",!0),r.$page.props.setting.purchase_type==3?(e.openBlock(),e.createElementBlock("div",ne,[t.transaction.length>0&&s.checkMemberCategories(t.member_categories)==!0?(e.openBlock(),e.createElementBlock("div",ce,[e.createVNode(n,{href:`/user/categories/${t.category_id}/lesson-categories/${t.lesson_category_id}/lessons/${t.lesson_id}/exams/${t.id}`,class:"btn btn-primary btn-sm w-100 mb-2"},{default:e.withCtx(()=>[...o[10]||(o[10]=[e.createTextVNode("Kerjakan Soal",-1)])]),_:1},8,["href"])])):e.createCommentVNode("",!0),(t.transaction.length==0||s.checkMemberCategories(t.member_categories)==!1)&&(t.transaction.length>0||s.checkMemberCategories(t.member_categories)==!0)?(e.openBlock(),e.createElementBlock("div",ae,[e.createVNode(n,{href:`/user/categories/${t.category_id}/lesson-categories/${t.lesson_category_id}/lessons/${t.lesson_id}/exams/${t.id}`,class:"btn btn-primary btn-sm w-100 mb-2"},{default:e.withCtx(()=>[...o[11]||(o[11]=[e.createTextVNode("Kerjakan Soal",-1)])]),_:1},8,["href"])])):e.createCommentVNode("",!0),t.transaction.length==0?(e.openBlock(),e.createElementBlock("div",le,[e.createElementVNode("button",{class:"btn btn-outline-primary btn-sm w-100 mb-2",onClick:a=>s.buyExam(t.id)},"Beli Latihan Soal",8,ie)])):e.createCommentVNode("",!0),s.checkMemberCategories(t.member_categories)==!1?(e.openBlock(),e.createElementBlock("div",de,[e.createVNode(n,{href:`/user/vouchers?category_id=${t.category_id}`,class:"btn btn-outline-primary btn-sm w-100 mb-2"},{default:e.withCtx(()=>[t.member_categories.length==1?(e.openBlock(),e.createElementBlock("div",me,[o[12]||(o[12]=e.createTextVNode(" Upgrade Ke ",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.member_categories,a=>(e.openBlock(),e.createElementBlock("span",null,e.toDisplayString(a),1))),256))])):(e.openBlock(),e.createElementBlock("div",_e," Upgrade Member "))]),_:2},1032,["href"])])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("div",ue,[e.createVNode(n,{href:`/user/categories/${t.category_id}/lesson-categories/${t.lesson_category_id}/lessons/${t.lesson_id}/exams/${t.id}`,class:"btn btn-primary btn-sm w-100"},{default:e.withCtx(()=>[...o[13]||(o[13]=[e.createTextVNode("Kerjakan Soal",-1)])]),_:1},8,["href"])]))])):(e.openBlock(),e.createElementBlock("div",ke,[e.createElementVNode("button",{class:e.normalizeClass(["btn btn-sm w-100",{"btn-danger":t.exam_status=="inactive","btn-warning":t.exam_status==="inprogress"}])},e.toDisplayString(t.exam_status==="inactive"?"Non Active":"In Progress"),3)]))])])]))),128))]),c.exams.data.length?(e.openBlock(),e.createElementBlock("div",pe,[e.createElementVNode("div",ge,[e.createVNode(u,{links:c.exams.links,align:"center"},null,8,["links"])])])):e.createCommentVNode("",!0)])])],64)}const Ee=B(y,[["render",be]]);export{Ee as default};
