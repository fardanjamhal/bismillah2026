import{L as T}from"./Layout.dad8fa9c.js";import{L as U,H as L,p as P,c as r,a as f,w as p,b as e,F as g,g as h,f as n,d as x,e as u,q as y,n as c,t as d,v as _,h as B,i as D,j as v,o as a,k as M}from"./app.ce8f6c38.js";import{S as z}from"./sweetalert2.all.59f1eca5.js";import{M as w}from"./vue3-multiselect.umd.min.375cb810.js";import{C as A,E as H,A as q,B as j,I as G,F as O,P as E,a as N,L as F,b as R,H as K,S as J,c as W,d as Q,U as X,e as Y,T as Z,f as $,g as ee,h as te,i as oe,j as se,k as ie,l as re,m as ae,n as le,o as ne,p as de,q as ce,r as me,s as ue,t as _e,u as be}from"./index.68e8eafb.js";import{M as fe}from"./index.469e1e70.js";/* empty css                                                                  */import{_ as ge}from"./_plugin-vue_export-helper.cdc0426e.js";const ve={layout:T,components:{Link:U,Head:L,Multiselect:w},props:{errors:Object,categories:Object,course:Object,courseGoals:Object,memberCategories:Object,memberCategorySelected:Object},data(){return{editor:A,editorData:"<p>Initial content</p>",editorConfig:{plugins:[H,q,j,G,O,E,N,F,R,K,J,W,Q,X,Y,Z,$,ee,te,oe,se,ie,re,ae,le,ne,de,ce,me,ue,_e,be,fe],toolbar:{items:["undo","redo","|","heading","|","alignment","fontfamily","fontsize","fontColor","fontBackgroundColor","|","link","insertTable","insertImage","blockQuote","codeBlock","|","bulletedList","numberedList","todoList","outdent","indent","|","bold","italic","strikethrough","subscript","superscript","MathType","ChemType"],shouldNotGroupWhenFull:!1},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},image:{insert:{integrations:["upload","url"],type:"auto"},toolbar:["imageStyle:inline","imageStyle:alignLeft","imageStyle:alignRight","|","imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight","|","toggleImageCaption","imageTextAlternative","|","linkImage","resizeImage"],resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:custom",value:"custom",icon:"custom"},{name:"resizeImage:25",value:"25",icon:"medium"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"},{name:"resizeImage:100",value:"100",icon:"large"}],shouldInsertWidthHeightAttributes:!1},simpleUpload:{uploadUrl:"/upload",withCredentials:!0,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Authorization:"Bearer <JSON Web Token>"}},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"],tableProperties:{},tableCellProperties:{}},alignment:{options:["left","right","center","justify"]},fontSize:{options:[11,12,14,16,18,20,22,24,26,28,36,48,72],supportAllValues:!0},language:"en"}}},setup(l){const t=P({category_id:l.course.category_id,title:l.course.title,thumbnail:l.course.thumbnail,video_intro:l.course.video_intro,prerequisite:l.course.prerequisite,sort_description:l.course.sort_description,description:l.course.description,order:l.course.order,price_type:l.course.price_type,price_before_discount:l.course.price_before_discount,price_after_discount:l.course.price_after_discount,status:l.course.status,goals:l.courseGoals.length>0?l.courseGoals:[""],member_category_ids:l.memberCategorySelected});return{form:t,submit:()=>{B.Inertia.post(`/admin/courses/${l.course.id}`,{forceFormData:!0,_method:"put",category_id:t.category_id,title:t.title,thumbnail:t.thumbnail,video_intro:t.video_intro,prerequisite:t.prerequisite,sort_description:t.sort_description,description:t.description,order:t.order,price_type:t.price_type,price_before_discount:t.price_before_discount,price_after_discount:t.price_after_discount,status:t.status,goals:t.goals,member_category_ids:t.member_category_ids},{onSuccess:()=>{z.fire({title:"Success!",text:"Course Berhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})},handleGoalClick:b=>{b===t.goals.length-1?t.goals.push(""):t.goals.splice(b,1)}}}},he={class:"page-wrapper"},ye={class:"page-content"},ke=D('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Modul / Materi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Edit Modul / Materi</li></ol></nav></div></div>',1),pe={class:"card border-top border-0 border-3 border-primary"},Se={class:"card-body"},Ce={key:0,class:"alert alert-danger border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2"},Ie=e("strong",null,"Perhatian, pastikan inputan diisi dengan benar.",-1),Ve={class:"mt-3"},Te={class:"d-lg-flex align-items-center"},Ue={class:"ms-auto"},Le=M("Kembali"),Pe={class:"col-12"},xe=e("label",{class:"form-label"},"Kategori Peminatan",-1),Be=e("option",{value:""},"[ Pilih ]",-1),De=["value"],Me={key:0,class:"invalid-feedback"},ze={class:"col-12"},we=e("label",{class:"form-label"},"Kategori Member (Khusus Untuk Membership Bulanan, Kosongkan Jika Tidak Ada)",-1),Ae={class:"col-12"},He=e("label",{class:"form-label"},"Judul",-1),qe={key:0,class:"invalid-feedback"},je={class:"col-12"},Ge=e("label",{class:"form-label"},"Thumbnail (Optional)",-1),Oe={key:0,class:"invalid-feedback"},Ee={class:"col-12"},Ne=e("label",{class:"form-label"},"Video Intro (Link Youtube, Google Drive atau lainnya)",-1),Fe={key:0,class:"invalid-feedback"},Re={class:"col-12"},Ke=e("label",{class:"form-label"},"Prasyarat",-1),Je={key:0,class:"invalid-feedback"},We={class:"col-12"},Qe=e("label",{class:"form-label"},"Deskripsi Singkat",-1),Xe={key:0,class:"invalid-feedback"},Ye={class:"col-12"},Ze=e("label",{class:"form-label"},[e("b",null,"Deskripsi")],-1),$e={key:0,class:"invalid-feedback"},et={class:"col-12"},tt=e("label",{class:"form-label"},"Urutan Ditampilkan",-1),ot={key:0,class:"invalid-feedback"},st={class:"col-12"},it=e("label",{class:"form-label"},"Tipe Harga",-1),rt=e("option",{value:""},"[ Pilih ]",-1),at=e("option",{value:"1"},"Gratis",-1),lt=e("option",{value:"2"},"Berbayar",-1),nt=[rt,at,lt],dt={key:0,class:"invalid-feedback"},ct={key:0,class:"col-12"},mt=e("label",{class:"form-label"},"Harga Sebelum Diskon",-1),ut={key:0,class:"invalid-feedback"},_t={key:1,class:"col-12"},bt=e("label",{class:"form-label"},"Harga Sesudah Diskon",-1),ft={key:0,class:"invalid-feedback"},gt={class:"col-12"},vt=e("label",{class:"form-label"},"Status",-1),ht=e("option",{value:""},"[ Pilih ]",-1),yt=e("option",{value:"active"},"Aktive",-1),kt=e("option",{value:"inactive"},"Inactive",-1),pt=e("option",{value:"inprogress"},"Inprogress",-1),St=[ht,yt,kt,pt],Ct={key:0,class:"invalid-feedback"},It={class:"col-12"},Vt=e("label",{class:"form-label"},"Goals",-1),Tt=["onUpdate:modelValue"],Ut=["onClick"],Lt={key:0,class:"invalid-feedback"},Pt=e("div",{class:"col-12"},[e("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1);function xt(l,t,o,s,b,Bt){const S=v("Head"),C=v("Link"),I=v("multiselect"),V=v("ckeditor");return a(),r(g,null,[f(S,null,{default:p(()=>{var i;return[e("title",null,d((i=l.$page.props.setting.app_name)!=null?i:"Atur Setting Terlebih Dahulu")+" - Edit Modul / Materi",1)]}),_:1}),e("div",he,[e("div",ye,[ke,e("div",pe,[e("div",Se,[Object.keys(o.errors).length>0?(a(),r("div",Ce,[Ie,e("ul",Ve,[(a(!0),r(g,null,h(o.errors,i=>(a(),r("li",null,d(i),1))),256))])])):n("",!0),e("div",Te,[e("div",Ue,[f(C,{href:"/admin/courses",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:p(()=>[Le]),_:1})])]),e("form",{onSubmit:t[13]||(t[13]=x((...i)=>s.submit&&s.submit(...i),["prevent"])),class:"row g-3"},[e("div",Pe,[xe,u(e("select",{"onUpdate:modelValue":t[0]||(t[0]=i=>s.form.category_id=i),class:c([{"is-invalid":o.errors.category_id},"form-select"])},[Be,(a(!0),r(g,null,h(o.categories,(i,m)=>(a(),r("option",{key:m,value:i.id},d(i.name),9,De))),128))],2),[[y,s.form.category_id]]),o.errors.category_id?(a(),r("div",Me,d(o.errors.category_id),1)):n("",!0)]),e("div",ze,[we,f(I,{modelValue:s.form.member_category_ids,"onUpdate:modelValue":t[1]||(t[1]=i=>s.form.member_category_ids=i),options:o.memberCategories,multiple:!0,label:"name","close-on-select":!0,"allow-empty":!0,"track-by":"name",placeholder:"[ Pilih ]"},null,8,["modelValue","options"])]),e("div",Ae,[He,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":o.errors.title}]),"onUpdate:modelValue":t[2]||(t[2]=i=>s.form.title=i),placeholder:"Judul"},null,2),[[_,s.form.title]]),o.errors.title?(a(),r("div",qe,d(o.errors.title),1)):n("",!0)]),e("div",je,[Ge,e("input",{type:"file",class:c(["form-control",{"is-invalid":o.errors.thumbnail}]),onInput:t[3]||(t[3]=i=>s.form.thumbnail=i.target.files[0]),placeholder:"Thumbnail"},null,34),o.errors.thumbnail?(a(),r("div",Oe,d(o.errors.thumbnail),1)):n("",!0)]),e("div",Ee,[Ne,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":o.errors.video_intro}]),"onUpdate:modelValue":t[4]||(t[4]=i=>s.form.video_intro=i),placeholder:"Link"},null,2),[[_,s.form.video_intro]]),o.errors.video_intro?(a(),r("div",Fe,d(o.errors.video_intro),1)):n("",!0)]),e("div",Re,[Ke,u(e("textarea",{cols:"30",rows:"5",class:c(["form-control",{"is-invalid":o.errors.prerequisite}]),"onUpdate:modelValue":t[5]||(t[5]=i=>s.form.prerequisite=i),placeholder:"Prasyarat"},null,2),[[_,s.form.prerequisite]]),o.errors.prerequisite?(a(),r("div",Je,d(o.errors.prerequisite),1)):n("",!0)]),e("div",We,[Qe,u(e("textarea",{cols:"30",rows:"5",class:c(["form-control",{"is-invalid":o.errors.sort_description}]),"onUpdate:modelValue":t[6]||(t[6]=i=>s.form.sort_description=i),placeholder:"Deskripsi Singkat"},null,2),[[_,s.form.sort_description]]),o.errors.sort_description?(a(),r("div",Xe,d(o.errors.sort_description),1)):n("",!0)]),e("div",Ye,[Ze,f(V,{editor:b.editor,modelValue:s.form.description,"onUpdate:modelValue":t[7]||(t[7]=i=>s.form.description=i),config:b.editorConfig,lass:"form-control",class:c({"is-invalid":o.errors.title})},null,8,["editor","modelValue","config","class"]),o.errors.description?(a(),r("div",$e,d(o.errors.description),1)):n("",!0)]),e("div",et,[tt,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":o.errors.order}]),"onUpdate:modelValue":t[8]||(t[8]=i=>s.form.order=i),placeholder:"Urutan Ditampilkan"},null,2),[[_,s.form.order]]),o.errors.order?(a(),r("div",ot,d(o.errors.order),1)):n("",!0)]),e("div",st,[it,u(e("select",{"onUpdate:modelValue":t[9]||(t[9]=i=>s.form.price_type=i),class:c([{"is-invalid":o.errors.price_type},"form-select"])},nt,2),[[y,s.form.price_type]]),o.errors.price_type?(a(),r("div",dt,d(o.errors.price_type),1)):n("",!0)]),s.form.price_type==2?(a(),r("div",ct,[mt,u(e("input",{type:"number",class:c(["form-control",{"is-invalid":o.errors.price_before_discount}]),"onUpdate:modelValue":t[10]||(t[10]=i=>s.form.price_before_discount=i),placeholder:"Harga Sebelum Diskon",min:"0"},null,2),[[_,s.form.price_before_discount]]),o.errors.price_before_discount?(a(),r("div",ut,d(o.errors.price_before_discount),1)):n("",!0)])):n("",!0),s.form.price_type==2?(a(),r("div",_t,[bt,u(e("input",{type:"number",class:c(["form-control",{"is-invalid":o.errors.price_after_discount}]),"onUpdate:modelValue":t[11]||(t[11]=i=>s.form.price_after_discount=i),placeholder:"Harga Sesudah Diskon",min:"0"},null,2),[[_,s.form.price_after_discount]]),o.errors.price_after_discount?(a(),r("div",ft,d(o.errors.price_after_discount),1)):n("",!0)])):n("",!0),e("div",gt,[vt,u(e("select",{"onUpdate:modelValue":t[12]||(t[12]=i=>s.form.status=i),class:c([{"is-invalid":o.errors.status},"form-select"])},St,2),[[y,s.form.status]]),o.errors.status?(a(),r("div",Ct,d(o.errors.status),1)):n("",!0)]),e("div",It,[Vt,(a(!0),r(g,null,h(s.form.goals,(i,m)=>(a(),r("div",{key:m,class:"input-group mb-3"},[u(e("input",{type:"text",class:c(["form-control",{"is-invalid":o.errors[`goals.${m}`]}]),"onUpdate:modelValue":k=>s.form.goals[m]=k,placeholder:"Goal"},null,10,Tt),[[_,s.form.goals[m]]]),e("button",{class:c(["btn",m===s.form.goals.length-1?"btn-success":"btn-danger"]),type:"button",onClick:k=>s.handleGoalClick(m)},[e("i",{class:c(m===s.form.goals.length-1?"bx bx-plus":"bx bx-minus")},null,2)],10,Ut),o.errors[`goals.${m}`]?(a(),r("div",Lt,d(o.errors[`goals.${m}`]),1)):n("",!0)]))),128))]),Pt],32)])])])])],64)}const Gt=ge(ve,[["render",xt]]);export{Gt as default};
