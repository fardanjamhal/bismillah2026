import{L as s}from"./Layout-6e47283e.js";import{L as m,H as u,v as e,d as N}from"./app-73924097.js";import{S as V}from"./sweetalert2.esm.all-61741a63.js";import{_ as c}from"./_plugin-vue_export-helper-c27b6911.js";const E={layout:s,components:{Link:m,Head:u},props:{errors:Object,withdrawal:Object},setup(n){const t=e.reactive({status:n.withdrawal.status,file:""});return{form:t,submit:()=>{N.Inertia.post(`/admin/affiliates/withdrawals/${n.withdrawal.id}`,{forceFormData:!0,_method:"put",status:t.status,file:t.file},{onSuccess:()=>{V.fire({title:"Success!",text:"Status Pengajuan Berhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})}}},methods:{formatPrice(n){return"Rp."+Math.floor(n).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},w={class:"page-wrapper"},f={class:"page-content"},b={class:"card border-top border-0 border-3 border-primary"},k={class:"card-body"},g={class:"d-lg-flex align-items-center"},v={class:"ms-auto"},p={key:0,class:"alert alert-danger border-0"},y=["innerHTML"],B={class:"table-responsive"},D={class:"table mb-0"},S={key:0,class:"badge bg-warning"},C={key:1,class:"badge bg-danger"},P={key:2,class:"badge bg-success"},T={key:0},j={key:1},x=["src"],H={key:2},L={key:0,class:"invalid-feedback"},M={key:3},K={key:0,class:"invalid-feedback"},h={key:4};function A(n,t,l,a,U,o){const d=e.resolveComponent("Head"),i=e.resolveComponent("Link");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(d,null,{default:e.withCtx(()=>[e.createElementVNode("title",null,e.toDisplayString(n.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Detail Penarikan Komisi",1)]),_:1}),e.createElementVNode("div",w,[e.createElementVNode("div",f,[t[36]||(t[36]=e.createStaticVNode('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Pengajuan Penarikan Komisi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Penarikan Komisi</li></ol></nav></div></div>',1)),e.createElementVNode("div",b,[e.createElementVNode("div",k,[e.createElementVNode("div",g,[e.createElementVNode("div",v,[e.createVNode(i,{href:"/user/affiliates/withdrawals",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:e.withCtx(()=>[...t[3]||(t[3]=[e.createTextVNode("Kembali",-1)])]),_:1})])]),e.createElementVNode("form",{onSubmit:t[2]||(t[2]=e.withModifiers((...r)=>a.submit&&a.submit(...r),["prevent"]))},[n.$page.props.session.error?(e.openBlock(),e.createElementBlock("div",p,[t[4]||(t[4]=e.createElementVNode("i",{class:"fa fa-exclamation-triangle"},null,-1)),t[5]||(t[5]=e.createTextVNode()),e.createElementVNode("div",{innerHTML:n.$page.props.session.error},null,8,y)])):e.createCommentVNode("",!0),e.createElementVNode("div",B,[e.createElementVNode("table",D,[e.createElementVNode("tbody",null,[t[33]||(t[33]=e.createElementVNode("tr",null,[e.createElementVNode("th",{colspan:"3"},"Biodata")],-1)),e.createElementVNode("tr",null,[t[6]||(t[6]=e.createElementVNode("td",null,"Nama",-1)),t[7]||(t[7]=e.createElementVNode("td",{width:"10"},":",-1)),e.createElementVNode("td",null,e.toDisplayString(l.withdrawal.user?l.withdrawal.user.name:"-"),1)]),e.createElementVNode("tr",null,[t[8]||(t[8]=e.createElementVNode("td",null,"Email",-1)),t[9]||(t[9]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(l.withdrawal.user?l.withdrawal.user.email:"-"),1)]),e.createElementVNode("tr",null,[t[10]||(t[10]=e.createElementVNode("td",null,"Username",-1)),t[11]||(t[11]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(l.withdrawal.user?l.withdrawal.user.username:"-"),1)]),t[34]||(t[34]=e.createElementVNode("tr",null,[e.createElementVNode("th",{colspan:"3"}," ")],-1)),t[35]||(t[35]=e.createElementVNode("tr",null,[e.createElementVNode("th",{colspan:"3"},"Pengajuan Penarikan")],-1)),e.createElementVNode("tr",null,[t[12]||(t[12]=e.createElementVNode("td",null,"Waktu Pengajuan",-1)),t[13]||(t[13]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(n.formatDateWithTimeHourMinute(l.withdrawal.created_at)),1)]),e.createElementVNode("tr",null,[t[14]||(t[14]=e.createElementVNode("td",null,"Jumlah Penarikan Komisi",-1)),t[15]||(t[15]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(o.formatPrice(l.withdrawal.total_withdrawal)),1)]),e.createElementVNode("tr",null,[t[16]||(t[16]=e.createElementVNode("td",null,"Biaya Admin Penarikan",-1)),t[17]||(t[17]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(o.formatPrice(l.withdrawal.admin_fee)),1)]),e.createElementVNode("tr",null,[t[18]||(t[18]=e.createElementVNode("td",null,"Komisi Diterima",-1)),t[19]||(t[19]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(o.formatPrice(l.withdrawal.total_paid)),1)]),e.createElementVNode("tr",null,[t[20]||(t[20]=e.createElementVNode("td",null,"Dikirim ke Bank",-1)),t[21]||(t[21]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(l.withdrawal.user_bank.bank_name+" - "+l.withdrawal.user_bank.account_number+" - "+l.withdrawal.user_bank.account_name),1)]),e.createElementVNode("tr",null,[e.createElementVNode("td",null,"Status Pengajuan "+e.toDisplayString(a.form.status),1),t[22]||(t[22]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,[l.withdrawal.status=="pending"?(e.openBlock(),e.createElementBlock("span",S,"Pending")):e.createCommentVNode("",!0),l.withdrawal.status=="failed"?(e.openBlock(),e.createElementBlock("span",C,"Ditolak")):e.createCommentVNode("",!0),l.withdrawal.status=="approved"?(e.openBlock(),e.createElementBlock("span",P,"Disetujui")):e.createCommentVNode("",!0)])]),l.withdrawal.status=="approved"?(e.openBlock(),e.createElementBlock("tr",T,[t[23]||(t[23]=e.createElementVNode("td",null,"Tanggal Disetujui",-1)),t[24]||(t[24]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(l.withdrawal.date_approved?n.formatDateWithTimeHourMinute(l.withdrawal.date_approved):"-"),1)])):e.createCommentVNode("",!0),l.withdrawal.status=="approved"?(e.openBlock(),e.createElementBlock("tr",j,[t[25]||(t[25]=e.createElementVNode("td",null,"Bukti Transfer",-1)),t[26]||(t[26]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,[e.createElementVNode("img",{src:"/storage/upload_files/withdrawal_payment_confirmation/"+l.withdrawal.file,style:{width:"300px"}},null,8,x)])])):e.createCommentVNode("",!0),l.withdrawal.status=="pending"?(e.openBlock(),e.createElementBlock("tr",H,[t[28]||(t[28]=e.createElementVNode("td",null,"Ubah Status Transaksi",-1)),t[29]||(t[29]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,[e.withDirectives(e.createElementVNode("select",{class:e.normalizeClass(["form-control",{"is-invalid":l.errors.status}]),"onUpdate:modelValue":t[0]||(t[0]=r=>a.form.status=r)},[...t[27]||(t[27]=[e.createElementVNode("option",{value:""},"[ Pilih Status Transaksi ]",-1),e.createElementVNode("option",{value:"pending"},"Pending",-1),e.createElementVNode("option",{value:"approved"},"Disetujui",-1),e.createElementVNode("option",{value:"failed"},"Ditolak",-1)])],2),[[e.vModelSelect,a.form.status]]),l.errors.status?(e.openBlock(),e.createElementBlock("div",L,e.toDisplayString(l.errors.status),1)):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),l.withdrawal.status=="pending"?(e.openBlock(),e.createElementBlock("tr",M,[t[30]||(t[30]=e.createElementVNode("td",null,"Bukti Transfer",-1)),t[31]||(t[31]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,[e.createElementVNode("input",{type:"file",class:e.normalizeClass(["form-control",{"is-invalid":l.errors.file}]),onInput:t[1]||(t[1]=r=>a.form.file=r.target.files[0]),placeholder:"file"},null,34),l.errors.file?(e.openBlock(),e.createElementBlock("div",K,e.toDisplayString(l.errors.file),1)):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),l.withdrawal.status=="pending"?(e.openBlock(),e.createElementBlock("tr",h,[...t[32]||(t[32]=[e.createElementVNode("td",null," ",-1),e.createElementVNode("td",null," ",-1),e.createElementVNode("td",null,[e.createElementVNode("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1)])])):e.createCommentVNode("",!0)])])])],32)])])])])],64)}const O=c(E,[["render",A]]);export{O as default};
