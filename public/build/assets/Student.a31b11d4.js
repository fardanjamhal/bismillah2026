import{L as U}from"./Layout.2aa80b53.js";import{P as A}from"./Pagination.510ca4b4.js";import{L as D,H as N,r as P,c as a,a as b,w as f,b as e,t as o,f as l,d as h,e as E,v as L,F as T,g as j,h as p,i as G,j as k,o as n,k as V}from"./app.ae09f713.js";import{S as _}from"./sweetalert2.all.cfd94722.js";import{_ as I}from"./_plugin-vue_export-helper.cdc0426e.js";const M={layout:U,components:{Link:D,Head:N,Pagination:A},props:{examGroupUsers:Object,exam_group_id:Object},setup(s){const r=P(new URL(document.location).searchParams.get("search"));return{search:r,handleSearch:()=>{p.Inertia.get(`/admin/exam-groups/${s.exam_group_id}/students`,{search:r.value})},destroy:c=>{_.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(m=>{m.isConfirmed&&(p.Inertia.delete(`/admin/exam-groups/${c}/exam-group-users`),_.fire({title:"Deleted!",text:"Tryout Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},destroyExamResult:c=>{_.fire({title:"Apakah Anda yakin?",text:"Jika Tryout dihapus, maka anda tidak akan dapat mengembalikannya!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(m=>{m.isConfirmed&&(p.Inertia.delete(`/admin/exam-groups/${c}/delete-exam-group-result`),_.fire({title:"Deleted!",text:"Nilai Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},regenerateTryoutScore:(c,m)=>{_.fire({title:"Konfirmasi Hitung Ulang Nilai",text:"Hitung ulang nilai akan berpengaruh pada nilai yang sudah ada.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hitung Ulang"}).then(g=>{g.isConfirmed&&(p.Inertia.get(`/admin/exam-groups/${c}/students/${m}/regenerate-scores`),_.fire({title:"Success!",text:"Hitung Ulang Berhasil.",icon:"success",timer:1e3,showConfirmButton:!1}))})},regenerateAllTryoutScore:c=>{_.fire({title:"Konfirmasi Hitung Ulang Seluruh Nilai",text:"Jika hanya mengganti beberapa silakan cari peserta dan lakukan hitung ulang. Menghitung ulang seluruh nilai harus di pastikan hanya dilakukan dalam kondisi tertentu, karena menghitung ulang seluruh nilai membutuhkan waktu yang lama dan dapat mempengaruhi performa server Anda.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hitung Ulang"}).then(m=>{m.isConfirmed&&(p.Inertia.get(`/admin/exam-groups/${c}/students/regenerate-all-scores`),_.fire({title:"Success!",text:"Hitung Ulang Berhasil.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}}},F={class:"page-wrapper"},R={class:"page-content"},K=G('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Tryout</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Daftar Peserta Tryout</li></ol></nav></div></div>',1),z={key:0,class:"alert alert-success border-0 bg-success alert-dismissible fade show py-2"},J={class:"d-flex align-items-center"},O=e("div",{class:"font-35 text-white"},[e("i",{class:"bx bxs-check-circle"})],-1),q={class:"ms-3"},Q=e("h6",{class:"mb-0 text-white"},"Sukses",-1),W={class:"text-white"},X={key:1,class:"alert alert-danger border-0 bg-danger alert-dismissible fade show py-2"},Y={class:"d-flex align-items-center"},Z=e("div",{class:"font-35 text-white"},[e("i",{class:"bx bxs-message-square-x"})],-1),ee={class:"ms-3"},te=e("h6",{class:"mb-0 text-white"},"Gagal",-1),se={class:"text-white"},ae={class:"card border-top border-0 border-3 border-primary"},ne={class:"card-body"},ie={class:"row mb-3"},oe={class:"col-lg-4 col-md-12 mb-2"},re={class:"position-relative"},le=e("span",{class:"position-absolute top-50 product-show translate-middle-y"},[e("i",{class:"bx bx-search"})],-1),de={class:"col-lg-2 col-md-6 mb-2"},ce={class:"col-lg-2 col-md-6 mb-2"},ue={class:"dropdown"},me=e("button",{class:"btn btn-success w-100 dropdown-toggle btn-sm",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Export",-1),_e={class:"dropdown-menu"},he=["href"],pe=["href"],ge={class:"col-lg-3 col-md-6 mb-2"},be={class:"col-lg-1 col-md-6"},fe=V("Kembali"),ke={class:"table-responsive"},ve={class:"table mb-0",style:{"font-size":"10pt"}},ye={class:"table-light"},xe=e("th",null,"Peringkat",-1),we={key:0},Ce={key:1},Be={key:2},Se={key:3},Te=e("th",null,"Status Pengerjaan",-1),$e=e("th",null,"Nilai",-1),He=e("th",null,"Actions",-1),Ue={key:0},Ae={key:1},De={key:2},Ne={key:3},Pe={key:0,class:"badge bg-danger"},Ee={key:1,class:"badge bg-primary"},Le={class:"d-flex order-actions"},je=["href"],Ge=e("i",{class:"bx bx-file"},null,-1),Ve=[Ge],Ie=e("i",{class:"bx bx-grid-alt"},null,-1),Me=["onClick"],Fe=e("i",{class:"bx bx-refresh"},null,-1),Re=[Fe],Ke=["onClick"],ze=e("i",{class:"bx bxs-trash"},null,-1),Je=[ze],Oe={key:0,align:"center",colspan:"9"};function qe(s,r,d,u,$,H){var g,y,x,w;const v=k("Head"),c=k("Link"),m=k("Pagination");return n(),a(T,null,[b(v,null,{default:f(()=>{var t;return[e("title",null,o((t=s.$page.props.setting.app_name)!=null?t:"Atur Setting Terlebih Dahulu")+" - Data Tryout",1)]}),_:1}),e("div",F,[e("div",R,[K,s.$page.props.session.success?(n(),a("div",z,[e("div",J,[O,e("div",q,[Q,e("div",W,o(s.$page.props.session.success),1)])])])):l("",!0),s.$page.props.session.error?(n(),a("div",X,[e("div",Y,[Z,e("div",ee,[te,e("div",se,o(s.$page.props.session.error),1)])])])):l("",!0),e("div",ae,[e("div",ne,[e("div",ie,[e("div",oe,[e("form",{onSubmit:r[1]||(r[1]=h((...t)=>u.handleSearch&&u.handleSearch(...t),["prevent"]))},[e("div",re,[E(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>u.search=t),class:"form-control form-control-sm ps-5 radius-20",placeholder:"Cari Peserta....",size:"40",maxlength:"100"},null,512),[[L,u.search]]),le])],32)]),e("div",de,[e("a",{onClick:r[2]||(r[2]=h(t=>u.destroyExamResult(d.exam_group_id),["prevent"])),class:"btn btn-danger btn-sm w-100"},"Hapus Semua Hasil")]),e("div",ce,[e("div",ue,[me,e("ul",_e,[e("li",null,[e("a",{class:"dropdown-item",target:"_blank",href:`/admin/exam-groups/${d.exam_group_id}/export-excel`},"Export Hasil ke Excel",8,he)]),e("li",null,[e("a",{class:"dropdown-item",target:"_blank",href:`/admin/exam-groups/${d.exam_group_id}/export-pdf`},"Export Hasil ke PDF",8,pe)])])])]),e("div",ge,[e("a",{onClick:r[3]||(r[3]=h(t=>u.regenerateAllTryoutScore(d.exam_group_id),["prevent"])),class:"btn btn-primary btn-sm w-100"},"Hitung Ulang Seluruh Nilai")]),e("div",be,[b(c,{href:"/admin/exam-groups",class:"btn btn-primary w-100 btn-sm"},{default:f(()=>[fe]),_:1})])]),e("div",ke,[e("table",ve,[e("thead",ye,[e("tr",null,[xe,s.$page.props.setting.authentication_field.some(t=>t.name=="code"&&t.is_active=="1")?(n(),a("th",we,o((g=s.$page.props.setting.authentication_field.find(t=>t.name=="code"))==null?void 0:g.translate),1)):l("",!0),s.$page.props.setting.authentication_field.some(t=>t.name=="name"&&t.is_active=="1")?(n(),a("th",Ce,o((y=s.$page.props.setting.authentication_field.find(t=>t.name=="name"))==null?void 0:y.translate),1)):l("",!0),s.$page.props.setting.authentication_field.some(t=>t.name=="province_id"&&t.is_active=="1")?(n(),a("th",Be,o((x=s.$page.props.setting.authentication_field.find(t=>t.name=="province_id"))==null?void 0:x.translate),1)):l("",!0),s.$page.props.setting.authentication_field.some(t=>t.name=="city_id"&&t.is_active=="1")?(n(),a("th",Se,o((w=s.$page.props.setting.authentication_field.find(t=>t.name=="city_id"))==null?void 0:w.translate),1)):l("",!0),Te,$e,He])]),e("tbody",null,[(n(!0),a(T,null,j(d.examGroupUsers.data,(t,C)=>{var B,S;return n(),a("tr",{key:C},[e("td",null,o(++C+(d.examGroupUsers.current_page-1)*d.examGroupUsers.per_page),1),s.$page.props.setting.authentication_field.some(i=>i.name=="code"&&i.is_active=="1")?(n(),a("td",Ue,o((B=t.user.code)!=null?B:"-"),1)):l("",!0),s.$page.props.setting.authentication_field.some(i=>i.name=="name"&&i.is_active=="1")?(n(),a("td",Ae,o((S=t.user.name)!=null?S:"-"),1)):l("",!0),s.$page.props.setting.authentication_field.some(i=>i.name=="province_id"&&i.is_active=="1")?(n(),a("td",De,o(t.user.student&&t.user.student.province?t.user.student.province.name:"-"),1)):l("",!0),s.$page.props.setting.authentication_field.some(i=>i.name=="city_id"&&i.is_active=="1")?(n(),a("td",Ne,o(t.user.student&&t.user.student.city?t.user.student.city.name:"-"),1)):l("",!0),e("td",null,[t.is_finished==0?(n(),a("span",Pe,"Belum Selesai Mengerjakan")):(n(),a("span",Ee,"Selesai Mengerjakan"))]),e("td",null,o(s.gradeFormat(t.grade)),1),e("td",null,[e("div",Le,[e("a",{target:"_blank",href:`/admin/exam-groups/${t.exam_group_id}/students/${t.id}/export-pdf`,class:"ms-1"},Ve,8,je),b(c,{href:`/admin/exam-groups/${t.exam_group_id}/students/${t.id}/grades`,class:"ms-1"},{default:f(()=>[Ie]),_:2},1032,["href"]),e("a",{href:"#",onClick:h(i=>u.regenerateTryoutScore(t.exam_group_id,t.id),["prevent"]),class:"ms-1"},Re,8,Me),e("a",{href:"#",onClick:h(i=>u.destroy(t.id),["prevent"]),class:"ms-1"},Je,8,Ke)])])])}),128)),e("tr",null,[d.examGroupUsers.data.length?l("",!0):(n(),a("td",Oe,"Data Tidak Tersedia"))])])])]),b(m,{links:d.examGroupUsers.links,align:"end"},null,8,["links"])])])])])],64)}const et=I(M,[["render",qe]]);export{et as default};
