import{L as W}from"./Layout.48c4e186.js";import{L as X,H as Y,m as Z,c as r,a as K,w as z,b as s,d as x,e as $,f as m,v as _,n as c,F as f,h as g,g as l,k as q,p as v,t as d,i as ee,j as J,o}from"./app.c75ce23b.js";import{S as ie}from"./sweetalert2.esm.all.089855d2.js";import{a as h}from"./index.c5185775.js";import{_ as te}from"./_plugin-vue_export-helper.cdc0426e.js";const se={layout:W,components:{Link:X,Head:Y},data(){return{provinces:[]}},props:{errors:Object,user:Object},mounted(){h.get("/region/province").then(t=>{this.provinces=t.data}).catch(t=>console.error(t))},setup(t){const i=Z({id:t.user.id,code:t.user.code,name:t.user.name,email:t.user.email,username:t.user.username,password:"",password_confirmation:"",member_type:t.user.member_type,level:t.user.level,is_active:t.user.is_active,province_id:t.user.student&&t.user.student.province_id?t.user.student.province_id:"",city_id:t.user.student&&t.user.student.city_id?t.user.student.city_id:"",district_id:t.user.student&&t.user.student.district_id?t.user.student.district_id:"",village_id:t.user.student&&t.user.student.village_id?t.user.student.village_id:"",address:t.user.student&&t.user.student.address?t.user.student.address:"",phone_number:t.user.student&&t.user.student.phone_number?t.user.student.phone_number:"",gender:t.user.student&&t.user.student.gender?t.user.student.gender:"",cities:[],districts:[],villages:[]}),a=()=>{h.get(`/region/city/${i.province_id}`).then(u=>{i.city_id=t.user.student.province_id==i.province_id?t.user.student.city_id:"",i.district_id=t.user.student.city_id==i.city_id?t.user.student.district_id:"",i.village_id=t.user.student.district_id==i.district_id?t.user.student.village_id:"",i.cities=u.data}).catch(u=>console.error(u))},n=()=>{i.district_id=t.user.student.city_id==i.city_id?t.user.student.district_id:"",i.village_id=t.user.student.district_id==i.district_id?t.user.student.village_id:"",h.get(`/region/district/${i.city_id}`).then(u=>{i.districts=u.data}).catch(u=>console.error(u))},b=()=>{i.village_id=t.user.student.district_id==i.district_id?t.user.student.village_id:"",h.get(`/region/village/${i.district_id}`).then(u=>{i.villages=u.data}).catch(u=>console.error(u))},y=()=>{ee.Inertia.post(`/admin/users/${t.user.id}`,{_method:"PUT",id:i.id,code:i.code,name:i.name,email:i.email,username:i.username,password:i.password,password_confirmation:i.password_confirmation,member_type:i.member_type,level:i.level,is_active:i.is_active,province_id:i.province_id,city_id:i.city_id,district_id:i.district_id,village_id:i.village_id,address:i.address,phone_number:i.phone_number,gender:i.gender},{onSuccess:()=>{ie.fire({title:"Success!",text:"User Berhasil Disimpan!.",icon:"success",showConfirmButton:!1,timer:1e3})}})};return t.user.student&&(a(),n(),b()),{form:i,submit:y,cityData:a,districtData:n,villageData:b}}},ae={class:"page-wrapper"},ne={class:"page-content"},re={class:"card border-top border-0 border-3 border-primary"},oe={class:"card-header"},de={class:"d-lg-flex align-items-center"},le={class:"ms-auto"},me={class:"card-body"},ce={key:0,class:"alert alert-danger border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2"},ue={class:"mt-3"},_e={key:1,class:"alert alert-danger border-0"},ve=["innerHTML"],fe={class:"row g-3"},ge={class:"col-lg-12"},be={key:0,class:"invalid-feedback"},he={class:"col-lg-12"},ye={key:0,class:"invalid-feedback"},pe={key:0,class:"col-lg-12"},ke={class:"form-label"},we=["placeholder"],Ue={key:0,class:"invalid-feedback"},Ve={key:1,class:"col-lg-12"},De={class:"form-label"},Le=["placeholder"],Pe={key:0,class:"invalid-feedback"},Se={key:2,class:"col-lg-12"},Me={class:"form-label"},Te=["placeholder"],Ce={key:0,class:"invalid-feedback"},Ae={key:3,class:"col-lg-12"},Be={class:"form-label"},He=["placeholder"],Ne={key:0,class:"invalid-feedback"},je={key:4,class:"col-lg-12"},Ee={class:"form-label"},Fe=["placeholder"],Ie={key:0,class:"invalid-feedback"},Oe={key:5,class:"col-lg-12"},Ge={class:"form-label"},Ke=["placeholder"],ze={key:0,class:"invalid-feedback"},qe={class:"col-lg-12"},Je={key:0,class:"invalid-feedback"},Qe={class:"card border-top border-0 border-3 border-primary"},Re={key:0,class:"card-header"},We={class:"card-body"},Xe={class:"row g-3"},Ye={key:0,class:"col-lg-12"},Ze={class:"form-label"},xe=["value"],$e={key:0,class:"invalid-feedback"},ei={key:1,class:"col-lg-12"},ii={class:"form-label"},ti=["value"],si={key:0,class:"invalid-feedback"},ai={key:2,class:"col-lg-12"},ni={class:"form-label"},ri=["value"],oi={key:0,class:"invalid-feedback"},di={key:3,class:"col-lg-12"},li={class:"form-label"},mi=["value"],ci={key:0,class:"invalid-feedback"},ui={key:4,class:"col-lg-12"},_i={class:"form-label"},vi=["placeholder"],fi={key:0,class:"invalid-feedback"},gi={key:5,class:"col-lg-12"},bi={class:"form-label"},hi={key:0,class:"invalid-feedback"},yi={key:6,class:"col-lg-12"},pi={class:"form-label"},ki=["placeholder"],wi={key:0,class:"invalid-feedback"};function Ui(t,i,a,n,b,y){var p,k,w,U,V,D,L,P,S,M,T,C,A,B,H,N,j,E,F,I,O;const u=J("Head"),Q=J("Link");return o(),r(f,null,[K(u,null,{default:z(()=>{var e;return[s("title",null,d((e=t.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Edit User",1)]}),_:1}),s("div",ae,[s("div",ne,[i[39]||(i[39]=x('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">User</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Edit User</li></ol></nav></div></div>',1)),s("form",{onSubmit:i[20]||(i[20]=$((...e)=>n.submit&&n.submit(...e),["prevent"]))},[m(s("input",{type:"hidden",class:c(["form-control",{"is-invalid":a.errors.id}]),"onUpdate:modelValue":i[0]||(i[0]=e=>n.form.id=e)},null,2),[[_,n.form.id]]),s("div",re,[s("div",oe,[s("div",de,[i[22]||(i[22]=s("h6",{class:"card-title mb-0"},"Informasi Akun",-1)),s("div",le,[K(Q,{href:"/admin/users",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:z(()=>[...i[21]||(i[21]=[q("Kembali",-1)])]),_:1})])])]),s("div",me,[Object.keys(a.errors).length>0?(o(),r("div",ce,[i[23]||(i[23]=s("strong",null,"Perhatian, pastikan inputan diisi dengan benar.",-1)),s("ul",ue,[(o(!0),r(f,null,g(a.errors,e=>(o(),r("li",null,d(e),1))),256))])])):l("",!0),t.$page.props.session.error?(o(),r("div",_e,[i[24]||(i[24]=s("i",{class:"fa fa-exclamation-triangle"},null,-1)),i[25]||(i[25]=q()),s("div",{innerHTML:t.$page.props.session.error},null,8,ve)])):l("",!0),s("div",fe,[s("div",ge,[i[27]||(i[27]=s("label",{class:"form-label"},"Level",-1)),m(s("select",{"onUpdate:modelValue":i[1]||(i[1]=e=>n.form.level=e),class:c([{"is-invalid":a.errors.level},"form-select"])},[...i[26]||(i[26]=[s("option",{value:""},"[ Pilih ]",-1),s("option",{value:"1"},"Admin",-1),s("option",{value:"2"},"Peserta",-1),s("option",{value:"3"},"Guru",-1)])],2),[[v,n.form.level]]),a.errors.level?(o(),r("div",be,d(a.errors.level),1)):l("",!0)]),s("div",he,[i[29]||(i[29]=s("label",{class:"form-label"},"Tipe Member",-1)),m(s("select",{"onUpdate:modelValue":i[2]||(i[2]=e=>n.form.member_type=e),class:c([{"is-invalid":a.errors.member_type},"form-select"])},[...i[28]||(i[28]=[s("option",{value:""},"[ Pilih ]",-1),s("option",{value:"1"},"Member Gratis Tryout",-1),s("option",{value:"2"},"Member Tryout Berbayar ",-1)])],2),[[v,n.form.member_type]]),a.errors.member_type?(o(),r("div",ye,d(a.errors.member_type),1)):l("",!0)]),n.form.level==2&&t.$page.props.setting.authentication_field.some(e=>e.name=="code"&&e.is_active=="1")?(o(),r("div",pe,[s("label",ke,d((p=t.$page.props.setting.authentication_field.find(e=>e.name=="code"))==null?void 0:p.translate),1),m(s("input",{type:"text",class:c(["form-control",{"is-invalid":a.errors.code}]),"onUpdate:modelValue":i[3]||(i[3]=e=>n.form.code=e),placeholder:(k=t.$page.props.setting.authentication_field.find(e=>e.name=="code"))==null?void 0:k.translate},null,10,we),[[_,n.form.code]]),a.errors.code?(o(),r("div",Ue,d(a.errors.code),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="name"&&e.is_active=="1")?(o(),r("div",Ve,[s("label",De,d((w=t.$page.props.setting.authentication_field.find(e=>e.name=="name"))==null?void 0:w.translate),1),m(s("input",{type:"text",class:c(["form-control",{"is-invalid":a.errors.name}]),"onUpdate:modelValue":i[4]||(i[4]=e=>n.form.name=e),placeholder:(U=t.$page.props.setting.authentication_field.find(e=>e.name=="name"))==null?void 0:U.translate},null,10,Le),[[_,n.form.name]]),a.errors.name?(o(),r("div",Pe,d(a.errors.name),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="email"&&e.is_active=="1")?(o(),r("div",Se,[s("label",Me,d((V=t.$page.props.setting.authentication_field.find(e=>e.name=="email"))==null?void 0:V.translate),1),m(s("input",{type:"email",class:c(["form-control",{"is-invalid":a.errors.email}]),"onUpdate:modelValue":i[5]||(i[5]=e=>n.form.email=e),placeholder:(D=t.$page.props.setting.authentication_field.find(e=>e.name=="email"))==null?void 0:D.translate},null,10,Te),[[_,n.form.email]]),a.errors.email?(o(),r("div",Ce,d(a.errors.email),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="username"&&e.is_active=="1")?(o(),r("div",Ae,[s("label",Be,d((L=t.$page.props.setting.authentication_field.find(e=>e.name=="username"))==null?void 0:L.translate),1),m(s("input",{type:"text",class:c(["form-control",{"is-invalid":a.errors.username}]),"onUpdate:modelValue":i[6]||(i[6]=e=>n.form.username=e),placeholder:(P=t.$page.props.setting.authentication_field.find(e=>e.name=="username"))==null?void 0:P.translate},null,10,He),[[_,n.form.username]]),a.errors.username?(o(),r("div",Ne,d(a.errors.username),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="password"&&e.is_active=="1")?(o(),r("div",je,[s("label",Ee,d((S=t.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:S.translate),1),m(s("input",{type:"password",class:c(["form-control",{"is-invalid":a.errors.password}]),"onUpdate:modelValue":i[7]||(i[7]=e=>n.form.password=e),placeholder:(M=t.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:M.translate},null,10,Fe),[[_,n.form.password]]),a.errors.password?(o(),r("div",Ie,d(a.errors.password),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="password"&&e.is_active=="1")?(o(),r("div",Oe,[s("label",Ge,"Konfirmasi "+d((T=t.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:T.translate),1),m(s("input",{type:"password",class:c(["form-control",{"is-invalid":a.errors.password_confirmation}]),"onUpdate:modelValue":i[8]||(i[8]=e=>n.form.password_confirmation=e),placeholder:(C=t.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:C.translate},null,10,Ke),[[_,n.form.password_confirmation]]),a.errors.password_confirmation?(o(),r("div",ze,d(a.errors.password_confirmation),1)):l("",!0)])):l("",!0),s("div",qe,[i[31]||(i[31]=s("label",{class:"form-label"},"Status Akun",-1)),m(s("select",{"onUpdate:modelValue":i[9]||(i[9]=e=>n.form.is_active=e),class:c([{"is-invalid":a.errors.is_active},"form-select"])},[...i[30]||(i[30]=[s("option",{value:""},"[ Pilih ]",-1),s("option",{value:"1"},"Active",-1),s("option",{value:"0"},"Non Active",-1)])],2),[[v,n.form.is_active]]),a.errors.is_active?(o(),r("div",Je,d(a.errors.is_active),1)):l("",!0)])])])]),s("div",Qe,[["province_id","city_id","district_id","village_id","address","gender","phone_number"].every(e=>{const G=t.$page.props.setting.authentication_field.find(R=>R.name===e);return G&&G.is_active=="1"})?(o(),r("div",Re,[...i[32]||(i[32]=[s("h6",{class:"card-title mb-0"},"Informasi Lainnya",-1)])])):l("",!0),s("div",We,[s("div",Xe,[t.$page.props.setting.authentication_field.some(e=>e.name=="province_id"&&e.is_active=="1")?(o(),r("div",Ye,[s("label",Ze,d((A=t.$page.props.setting.authentication_field.find(e=>e.name=="province_id"))==null?void 0:A.translate),1),m(s("select",{onChange:i[10]||(i[10]=(...e)=>n.cityData&&n.cityData(...e)),"onUpdate:modelValue":i[11]||(i[11]=e=>n.form.province_id=e),class:c([{"is-invalid":a.errors.province_id},"form-select"])},[i[33]||(i[33]=s("option",{value:""},"[ Pilih ]",-1)),(o(!0),r(f,null,g(b.provinces,e=>(o(),r("option",{value:e.id},d(e.name),9,xe))),256))],34),[[v,n.form.province_id]]),a.errors.province_id?(o(),r("div",$e,d(a.errors.province_id),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="city_id"&&e.is_active=="1")?(o(),r("div",ei,[s("label",ii,d((B=t.$page.props.setting.authentication_field.find(e=>e.name=="city_id"))==null?void 0:B.translate),1),m(s("select",{onChange:i[12]||(i[12]=(...e)=>n.districtData&&n.districtData(...e)),"onUpdate:modelValue":i[13]||(i[13]=e=>n.form.city_id=e),class:c([{"is-invalid":a.errors.city_id},"form-select"])},[i[34]||(i[34]=s("option",{value:""},"[ Pilih ]",-1)),(o(!0),r(f,null,g(n.form.cities,e=>(o(),r("option",{value:e.id},d(e.name),9,ti))),256))],34),[[v,n.form.city_id]]),a.errors.city_id?(o(),r("div",si,d(a.errors.city_id),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="district_id"&&e.is_active=="1")?(o(),r("div",ai,[s("label",ni,d((H=t.$page.props.setting.authentication_field.find(e=>e.name=="district_id"))==null?void 0:H.translate),1),m(s("select",{onChange:i[14]||(i[14]=(...e)=>n.villageData&&n.villageData(...e)),"onUpdate:modelValue":i[15]||(i[15]=e=>n.form.district_id=e),class:c([{"is-invalid":a.errors.district_id},"form-select"])},[i[35]||(i[35]=s("option",{value:""},"[ Pilih ]",-1)),(o(!0),r(f,null,g(n.form.districts,e=>(o(),r("option",{value:e.id},d(e.name),9,ri))),256))],34),[[v,n.form.district_id]]),a.errors.district_id?(o(),r("div",oi,d(a.errors.district_id),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="village_id"&&e.is_active=="1")?(o(),r("div",di,[s("label",li,d((N=t.$page.props.setting.authentication_field.find(e=>e.name=="village_id"))==null?void 0:N.translate),1),m(s("select",{"onUpdate:modelValue":i[16]||(i[16]=e=>n.form.village_id=e),class:c([{"is-invalid":a.errors.village_id},"form-select"])},[i[36]||(i[36]=s("option",{value:""},"[ Pilih ]",-1)),(o(!0),r(f,null,g(n.form.villages,e=>(o(),r("option",{value:e.id},d(e.name),9,mi))),256))],2),[[v,n.form.village_id]]),a.errors.village_id?(o(),r("div",ci,d(a.errors.village_id),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="address"&&e.is_active=="1")?(o(),r("div",ui,[s("label",_i,d((j=t.$page.props.setting.authentication_field.find(e=>e.name=="address"))==null?void 0:j.translate),1),m(s("textarea",{cols:"",rows:"5","onUpdate:modelValue":i[17]||(i[17]=e=>n.form.address=e),class:c([{"is-invalid":a.errors.address},"form-control"]),placeholder:(E=t.$page.props.setting.authentication_field.find(e=>e.name=="address"))==null?void 0:E.translate},null,10,vi),[[_,n.form.address]]),a.errors.address?(o(),r("div",fi,d(a.errors.address),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="gender"&&e.is_active=="1")?(o(),r("div",gi,[s("label",bi,d((F=t.$page.props.setting.authentication_field.find(e=>e.name=="gender"))==null?void 0:F.translate),1),m(s("select",{"onUpdate:modelValue":i[18]||(i[18]=e=>n.form.gender=e),class:c([{"is-invalid":a.errors.gender},"form-select"])},[...i[37]||(i[37]=[s("option",{value:""},"[ Pilih ]",-1),s("option",{value:"M"},"Laki-laki",-1),s("option",{value:"F"},"Perempuan",-1)])],2),[[v,n.form.gender]]),a.errors.gender?(o(),r("div",hi,d(a.errors.gender),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="phone_number"&&e.is_active=="1")?(o(),r("div",yi,[s("label",pi,d((I=t.$page.props.setting.authentication_field.find(e=>e.name=="phone_number"))==null?void 0:I.translate),1),m(s("input",{type:"text","onUpdate:modelValue":i[19]||(i[19]=e=>n.form.phone_number=e),class:c([{"is-invalid":a.errors.phone_number},"form-control"]),placeholder:(O=t.$page.props.setting.authentication_field.find(e=>e.name=="phone_number"))==null?void 0:O.translate},null,10,ki),[[_,n.form.phone_number]]),a.errors.phone_number?(o(),r("div",wi,d(a.errors.phone_number),1)):l("",!0)])):l("",!0),i[38]||(i[38]=s("div",{class:"col-lg-12"},[s("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1))])])])],32)])])],64)}const Mi=te(se,[["render",Ui]]);export{Mi as default};
