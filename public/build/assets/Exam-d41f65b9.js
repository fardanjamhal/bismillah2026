import{L as f}from"./Layout-39f88415.js";import{P as h}from"./Pagination-9f87d8b4.js";import{L as y,H as p,v as e,d as u}from"./app-548cbf60.js";import{S as g}from"./sweetalert2.esm.all-61741a63.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";const x={layout:f,components:{Link:y,Head:p,Pagination:h},props:{examGroups:Object,lessonCategory:Object,userMemberCategories:Object,subCategories:Object,session:Object},setup(o){const t=e.reactive({search:e.ref(new URL(document.location).searchParams.get("search")),sub_category_id:e.ref(new URL(document.location).searchParams.get("sub_category_id")||"")}),r=()=>{u.Inertia.get(`/user/exam-groups/${o.lessonCategory.category_id}/lesson-categories/${o.lessonCategory.id}/exams`,{search:t.search,sub_category_id:t.sub_category_id})};return o.session&&o.session.success&&g.fire({title:"Sukses",text:o.session.success,icon:"success"}),o.session&&o.session.error&&g.fire({title:"Peringatan",text:o.session.error,icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Top Up Saldo",cancelButtonText:"Tidak"}).then(a=>{a.isConfirmed&&u.Inertia.get("/user/account-balances")}),{form:t,checkMemberCategories:a=>{if(!a||!Array.isArray(a)||a.length===0)return!0;const c=a.map(l=>String(l.id));return o.userMemberCategories.some(l=>c.includes(String(l.member_category_id)))},handleSearch:r}},methods:{formatPrice(o){return(o/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},k={class:"page-wrapper"},V={class:"page-content"},N={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},E={class:"ms-auto"},C={class:"card"},B={class:"card-body bg-light p-3 rounded-3"},w={class:"input-group flex-md-nowrap flex-wrap"},T={class:"card mb-0"},S={class:"card-body p-3"},L={class:"list-group"},j={class:"exam-container"},M={class:"exam-info"},P={class:"text-dark fw-semibold"},G={class:"exam-action"},O={key:1,class:"list-group-item list-group-item-action order text-center"},U={key:0,class:"row mb-3"},A={class:"col-lg-12"},D={class:"d-flex justify-content-center",style:{"min-height":"0vh"}};function H(o,t,r,n,a,c){const l=e.resolveComponent("Head"),i=e.resolveComponent("Link"),b=e.resolveComponent("Pagination");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(l,null,{default:e.withCtx(()=>[e.createElementVNode("title",null,e.toDisplayString(o.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Tryout",1)]),_:1}),e.createElementVNode("div",k,[e.createElementVNode("div",V,[e.createElementVNode("div",N,[t[3]||(t[3]=e.createStaticVNode('<div class="breadcrumb-title pe-3">Tryout</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal Tryout</li></ol></nav></div>',2)),e.createElementVNode("div",E,[e.createVNode(i,{href:`/user/exam-groups/${r.lessonCategory.category_id}/lesson-categories`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:e.withCtx(()=>[...t[2]||(t[2]=[e.createTextVNode("Kembali",-1)])]),_:1},8,["href"])])]),t[9]||(t[9]=e.createElementVNode("hr",null,null,-1)),e.createElementVNode("div",C,[e.createElementVNode("div",B,[e.createElementVNode("div",w,[e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>n.form.search=s),class:"form-control form-control-sm sm-2",placeholder:"Judul Tryout ...."},null,512),[[e.vModelText,n.form.search]]),e.createElementVNode("button",{onClick:t[1]||(t[1]=e.withModifiers((...s)=>n.handleSearch&&n.handleSearch(...s),["prevent"])),class:"btn btn-primary btn-sm"},[...t[4]||(t[4]=[e.createElementVNode("i",{class:"bx bx-filter"},null,-1)])]),e.createVNode(i,{href:`/user/exam-groups/${r.lessonCategory.category_id}/lesson-categories/${r.lessonCategory.id}/exams`,class:"btn btn-danger btn-sm"},{default:e.withCtx(()=>[...t[5]||(t[5]=[e.createElementVNode("i",{class:"bx bx-refresh"},null,-1)])]),_:1},8,["href"])])])]),e.createElementVNode("div",T,[e.createElementVNode("div",S,[e.createElementVNode("div",L,[r.examGroups.data.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(r.examGroups.data,(s,_)=>{var d,m;return e.openBlock(),e.createElementBlock("div",{class:"list-group-item list-group-item-action p-2 border rounded shadow-sm",key:_},[e.createElementVNode("div",j,[e.createElementVNode("div",M,[e.createElementVNode("h6",P,e.toDisplayString(s.title),1)]),e.createElementVNode("div",G,[n.checkMemberCategories(s.member_categories)?(e.openBlock(),e.createBlock(i,{key:0,href:`/user/exam-groups/${(d=r.lessonCategory)==null?void 0:d.category_id}/lesson-categories/${(m=r.lessonCategory)==null?void 0:m.id}/exams/${s==null?void 0:s.id}`,class:"btn btn-primary"},{default:e.withCtx(()=>[...t[6]||(t[6]=[e.createElementVNode("i",{class:"fas fa-pencil-alt me-2"},null,-1),e.createTextVNode(" Kerjakan ",-1)])]),_:1},8,["href"])):(e.openBlock(),e.createBlock(i,{key:1,href:`/user/vouchers?category_id=${s==null?void 0:s.category_id}`,class:"btn btn-outline-success"},{default:e.withCtx(()=>[...t[7]||(t[7]=[e.createTextVNode(" Upgrade Member ",-1)])]),_:1},8,["href"]))])])])}),128)):(e.openBlock(),e.createElementBlock("div",O,[...t[8]||(t[8]=[e.createElementVNode("h6",null,"Tryout Tidak Tersedia",-1)])]))])])]),r.examGroups.data.length?(e.openBlock(),e.createElementBlock("div",U,[e.createElementVNode("div",A,[e.createElementVNode("div",D,[e.createVNode(b,{links:r.examGroups.links},null,8,["links"])])])])):e.createCommentVNode("",!0)])])],64)}const q=v(x,[["render",H]]);export{q as default};
