import{L as S}from"./Layout.0abe6e10.js";import{P as B}from"./Pagination.92eeb244.js";import{L as z,H as L,p as G,r as v,h as C,c as o,a as y,w as i,b as t,e as K,v as U,d as x,F as _,g as M,f as n,i as N,j as f,o as s,t as u,W as l,k as p,n as R}from"./app.8fed3035.js";import{S as w}from"./sweetalert2.all.b5b5088d.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const E={layout:S,components:{Link:z,Head:L,Pagination:B},props:{examGroups:Object,lessonCategory:Object,userMemberCategories:Object,subCategories:Object,session:Object},setup(r){const g=G({search:v(new URL(document.location).searchParams.get("search")),sub_category_id:v(new URL(document.location).searchParams.get("sub_category_id")||"")}),a=()=>{C.Inertia.get(`/user/exam-groups/${r.lessonCategory.category_id}/lesson-categories/${r.lessonCategory.id}/exams`,{search:g.search,sub_category_id:g.sub_category_id})};return r.session&&r.session.success&&w.fire({title:"Sukses",text:r.session.success,icon:"success"}),r.session&&r.session.error&&w.fire({title:"Peringatan",text:r.session.error,icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Top Up Saldo",cancelButtonText:"Tidak"}).then(h=>{h.isConfirmed&&C.Inertia.get("/user/account-balances")}),{form:g,checkMemberCategories:h=>{if(h.length>0){const b=h.map(m=>m.id);return r.userMemberCategories.some(m=>b.includes(m.member_category_id))}else return!0},handleSearch:a}},methods:{formatPrice(r){return(r/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},H={class:"page-wrapper"},I={class:"page-content"},O={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},D=N('<div class="breadcrumb-title pe-3">Tryout</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal Tryout</li></ol></nav></div>',2),F={class:"ms-auto"},A=p("Kembali"),W=t("hr",null,null,-1),J={class:"card"},q={class:"card-body bg-light p-3 rounded-3"},Q={class:"input-group flex-md-nowrap flex-wrap"},X=t("i",{class:"bx bx-filter"},null,-1),Y=[X],Z=t("i",{class:"bx bx-refresh"},null,-1),ee={class:"card mb-0"},se={class:"card-body p-3"},te={class:"list-group"},re={class:"d-flex flex-column flex-md-row"},oe={class:"flex-grow-1 text-center text-sm-start"},ae={class:"my-2"},ne={class:"mb-1"},ie={class:"mb-1"},ce={key:1,class:"badge bg-success"},le={class:"d-flex flex-column action-button-exams text-center text-md-end"},de={key:0},_e=t("span",{class:"badge bg-success",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"2"}},"Enrolled",-1),ue=t("span",{class:"badge bg-success",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"2"}},null,-1),ge=t("span",{class:"badge bg-success",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"2"}},"Enrolled",-1),pe={key:1},be={key:0},he={key:0},me={class:"card-price"},ye={key:1},fe={class:"text-dark"},ke={class:"badge bg-danger mx-1"},ve=t("br",null,null,-1),Ce={key:2},Me=t("span",{class:"badge bg-warning text-dark",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"1"}},"Gratis",-1),we=[Me],Te={key:0},$e=p("Kerjakan"),je=p("Beli"),Pe=p("Kerjakan"),Se={key:0},Be={key:1},ze=p("Kerjakan"),Le=p("Kerjakan"),Ge=p("Beli"),Ke={key:0},Ue={key:1},xe=p("Kerjakan"),Ne=t("br",null,null,-1),Re={class:"badge bg-success"},Ve={key:1,class:"list-group-item list-group-item-action order"},Ee=t("h6",{class:"text-center"},"Tryout Tidak Tersedia",-1),He=[Ee],Ie={key:0,class:"row mb-3"},Oe={class:"col-lg-12"},De={class:"d-flex justify-content-center",style:{"min-height":"0vh"}};function Fe(r,g,a,c,h,b){const m=f("Head"),d=f("Link"),k=f("tempate"),T=f("Pagination");return s(),o(_,null,[y(m,null,{default:i(()=>{var e;return[t("title",null,u((e=r.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Tryout",1)]}),_:1}),t("div",H,[t("div",I,[t("div",O,[D,t("div",F,[y(d,{href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:i(()=>[A]),_:1},8,["href"])])]),W,t("div",J,[t("div",q,[t("div",Q,[K(t("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=e=>c.form.search=e),class:"form-control form-control-sm sm-2",placeholder:"Judul Tryout ...."},null,512),[[U,c.form.search]]),t("button",{onClick:g[1]||(g[1]=x((...e)=>c.handleSearch&&c.handleSearch(...e),["prevent"])),class:"btn btn-primary btn-sm"},Y),y(d,{href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories/${a.lessonCategory.id}/exams`,class:"btn btn-danger btn-sm"},{default:i(()=>[Z]),_:1},8,["href"])])])]),t("div",ee,[t("div",se,[t("div",te,[a.examGroups.data.length?(s(!0),o(_,{key:0},M(a.examGroups.data,(e,$)=>(s(),o("div",{class:"list-group-item list-group-item-action p-2 mb-2 border",key:$},[t("div",re,[t("div",oe,[t("h6",ae,u(e.title),1),t("p",ne,[e.sub_categories&&e.sub_categories.length?(s(!0),o(_,{key:0},M(e.sub_categories,(j,P)=>(s(),o("span",{key:P,class:"badge bg-danger me-1"},u(j.name),1))),128)):n("",!0)]),t("p",ie,[(r.$page.props.setting.tryout_sales_type==2||r.$page.props.setting.tryout_sales_type==3)&&r.$page.props.auth.user.member_type==2?(s(),o(_,{key:0},[e.member_categories&&e.member_categories.length?(s(),o(_,{key:0},[],64)):(s(),o("span",ce," Seluruh Member & Non Member "))],64)):n("",!0)])]),t("div",le,[r.$page.props.auth.user.member_type==2?(s(),o("div",de,[r.$page.props.setting.tryout_sales_type==1&&e.user_access.length>0?(s(),l(k,{key:0},{default:i(()=>[_e]),_:1})):n("",!0),r.$page.props.setting.tryout_sales_type==2&&e.member_categories.length>0&&c.checkMemberCategories(e.member_categories)==!0?(s(),l(k,{key:1},{default:i(()=>[ue]),_:1})):n("",!0),r.$page.props.setting.tryout_sales_type==3&&(e.user_access.length>0||c.checkMemberCategories(e.member_categories)==!0)?(s(),l(k,{key:2},{default:i(()=>[ge]),_:1})):n("",!0)])):n("",!0),(r.$page.props.setting.tryout_sales_type==1||r.$page.props.setting.tryout_sales_type==3)&&r.$page.props.auth.user.member_type==2?(s(),o("div",pe,[e.price_type==2?(s(),o("div",be,[e.price_before_discount==e.price_after_discount?(s(),o("div",he,[t("h6",me,"Rp."+u(b.formatPrice(e.price_after_discount)),1)])):(s(),o("div",ye,[t("h6",fe,[t("sup",null,[t("s",null,"Rp."+u(b.formatPrice(e.price_before_discount)),1),t("span",ke,u(b.formatPrice((e.price_before_discount-e.price_after_discount)/e.price_before_discount*100))+"% ",1)]),ve,p(" Rp."+u(b.formatPrice(e.price_after_discount)),1)])]))])):n("",!0)])):n("",!0),r.$page.props.setting.tryout_sales_type==1&&e.price_type==1||r.$page.props.setting.tryout_sales_type==2&&e.member_categories.length==0||r.$page.props.setting.tryout_sales_type==3&&(e.member_categories.length==0||e.price_type==1)?(s(),o("div",Ce,we)):n("",!0),t("div",null,[e.exam_status=="active"?(s(),o("div",Te,[r.$page.props.auth.user.member_type==2&&r.$page.props.setting.enable_tryout_sales==1?(s(),o(_,{key:0},[r.$page.props.setting.tryout_sales_type==1?(s(),o(_,{key:0},[e.user_access.length>0||e.price_type==1?(s(),l(d,{key:0,href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories/${a.lessonCategory.id}/exams/${e.id}`,class:"btn btn-sm btn-primary"},{default:i(()=>[$e]),_:2},1032,["href"])):(s(),l(d,{key:1,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/examGroup/${e.id}/buy`},{default:i(()=>[je]),_:2},1032,["href"]))],64)):n("",!0),r.$page.props.setting.tryout_sales_type==2?(s(),o(_,{key:1},[c.checkMemberCategories(e.member_categories)==!0?(s(),l(d,{key:0,href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories/${a.lessonCategory.id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:i(()=>[Pe]),_:2},1032,["href"])):(s(),l(d,{key:1,href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-sm btn-success"},{default:i(()=>[e.member_categories.length==1?(s(),o("span",Se,"Upgrade Ke "+u(e.member_categories[0].name),1)):(s(),o("span",Be,"Upgrade Member"))]),_:2},1032,["href"]))],64)):n("",!0),r.$page.props.setting.tryout_sales_type==3?(s(),o(_,{key:2},[e.user_access.length>0&&c.checkMemberCategories(e.member_categories)==!0?(s(),l(d,{key:0,href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories/${a.lessonCategory.id}/exams/${e.id}`,class:"btn btn-sm btn-primary"},{default:i(()=>[ze]),_:2},1032,["href"])):n("",!0),(e.user_access.length==0||c.checkMemberCategories(e.member_categories)==!1)&&(e.user_access.length>0||c.checkMemberCategories(e.member_categories)==!0||e.price_type==1)?(s(),l(d,{key:1,href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories/${a.lessonCategory.id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:i(()=>[Le]),_:2},1032,["href"])):n("",!0),e.user_access.length==0&&e.price_type==2?(s(),l(d,{key:2,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/examGroup/${e.id}/buy`},{default:i(()=>[Ge]),_:2},1032,["href"])):n("",!0),c.checkMemberCategories(e.member_categories)==!1?(s(),l(d,{key:3,href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-sm btn-success"},{default:i(()=>[e.member_categories.length==1?(s(),o("span",Ke,"Upgrade Ke "+u(e.member_categories[0].name),1)):(s(),o("span",Ue,"Upgrade Member"))]),_:2},1032,["href"])):n("",!0)],64)):n("",!0)],64)):(s(),l(d,{key:1,href:`/user/exam-groups/${a.lessonCategory.category_id}/lesson-categories/${a.lessonCategory.id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:i(()=>[xe]),_:2},1032,["href"]))])):(s(),o(_,{key:1},[t("span",{class:R(["badge",{"bg-danger":e.exam_status=="inactive","bg-warning":e.exam_status==="inprogress"}])},u(e.exam_status==="inactive"?"Inactive":"In Progress"),3),e.exam_status=="inprogress"&&e.release_date?(s(),o(_,{key:0},[Ne,t("span",Re,"Rilis "+u(r.formatDateWithTimeHourMinute(e.release_date)),1)],64)):n("",!0)],64))])])])]))),128)):(s(),o("div",Ve,He))])])]),a.examGroups.data.length?(s(),o("div",Ie,[t("div",Oe,[t("div",De,[y(T,{links:a.examGroups.links},null,8,["links"])])])])):n("",!0)])])],64)}const Xe=V(E,[["render",Fe]]);export{Xe as default};
