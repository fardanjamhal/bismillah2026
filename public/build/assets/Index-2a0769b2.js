import{L as B}from"./Layout-80160f1d.js";import{P as C}from"./Pagination-eba5b0b6.js";import{L as S,H as T,r as L,a as m,o as n,c as i,b as a,w as o,d as t,e as A,f as _,g as P,v as H,F as f,i as N,h as b,j as v,t as r,k as c,n as y}from"./app-50a2f634.js";import{S as k}from"./sweetalert2.esm.all-61741a63.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";const U={layout:B,components:{Link:S,Head:T,Pagination:C},props:{news:Object},setup(){const u=L(new URL(document.location).searchParams.get("search"));return{search:u,handleSearch:()=>{v.Inertia.get("/admin/news",{search:u.value})},destroy:l=>{k.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(h=>{h.isConfirmed&&(v.Inertia.delete(`/admin/news/${l}`),k.fire({title:"Deleted!",text:"Berita Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}}},j={class:"page-wrapper"},z={class:"page-content"},I={class:"card border-top border-0 border-3 border-primary"},E={class:"card-body"},F={class:"d-lg-flex align-items-center mb-4 gap-3"},J={class:"position-relative"},M={class:"ms-auto"},q={class:"table mb-0",style:{"font-size":"10pt"}},O={key:0},R=["src"],W={key:1},$={class:"btn-group"},G={class:"dropdown-menu"},K={key:0},Q={key:1},X={class:"dropdown"},Y={class:"dropdown-menu","data-popper-placement":"top-start","data-popper-reference-hidden":"","data-popper-escaped":""},Z=["onClick"],D={key:0,align:"center",colspan:"7"};function tt(u,e,d,l,h,et){const w=m("Head"),p=m("Link"),x=m("Pagination");return n(),i(f,null,[a(w,null,{default:o(()=>[t("title",null,r(u.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Data Berita",1)]),_:1}),t("div",j,[t("div",z,[e[11]||(e[11]=A('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Berita</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Berita</li></ol></nav></div></div>',1)),t("div",I,[t("div",E,[t("div",F,[t("form",{onSubmit:e[1]||(e[1]=_((...s)=>l.handleSearch&&l.handleSearch(...s),["prevent"]))},[t("div",J,[P(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>l.search=s),class:"form-control ps-5 radius-20",placeholder:"Cari Berdasarkan Judul....",size:"40",maxlength:"100"},null,512),[[H,l.search]]),e[2]||(e[2]=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1))])],32),t("div",M,[a(p,{href:"/admin/news/create",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:o(()=>[...e[3]||(e[3]=[t("i",{class:"bx bxs-plus-square"},null,-1),c(" Tambah Berita",-1)])]),_:1})])]),t("table",q,[e[10]||(e[10]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"No"),t("th",null,"Thumbnail"),t("th",null,"Judul"),t("th",{width:"200px"},"Dibuat"),t("th",null,"Created at"),t("th",null,"Status"),t("th",null,"Actions")])],-1)),t("tbody",null,[(n(!0),i(f,null,N(d.news.data,(s,g)=>(n(),i("tr",{key:g},[t("td",null,r(++g+(d.news.current_page-1)*d.news.per_page),1),t("td",null,[s.thumbnail?(n(),i("div",O,[t("img",{src:"/storage/upload_files/news/"+s.thumbnail,style:{width:"90px"}},null,8,R)])):(n(),i("div",W," - "))]),t("td",null,r(s.title),1),t("td",null,r(s.user?s.user.name:"-"),1),t("td",null,r(u.formatDateWithTime(s.created_at)),1),t("td",null,[t("div",$,[t("button",{type:"button",class:y({btn:!0,"btn-sm":!0,"btn-danger":s.is_published==0,"btn-primary":s.is_published==1})},r(s.is_published==1?"Published":"Unpublished"),3),t("button",{type:"button",class:y([{btn:!0,"btn-sm":!0,"btn-danger":s.is_published==0,"btn-primary":s.is_published==1,"split-bg-danger":s.is_published==0,"split-bg-primary":s.is_published==1},"dropdown-toggle dropdown-toggle-split"]),"data-bs-toggle":"dropdown","aria-expanded":"false"},[...e[4]||(e[4]=[t("span",{class:"visually-hidden"},"Toggle Dropdown",-1)])],2),t("ul",G,[s.is_published!=1?(n(),i("li",K,[a(p,{class:"dropdown-item",href:`/admin/news/${s.id}/change-status?is_published=1`},{default:o(()=>[...e[5]||(e[5]=[c("Published",-1)])]),_:1},8,["href"])])):b("",!0),s.is_published!=0?(n(),i("li",Q,[a(p,{class:"dropdown-item",href:`/admin/news/${s.id}/change-status?is_published=0`},{default:o(()=>[...e[6]||(e[6]=[c("Unpublished",-1)])]),_:1},8,["href"])])):b("",!0)])])]),t("td",null,[t("div",X,[e[9]||(e[9]=t("button",{class:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true"},"Action",-1)),t("ul",Y,[t("li",null,[a(p,{class:"dropdown-item",href:`/admin/news/${s.id}`},{default:o(()=>[...e[7]||(e[7]=[c("Detail",-1)])]),_:1},8,["href"])]),t("li",null,[a(p,{class:"dropdown-item",href:`/admin/news/${s.id}/edit`},{default:o(()=>[...e[8]||(e[8]=[c("Edit",-1)])]),_:1},8,["href"])]),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:_(st=>l.destroy(s.id),["prevent"])},"Hapus",8,Z)])])])])]))),128)),t("tr",null,[d.news.data.length?b("",!0):(n(),i("td",D,"Data Tidak Tersedia"))])])]),a(x,{links:d.news.links,align:"end"},null,8,["links"])])])])])],64)}const ot=V(U,[["render",tt]]);export{ot as default};
