import{L as S}from"./Layout.0abe6e10.js";import{P}from"./Pagination.92eeb244.js";import{L as B,H as L,p as T,r as v,h as $,c as o,a as y,w as i,b as s,e as z,v as K,d as U,F as d,g as C,f as a,i as O,j as f,o as t,t as g,W as c,k as p,n as R}from"./app.8fed3035.js";import{S as I}from"./sweetalert2.all.b5b5088d.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const H={layout:S,components:{Link:B,Head:L,Pagination:P},props:{exams:Object,categoryId:Object,lessonCategoryId:Object,lessonId:Object,userMemberCategories:Object,subCategories:Object,session:Object},setup(r){const u=T({search:v(new URL(document.location).searchParams.get("search")),sub_category_id:v(new URL(document.location).searchParams.get("sub_category_id")||"")}),l=()=>{$.Inertia.get(`/user/categories/${r.categoryId}/lesson-categories/${r.lessonCategoryId}/lessons/${r.lessonId}/exams`,{search:u.search,sub_category_id:u.sub_category_id})};return r.session&&r.session.success&&I.fire({title:"Sukses",text:r.session.success,icon:"success"}),r.session&&r.session.error&&I.fire({title:"Peringatan",text:r.session.error,icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Top Up Saldo",cancelButtonText:"Tidak"}).then(h=>{h.isConfirmed&&$.Inertia.get("/user/account-balances")}),{form:u,handleSearch:l,checkMemberCategories:h=>{if(h.length>0){const b=h.map(m=>m.id);return r.userMemberCategories.some(m=>b.includes(m.member_category_id))}else return!0}}},methods:{formatPrice(r){return(r/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},N={class:"page-wrapper"},D={class:"page-content"},E={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},F=O('<div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal</li></ol></nav></div>',2),A={class:"ms-auto"},W=p("Kembali"),G=s("hr",null,null,-1),J={class:"card"},Q={class:"card-body bg-light p-3 rounded-3"},X={class:"input-group flex-md-nowrap flex-wrap"},Y=s("i",{class:"bx bx-filter"},null,-1),Z=[Y],x=s("i",{class:"bx bx-refresh"},null,-1),ee={class:"card mb-0"},se={class:"card-body p-3"},te={class:"list-group"},re={class:"d-flex flex-column flex-md-row"},oe={class:"flex-grow-1 text-center text-sm-start"},ae={class:"my-2"},ie={class:"mb-1"},ne={class:"mb-1"},ce={class:"d-flex flex-column action-button-exams text-center text-md-end"},le={key:0},_e=s("span",{class:"badge bg-success",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"2"}},"Enrolled",-1),de=s("span",{class:"badge bg-success",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"2"}},null,-1),ge=s("span",{class:"badge bg-success",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"2"}},"Enrolled",-1),ue={key:1},pe={key:0},be={key:0},he={class:"card-price"},me={key:1},ye={class:"text-dark"},fe={class:"badge bg-danger mx-1"},ke=s("br",null,null,-1),ve={key:2},$e=s("span",{class:"badge bg-warning text-dark",style:{position:"absolute",left:"-10px",top:"-5px","font-size":"10px","z-index":"1"}},"Gratis",-1),Ce=[$e],Ie={key:0},we=p("Kerjakan"),Me=p("Beli"),je=p("Kerjakan"),qe={key:0},Se={key:1},Pe=p("Kerjakan"),Be=p("Kerjakan"),Le=p("Beli"),Te={key:0},ze={key:1},Ke=p("Kerjakan"),Ue=s("br",null,null,-1),Oe={class:"badge bg-success"},Re={key:1,class:"list-group-item list-group-item-action order"},Ve=s("h6",{class:"text-center"},"Tryout Tidak Tersedia",-1),He=[Ve],Ne={key:0,class:"row mb-3"},De={class:"col-lg-12"},Ee={class:"d-flex justify-content-center",style:{"min-height":"0vh"}};function Fe(r,u,l,n,h,b){const m=f("Head"),_=f("Link"),k=f("tempate"),w=f("Pagination");return t(),o(d,null,[y(m,null,{default:i(()=>{var e;return[s("title",null,g((e=r.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Soal",1)]}),_:1}),s("div",N,[s("div",D,[s("div",E,[F,s("div",A,[y(_,{href:`/user/categories/${l.categoryId}/lesson-categories/${l.lessonCategoryId}/lessons`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:i(()=>[W]),_:1},8,["href"])])]),G,s("div",J,[s("div",Q,[s("div",X,[z(s("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=e=>n.form.search=e),class:"form-control form-control-sm sm-2",placeholder:"Judul Latihan ...."},null,512),[[K,n.form.search]]),s("button",{onClick:u[1]||(u[1]=U((...e)=>n.handleSearch&&n.handleSearch(...e),["prevent"])),class:"btn btn-primary btn-sm"},Z),y(_,{href:`/user/categories/${l.categoryId}/lesson-categories/${l.lessonCategoryId}/lessons/${l.lessonId}/exams`,class:"btn btn-danger btn-sm"},{default:i(()=>[x]),_:1},8,["href"])])])]),s("div",ee,[s("div",se,[s("div",te,[l.exams.data.length?(t(!0),o(d,{key:0},C(l.exams.data,(e,M)=>(t(),o("div",{class:"list-group-item list-group-item-action p-2 mb-2 border",key:M},[s("div",re,[s("div",oe,[s("h6",ae,g(e.title),1),s("p",ie,[e.sub_categories&&e.sub_categories.length?(t(!0),o(d,{key:0},C(e.sub_categories,(j,q)=>(t(),o("span",{key:q,class:"badge bg-danger me-1"},g(j.name),1))),128)):a("",!0)]),s("p",ne,[(r.$page.props.setting.practice_question_sales_type==2||r.$page.props.setting.practice_question_sales_type==3)&&r.$page.props.auth.user.member_type==2?(t(),o(d,{key:0},[e.member_categories&&e.member_categories.length?(t(),o(d,{key:0},[],64)):a("",!0)],64)):a("",!0)])]),s("div",ce,[r.$page.props.auth.user.member_type==2?(t(),o("div",le,[r.$page.props.setting.practice_question_sales_type==1&&e.user_access.length>0?(t(),c(k,{key:0},{default:i(()=>[_e]),_:1})):a("",!0),r.$page.props.setting.practice_question_sales_type==2&&e.member_categories.length>0&&n.checkMemberCategories(e.member_categories)==!0?(t(),c(k,{key:1},{default:i(()=>[de]),_:1})):a("",!0),r.$page.props.setting.practice_question_sales_type==3&&(e.user_access.length>0||n.checkMemberCategories(e.member_categories)==!0)?(t(),c(k,{key:2},{default:i(()=>[ge]),_:1})):a("",!0)])):a("",!0),(r.$page.props.setting.practice_question_sales_type==1||r.$page.props.setting.practice_question_sales_type==3)&&r.$page.props.auth.user.member_type==2?(t(),o("div",ue,[e.price_type==2?(t(),o("div",pe,[e.price_before_discount==e.price_after_discount?(t(),o("div",be,[s("h6",he,"Rp."+g(b.formatPrice(e.price_after_discount)),1)])):(t(),o("div",me,[s("h6",ye,[s("sup",null,[s("s",null,"Rp."+g(b.formatPrice(e.price_before_discount)),1),s("span",fe,g(b.formatPrice((e.price_before_discount-e.price_after_discount)/e.price_before_discount*100))+"% ",1)]),ke,p(" Rp."+g(b.formatPrice(e.price_after_discount)),1)])]))])):a("",!0)])):a("",!0),r.$page.props.setting.practice_question_sales_type==1&&e.price_type==1||r.$page.props.setting.practice_question_sales_type==2&&e.member_categories.length==0||r.$page.props.setting.practice_question_sales_type==3&&(e.member_categories.length==0||e.price_type==1)?(t(),o("div",ve,Ce)):a("",!0),s("div",null,[e.exam_status=="active"?(t(),o("div",Ie,[r.$page.props.auth.user.member_type==2&&r.$page.props.setting.enable_practice_question_sales==1?(t(),o(d,{key:0},[r.$page.props.setting.practice_question_sales_type==1?(t(),o(d,{key:0},[e.user_access.length>0||e.price_type==1?(t(),c(_,{key:0,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:i(()=>[we]),_:2},1032,["href"])):(t(),c(_,{key:1,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/exam/${e.id}/buy`},{default:i(()=>[Me]),_:2},1032,["href"]))],64)):a("",!0),r.$page.props.setting.practice_question_sales_type==2?(t(),o(d,{key:1},[n.checkMemberCategories(e.member_categories)==!0?(t(),c(_,{key:0,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:i(()=>[je]),_:2},1032,["href"])):(t(),c(_,{key:1,href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-sm btn-success"},{default:i(()=>[e.member_categories.length==1?(t(),o("span",qe,"Upgrade Ke "+g(e.member_categories[0]?e.member_categories[0].name:""),1)):(t(),o("span",Se,"Upgrade Member"))]),_:2},1032,["href"]))],64)):a("",!0),r.$page.props.setting.practice_question_sales_type==3?(t(),o(d,{key:2},[e.user_access.length>0&&n.checkMemberCategories(e.member_categories)==!0?(t(),c(_,{key:0,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:i(()=>[Pe]),_:2},1032,["href"])):a("",!0),(e.user_access.length==0||n.checkMemberCategories(e.member_categories)==!1)&&(e.user_access.length>0||n.checkMemberCategories(e.member_categories)==!0||e.price_type==1)?(t(),c(_,{key:1,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:i(()=>[Be]),_:2},1032,["href"])):a("",!0),e.user_access.length==0&&e.price_type==2?(t(),c(_,{key:2,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/exam/${e.id}/buy`},{default:i(()=>[Le]),_:2},1032,["href"])):a("",!0),n.checkMemberCategories(e.member_categories)==!1?(t(),c(_,{key:3,href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-sm btn-success"},{default:i(()=>[e.member_categories.length==1?(t(),o("span",Te,"Upgrade Ke "+g(e.member_categories[0]?e.member_categories[0].name:""),1)):(t(),o("span",ze,"Upgrade Member"))]),_:2},1032,["href"])):a("",!0)],64)):a("",!0)],64)):(t(),c(_,{key:1,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-sm btn-primary me-1"},{default:i(()=>[Ke]),_:2},1032,["href"]))])):(t(),o(d,{key:1},[s("span",{class:R(["badge",{"bg-danger":e.exam_status=="inactive","bg-warning":e.exam_status==="inprogress"}])},g(e.exam_status==="inactive"?"Inactive":"In Progress"),3),e.exam_status=="inprogress"&&e.release_date?(t(),o(d,{key:0},[Ue,s("span",Oe,"Rilis "+g(r.formatDateWithTimeHourMinute(e.release_date)),1)],64)):a("",!0)],64))])])])]))),128)):(t(),o("div",Re,He))])])]),l.exams.data.length?(t(),o("div",Ne,[s("div",De,[s("div",Ee,[y(w,{links:l.exams.links},null,8,["links"])])])])):a("",!0)])])],64)}const Xe=V(H,[["render",Fe]]);export{Xe as default};
