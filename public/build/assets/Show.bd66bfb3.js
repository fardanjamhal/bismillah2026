import{L as M}from"./Layout.48c4e186.js";import{L,H as C,c as r,a as f,w as u,b as e,t as l,g as d,F as i,h as k,k as g,y as h,j as p,o as s}from"./app.c75ce23b.js";import{_ as w}from"./_plugin-vue_export-helper.cdc0426e.js";const H={layout:M,components:{Link:L,Head:C},props:{module:Object,userMemberCategories:Object},setup(o){return{checkMemberCategories:t=>{t=t||[];const m=o.userMemberCategories||[];if(t.length>0){const y=t.map(n=>String(n.id));return m.some(n=>y.includes(String(n.member_category_id)))}else return!0}}},methods:{formatPrice(o){return(o/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},T={class:"page-wrapper"},x={class:"page-content"},B={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},S={class:"ps-3"},N={"aria-label":"breadcrumb"},P={class:"breadcrumb mb-0 p-0"},j={class:"breadcrumb-item active","aria-current":"page"},E={class:"ms-auto"},U={class:"row"},V={class:"col-lg-12"},D={key:0,class:"alert alert-danger border-0"},F=["innerHTML"],K={key:1,class:"alert alert-success border-0"},R=["innerHTML"],A={class:"col-12"},O={class:"card radius-10 border-start border-0 border-3 border-primary"},G={class:"card-body"},I={class:"row"},q={class:"col-lg-9 col-md-12"},z={class:"mt-0"},J=["innerHTML"],Q={class:"my-2 text-center text-md-start"},W={key:1,class:"badge bg-success"},X={class:"col-lg-3 col-md-12 text-center text-md-end"},Y={key:0},Z={key:0},$={key:0},ee={class:"card-price"},te={key:1},se={class:"text-dark"},re={class:"badge bg-danger mx-1"},ae={key:1},oe={key:0,class:"badge bg-warning text-dark font-13 m-1"},le={key:0,class:"badge bg-warning text-dark font-13 m-1"},de={key:0},ne={key:1},ie={key:0,class:"badge bg-warning text-dark font-13 m-1"},me={key:1,class:"badge bg-warning text-dark font-13 m-1"},ce={key:0},ue={key:1},_e={class:"row"},be={class:"col-12"},ge={class:"card radius-10 border-start border-0 border-3 border-primary"},he={class:"card-body"},ye={class:"mt-3"},fe={class:"table table-hover table-striped"},ke={class:"d-flex align-items-center"},pe={class:"font-weight-bold text-primary"},ve=["href"],Me={key:1};function Le(o,a,t,m,y,n){const v=p("Head"),_=p("Link");return s(),r(i,null,[f(v,null,{default:u(()=>{var c;return[e("title",null,l((c=o.$page.props.setting.app_name)!=null?c:"Atur Setting Terlebih Dahulu")+" - Data Modul / Materi",1)]}),_:1}),e("div",T,[e("div",x,[e("div",B,[a[2]||(a[2]=e("div",{class:"breadcrumb-title pe-3"},"Modul / Materi",-1)),e("div",S,[e("nav",N,[e("ol",P,[a[0]||(a[0]=e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])],-1)),e("li",j,l(t.module.category.name)+" - "+l(t.module.title),1)])])]),e("div",E,[f(_,{href:"/user/modules",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:u(()=>[...a[1]||(a[1]=[g("Kembali",-1)])]),_:1})])]),a[10]||(a[10]=e("hr",null,null,-1)),e("div",U,[e("div",V,[o.$page.props.session.error?(s(),r("div",D,[e("div",{innerHTML:o.$page.props.session.error},null,8,F)])):d("",!0),o.$page.props.session.success?(s(),r("div",K,[e("div",{innerHTML:o.$page.props.session.success},null,8,R)])):d("",!0)]),e("div",A,[e("div",O,[e("div",G,[e("div",I,[e("div",q,[e("h5",z,l(t.module.category.name)+" - "+l(t.module.title),1),e("div",{innerHTML:t.module.description},null,8,J),e("p",Q,[(o.$page.props.setting.module_material_sales_type==2||o.$page.props.setting.module_material_sales_type==3)&&o.$page.props.auth.user.member_type==2?(s(),r(i,{key:0},[t.module.member_categories&&t.module.member_categories.length?(s(!0),r(i,{key:0},k(t.module.member_categories,(c,b)=>(s(),r("span",{key:b,class:"badge bg-success me-1"},l(c.name),1))),128)):(s(),r("span",W," Seluruh Member & Non Member "))],64)):d("",!0)])]),e("div",X,[(o.$page.props.setting.module_material_sales_type==1||o.$page.props.setting.module_material_sales_type==3)&&o.$page.props.auth.user.member_type==2?(s(),r("div",Y,[t.module.price_type==2?(s(),r("div",Z,[t.module.price_before_discount==t.module.price_after_discount?(s(),r("div",$,[e("h6",ee,"Rp."+l(n.formatPrice(t.module.price_after_discount)),1)])):(s(),r("div",te,[e("h6",se,[e("sup",null,[e("s",null,"Rp."+l(n.formatPrice(t.module.price_before_discount)),1),e("span",re,l(n.formatPrice((t.module.price_before_discount-t.module.price_after_discount)/t.module.price_before_discount*100))+"% ",1)]),a[3]||(a[3]=e("br",null,null,-1)),g(" Rp."+l(n.formatPrice(t.module.price_after_discount)),1)])]))])):(s(),r("div",ae,[...a[4]||(a[4]=[e("h6",{class:"text-dark"},"Gratis",-1)])]))])):d("",!0),o.$page.props.auth.user.member_type==2&&o.$page.props.setting.enable_module_material_sales==1?(s(),r(i,{key:1},[o.$page.props.setting.module_material_sales_type==1?(s(),r(i,{key:0},[t.module.user_access.length>0||t.module.price_type==1?(s(),r("span",oe,"Enrolled")):(s(),h(_,{key:1,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/module/${t.module.id}/buy`},{default:u(()=>[...a[5]||(a[5]=[g("Beli",-1)])]),_:1},8,["href"]))],64)):d("",!0),o.$page.props.setting.module_material_sales_type==2?(s(),r(i,{key:1},[m.checkMemberCategories(t.module.member_categories)==!0?(s(),r("span",le,"Enrolled")):(s(),h(_,{key:1,href:`/user/vouchers?category_id=${t.module.category_id}`,class:"btn btn-sm btn-success"},{default:u(()=>[t.module.member_categories.length==1?(s(),r("span",de,"Upgrade Ke "+l(t.module.member_categories[0]?t.module.member_categories[0].name:""),1)):(s(),r("span",ne,"Upgrade Member"))]),_:1},8,["href"]))],64)):d("",!0),o.$page.props.setting.module_material_sales_type==3?(s(),r(i,{key:2},[t.module.user_access.length>0&&m.checkMemberCategories(t.module.member_categories)==!0?(s(),r("span",ie,"Enrolled")):d("",!0),(t.module.user_access.length==0||m.checkMemberCategories(t.module.member_categories)==!1)&&(t.module.user_access.length>0||m.checkMemberCategories(t.module.member_categories)==!0||t.module.price_type==1)?(s(),r("span",me,"Enrolled")):d("",!0),t.module.user_access.length==0&&t.module.price_type==2?(s(),h(_,{key:2,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/module/${t.module.id}/buy`},{default:u(()=>[...a[6]||(a[6]=[g("Beli",-1)])]),_:1},8,["href"])):d("",!0),m.checkMemberCategories(t.module.member_categories)==!1?(s(),h(_,{key:3,href:`/user/vouchers?category_id=${t.module.category_id}`,class:"btn btn-sm btn-success"},{default:u(()=>[t.module.member_categories.length==1?(s(),r("span",ce,"Upgrade Ke "+l(t.module.member_categories[0]?t.module.member_categories[0].name:""),1)):(s(),r("span",ue,"Upgrade Member"))]),_:1},8,["href"])):d("",!0)],64)):d("",!0)],64)):d("",!0)])])])])])]),e("div",_e,[e("div",be,[e("div",ge,[e("div",he,[e("div",ye,[e("table",fe,[a[9]||(a[9]=e("thead",null,[e("tr",null,[e("th",null,"No"),e("th",null,"Modul/Materi"),e("th",null,"\xA0")])],-1)),e("tbody",null,[t.module.detail_module.length>0?(s(!0),r(i,{key:0},k(t.module.detail_module,(c,b)=>(s(),r("tr",{key:b},[e("td",null,l(++b),1),e("td",null,[e("div",ke,[a[7]||(a[7]=e("div",null,[e("i",{class:"bx bxs-file me-2 font-24 text-primary"})],-1)),e("div",pe,l(c.title),1)])]),e("td",null,[e("a",{target:"_blank",href:`/user/modules/${t.module.id}/detail-modules/${c.id}`,class:"btn btn-outline-primary btn-sm"},"Lihat",8,ve)])]))),128)):(s(),r("tr",Me,[...a[8]||(a[8]=[e("td",{colspan:"5",align:"center"},"Modul Pembelajaran Belum Tersedia",-1)])]))])])])])])])])])])],64)}const Te=w(H,[["render",Le]]);export{Te as default};
