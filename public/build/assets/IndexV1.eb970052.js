import{L as B}from"./Layout.6e589519.js";import{P as j}from"./Pagination.d27b1b98.js";import{L as M,H as P,i as v,c as t,a as l,w as d,b as o,d as C,g as a,F as p,h as y,j as f,o as s,t as c,k as _,y as L,n as I}from"./app.3c4545f2.js";import{S as k}from"./sweetalert2.esm.all.089855d2.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";const K={layout:B,components:{Link:M,Head:P,Pagination:j},props:{exams:Object,categoryId:Object,lessonCategoryId:Object,lessonId:Object,userMemberCategories:Object,session:Object},setup(i){return i.session&&i.session.success&&k.fire({title:"Sukses",text:i.session.success,icon:"success"}),i.session&&i.session.error&&k.fire({title:"Peringatan",text:i.session.error,icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Top Up Saldo",cancelButtonText:"Tidak"}).then(n=>{n.isConfirmed&&v.Inertia.get("/user/account-balances")}),{buyExam:n=>{k.fire({title:"Anda yakin akan membeli Latihan Soal ini ?",text:"Pastikan Saldo Anda Cukup Untuk Bertransaksi",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Beli Latihan Soal",cancelButtonText:"Tidak"}).then(h=>{h.isConfirmed&&v.Inertia.get(`/user/account-balances/buy-exam/${n}?type=exam`)})},checkMemberCategories:n=>{if(n){for(const h of i.userMemberCategories)if(h.member_categories.some(m=>n.includes(m)))return!0;return!1}else return!0}}},methods:{formatPrice(i){return(i/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},N={class:"page-wrapper"},A={class:"page-content"},E={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},O={class:"ms-auto"},U={key:0},V={class:"row"},H={class:"card"},D={key:0},F={key:0,class:"badge bg-danger",style:{position:"absolute","font-size":"14px",margin:"4px"}},R={class:"p-2"},z=["src"],Y={class:"card-header"},G={class:"card-title"},q={key:1,class:"card-body"},J={key:0,style:{"min-height":"50px"}},Q={key:0},W={key:0},X={class:"card-price text-center"},Z={key:1},x={class:"text-dark text-center"},ee={class:"badge bg-danger mx-1"},se={key:1},te={key:1,class:"text-center"},re={key:0},oe={class:"badge bg-success mb-0 ms-1"},ie={key:1},ne={class:"card-footer"},ae={key:0},ce={key:0},le={key:0},de={key:0},_e={key:1},ue=["onClick"],be={key:1},ge={key:0},me={key:1},pe={key:0},he={key:1},ye={key:2},fe={key:0},ke={key:1},ve={key:2},Ce=["onClick"],we={key:3},Se={key:0},$e={key:1},Be={key:1},je={key:1},Me={key:1,class:"row mb-3"},Pe={class:"col"};function Le(i,r,b,n,h,m){const w=f("Head"),u=f("Link"),S=f("Pagination");return s(),t(p,null,[l(w,null,{default:d(()=>{var e;return[o("title",null,c((e=i.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Soal",1)]}),_:1}),o("div",N,[o("div",A,[o("div",E,[r[1]||(r[1]=C('<div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal</li></ol></nav></div>',2)),o("div",O,[l(u,{href:`/user/categories/${b.categoryId}/lesson-categories/${b.lessonCategoryId}/lessons`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:d(()=>[...r[0]||(r[0]=[_("Kembali",-1)])]),_:1},8,["href"])])]),r[14]||(r[14]=o("hr",null,null,-1)),b.exams.data.length?a("",!0):(s(),t("div",U,[...r[2]||(r[2]=[C('<div class="row row-cols-12 row-cols-md-12 row-cols-lg-12 row-cols-xl-12"><div class="col"><div class="card border-bottom border-3 border-0"><div class="card-body"><h5 class="card-title text-center">Soal Belum Tersedia.</h5></div></div></div></div>',1)])])),o("div",V,[(s(!0),t(p,null,y(b.exams.data,(e,$)=>(s(),t("div",{class:"col-xs-12 col-sm-6 col-md-6 col-lg-3",key:$},[o("div",H,[i.$page.props.auth.user.member_type==2?(s(),t("div",D,[(e.transaction.length>0||n.checkMemberCategories(e.member_categories)==!0)&&e.member_categories?(s(),t("span",F,"Enrolled")):a("",!0)])):a("",!0),o("div",R,[o("img",{src:"/storage/upload_files/lessons/"+e.lesson.thumbnail,class:"card-img"},null,8,z)]),o("div",Y,[o("h6",G,c(e.title),1),r[3]||(r[3]=o("p",{class:"card-text"},"Kerjakan Soal Sesuai Perintah Yang Ada Dalam Informasi.",-1))]),i.$page.props.auth.user.member_type==2?(s(),t("div",q,[i.$page.props.setting.purchase_type==1||i.$page.props.setting.purchase_type==3?(s(),t("div",J,[e.price_type==2?(s(),t("div",Q,[e.price_before_discount==e.price_after_discount?(s(),t("div",W,[o("h6",X,"Rp."+c(m.formatPrice(e.price_after_discount)),1)])):(s(),t("div",Z,[o("h6",x,[o("sup",null,[o("s",null,"Rp."+c(m.formatPrice(e.price_before_discount)),1),o("span",ee,c(m.formatPrice((e.price_before_discount-e.price_after_discount)/e.price_before_discount*100))+"% ",1)]),r[4]||(r[4]=o("br",null,null,-1)),_("Rp."+c(m.formatPrice(e.price_after_discount)),1)])]))])):(s(),t("div",se,[...r[5]||(r[5]=[o("h6",{class:"text-dark text-center"},"Gratis",-1)])]))])):a("",!0),i.$page.props.setting.purchase_type==2||i.$page.props.setting.purchase_type==3?(s(),t("div",te,[e.member_categories?(s(),t("div",re,[(s(!0),t(p,null,y(e.member_categories,g=>(s(),t("span",oe,c(g),1))),256))])):(s(),t("div",ie,[...r[6]||(r[6]=[o("span",{class:"badge bg-success mb-0"},"Seluruh Member & Non Member",-1)])]))])):a("",!0)])):a("",!0),o("div",ne,[e.exam_status=="active"?(s(),t("div",ae,[i.$page.props.auth.user.member_type==2&e.price_type==2?(s(),t("div",ce,[i.$page.props.setting.purchase_type==1?(s(),t("div",le,[e.transaction.length>0?(s(),t("div",de,[l(u,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:d(()=>[...r[7]||(r[7]=[_("Kerjakan Soal",-1)])]),_:1},8,["href"])])):(s(),t("div",_e,[o("button",{class:"btn btn-outline-primary btn-sm w-100",onClick:g=>n.buyExam(e.id)},"Beli Latihan Soal",8,ue)]))])):a("",!0),i.$page.props.setting.purchase_type==2?(s(),t("div",be,[n.checkMemberCategories(e.member_categories)==!0?(s(),t("div",ge,[e.exam_status=="active"?(s(),L(u,{key:0,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:d(()=>[...r[8]||(r[8]=[_("Kerjakan Soal",-1)])]),_:1},8,["href"])):a("",!0)])):(s(),t("div",me,[l(u,{href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-outline-primary btn-sm w-100"},{default:d(()=>[e.member_categories.length==1?(s(),t("div",pe,[r[9]||(r[9]=_(" Upgrade Ke ",-1)),(s(!0),t(p,null,y(e.member_categories,g=>(s(),t("span",null,c(g),1))),256))])):(s(),t("div",he," Upgrade Member "))]),_:2},1032,["href"])]))])):a("",!0),i.$page.props.setting.purchase_type==3?(s(),t("div",ye,[e.transaction.length>0&&n.checkMemberCategories(e.member_categories)==!0?(s(),t("div",fe,[l(u,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100 mb-2"},{default:d(()=>[...r[10]||(r[10]=[_("Kerjakan Soal",-1)])]),_:1},8,["href"])])):a("",!0),(e.transaction.length==0||n.checkMemberCategories(e.member_categories)==!1)&&(e.transaction.length>0||n.checkMemberCategories(e.member_categories)==!0)?(s(),t("div",ke,[l(u,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100 mb-2"},{default:d(()=>[...r[11]||(r[11]=[_("Kerjakan Soal",-1)])]),_:1},8,["href"])])):a("",!0),e.transaction.length==0?(s(),t("div",ve,[o("button",{class:"btn btn-outline-primary btn-sm w-100 mb-2",onClick:g=>n.buyExam(e.id)},"Beli Latihan Soal",8,Ce)])):a("",!0),n.checkMemberCategories(e.member_categories)==!1?(s(),t("div",we,[l(u,{href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-outline-primary btn-sm w-100 mb-2"},{default:d(()=>[e.member_categories.length==1?(s(),t("div",Se,[r[12]||(r[12]=_(" Upgrade Ke ",-1)),(s(!0),t(p,null,y(e.member_categories,g=>(s(),t("span",null,c(g),1))),256))])):(s(),t("div",$e," Upgrade Member "))]),_:2},1032,["href"])])):a("",!0)])):a("",!0)])):(s(),t("div",Be,[l(u,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:d(()=>[...r[13]||(r[13]=[_("Kerjakan Soal",-1)])]),_:1},8,["href"])]))])):(s(),t("div",je,[o("button",{class:I(["btn btn-sm w-100",{"btn-danger":e.exam_status=="inactive","btn-warning":e.exam_status==="inprogress"}])},c(e.exam_status==="inactive"?"Non Active":"In Progress"),3)]))])])]))),128))]),b.exams.data.length?(s(),t("div",Me,[o("div",Pe,[l(S,{links:b.exams.links,align:"center"},null,8,["links"])])])):a("",!0)])])],64)}const Ee=T(K,[["render",Le]]);export{Ee as default};
