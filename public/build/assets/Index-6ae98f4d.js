import{L as _}from"./Layout-6f863d56.js";import{P as h}from"./Pagination-accf3f16.js";import{L as k,H as f,v as e,d as u}from"./app-d62d73d6.js";import{S as b}from"./sweetalert2.esm.all-61741a63.js";import{_ as p}from"./_plugin-vue_export-helper-c27b6911.js";const v={layout:_,components:{Link:k,Head:f,Pagination:h},props:{exams:Object,categoryId:Object,lessonCategoryId:Object,lessonId:Object,userMemberCategories:Object,subCategories:Object,session:Object},setup(s){const t=e.reactive({search:e.ref(new URL(document.location).searchParams.get("search")),sub_category_id:e.ref(new URL(document.location).searchParams.get("sub_category_id")||"")}),o=()=>{u.Inertia.get(`/user/categories/${s.categoryId}/lesson-categories/${s.lessonCategoryId}/lessons/${s.lessonId}/exams`,{search:t.search,sub_category_id:t.sub_category_id})};return s.session&&s.session.success&&b.fire({title:"Sukses",text:s.session.success,icon:"success"}),s.session&&s.session.error&&b.fire({title:"Peringatan",text:s.session.error,icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Top Up Saldo",cancelButtonText:"Tidak"}).then(c=>{c.isConfirmed&&u.Inertia.get("/user/account-balances")}),{form:t,handleSearch:o,checkMemberCategories:c=>{const i=c||[],d=s.userMemberCategories||[];if(!i.length)return!0;const r=i.map(l=>String(l.id));return d.some(l=>r.includes(String(l.member_category_id)))}}},methods:{formatPrice(s){return(s/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},V={class:"page-wrapper"},N={class:"page-content"},x={class:"breadcrumb-wrap"},y={class:"right"},E={class:"card search-card"},C={class:"card-body p-3"},B={class:"input-group search-stack"},S={class:"card list-shell"},w={class:"card-body"},I={class:"row g-3 g-md-4"},j={class:"exam-tile"},L={class:"tile-title clamp-2"},T={class:"tile-meta"},P={class:"meta-right"},M={key:0},O={key:1},D={key:0,class:"col-12"},U={key:0,class:"row mb-3"},F={class:"col-lg-12"},$={class:"d-flex justify-content-center"};function H(s,t,o,n,c,i){const d=e.resolveComponent("Head"),r=e.resolveComponent("Link"),l=e.resolveComponent("Pagination");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(d,null,{default:e.withCtx(()=>[e.createElementVNode("title",null,e.toDisplayString(s.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Soal",1)]),_:1}),e.createElementVNode("div",V,[e.createElementVNode("div",N,[e.createElementVNode("div",x,[t[3]||(t[3]=e.createStaticVNode('<div class="left"><span class="title">Latihan Soal</span><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="/user/dashboard" class="home" aria-label="Dashboard"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal</li></ol></nav></div>',1)),e.createElementVNode("div",y,[e.createVNode(r,{href:`/user/categories/${o.categoryId}/lesson-categories/${o.lessonCategoryId}/lessons`,class:"btn btn-primary btn-sm back-btn"},{default:e.withCtx(()=>[...t[2]||(t[2]=[e.createElementVNode("i",{class:"bx bx-left-arrow-alt"},null,-1),e.createTextVNode(" Kembali ",-1)])]),_:1},8,["href"])])]),t[12]||(t[12]=e.createElementVNode("hr",{class:"divider"},null,-1)),e.createElementVNode("div",E,[e.createElementVNode("div",C,[e.createElementVNode("div",B,[t[6]||(t[6]=e.createElementVNode("span",{class:"input-icon"},[e.createElementVNode("i",{class:"bx bx-search"})],-1)),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>n.form.search=a),class:"form-control form-control-sm search-input",placeholder:"Cari judul latihanâ€¦"},null,512),[[e.vModelText,n.form.search]]),e.createElementVNode("button",{onClick:t[1]||(t[1]=e.withModifiers((...a)=>n.handleSearch&&n.handleSearch(...a),["prevent"])),class:"btn btn-primary btn-sm search-btn",title:"Filter"},[...t[4]||(t[4]=[e.createElementVNode("i",{class:"bx bx-filter-alt"},null,-1)])]),e.createVNode(r,{href:`/user/categories/${o.categoryId}/lesson-categories/${o.lessonCategoryId}/lessons/${o.lessonId}/exams`,class:"btn btn-outline-secondary btn-sm reset-btn",title:"Reset"},{default:e.withCtx(()=>[...t[5]||(t[5]=[e.createElementVNode("i",{class:"bx bx-refresh"},null,-1)])]),_:1},8,["href"])])])]),e.createElementVNode("div",S,[e.createElementVNode("div",w,[e.createElementVNode("div",I,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.exams.data,(a,g)=>(e.openBlock(),e.createElementBlock("div",{key:g,class:"col-12 col-md-6 col-lg-4 col-xxl-3"},[e.createElementVNode("div",j,[t[10]||(t[10]=e.createElementVNode("div",{class:"tile-head"},[e.createElementVNode("span",{class:"pill"},"Latihan")],-1)),e.createElementVNode("h6",L,e.toDisplayString(a.title),1),e.createElementVNode("div",T,[t[9]||(t[9]=e.createElementVNode("div",{class:"meta-left"},[e.createElementVNode("i",{class:"bx bx-time"}),e.createElementVNode("span",null,"Siap dikerjakan")],-1)),e.createElementVNode("div",P,[s.$page.props.setting.practice_question_sales_type==2?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[n.checkMemberCategories(a.member_categories)?(e.openBlock(),e.createBlock(r,{key:0,href:`/user/categories/${a.category_id}/lesson-categories/${a.lesson_category_id}/lessons/${a.lesson_id}/exams/${a.id}`,class:"btn btn-kerjakan"},{default:e.withCtx(()=>[...t[7]||(t[7]=[e.createTextVNode(" Kerjakan ",-1),e.createElementVNode("i",{class:"bx bx-right-arrow-alt"},null,-1)])]),_:1},8,["href"])):(e.openBlock(),e.createBlock(r,{key:1,href:`/user/vouchers?category_id=${a.category_id}`,class:"btn btn-upgrade"},{default:e.withCtx(()=>{var m;return[a.member_categories&&a.member_categories.length===1?(e.openBlock(),e.createElementBlock("span",M," Upgrade "+e.toDisplayString(((m=a.member_categories[0])==null?void 0:m.name)||""),1)):(e.openBlock(),e.createElementBlock("span",O,"Upgrade")),t[8]||(t[8]=e.createElementVNode("i",{class:"bx bx-trending-up"},null,-1))]}),_:2},1032,["href"]))],64)):e.createCommentVNode("",!0)])])])]))),128)),o.exams.data.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",D,[...t[11]||(t[11]=[e.createStaticVNode('<div class="empty-card text-center"><div class="empty-icon"><i class="bx bx-book-open"></i></div><h6 class="mb-1">Latihan Tidak Tersedia</h6><p class="text-muted mb-0">Coba kata kunci lain atau cek kembali nanti.</p></div>',1)])]))])])]),o.exams.data.length?(e.openBlock(),e.createElementBlock("div",U,[e.createElementVNode("div",F,[e.createElementVNode("div",$,[e.createVNode(l,{links:o.exams.links},null,8,["links"])])])])):e.createCommentVNode("",!0)])])],64)}const G=p(v,[["render",H]]);export{G as default};
