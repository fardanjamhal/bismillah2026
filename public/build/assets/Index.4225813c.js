import{L as A}from"./Layout.f3923d27.js";import{P as L}from"./Pagination.1f6a1a91.js";import{L as H,H as $,r as D,c as o,a as n,w as d,b as t,d as g,e as I,v as N,F as f,g as C,f as v,h as w,i as P,j as k,o as i,t as _,n as x,k as c}from"./app.3d780cf9.js";import{S as p}from"./sweetalert2.all.31f9910d.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const j={layout:A,components:{Link:H,Head:$,Pagination:L},props:{course:Object,courseSections:Object},setup(h){const l=D(new URL(document.location).searchParams.get("search"));return{search:l,handleSearch:()=>{w.Inertia.get(`/admin/courses/${h.course.id}/course-details`,{search:l.value})},destroyCourseDetail:b=>{p.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(m=>{m.isConfirmed&&(w.Inertia.delete(`/admin/courses/${h.course.id}/course-details/${b}`),p.fire({title:"Deleted!",text:"Detail Course Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},destroyCourseSection:b=>{p.fire({title:"Apakah Anda yakin?",text:"Ketika Anda menghapus section, detail course yang ada dalam section tersebut akan terhapus secara otomatis. Pastikan detail course sudah dipindahkan ke section lain.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(m=>{m.isConfirmed&&(w.Inertia.delete(`/admin/courses/${h.course.id}/course-sections/${b}`),p.fire({title:"Deleted!",text:"Section Course Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}}},E={class:"page-wrapper"},O={class:"page-content"},U=P('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Detail Course</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Detail Course</li></ol></nav></div></div>',1),z={class:"card border-top border-0 border-3 border-primary"},F={class:"card-body"},J={class:"row"},K={class:"col-lg-6 col-md-6"},M={class:"position-relative mb-1"},q=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1),R={class:"col-lg-6 col-md-6"},G={class:"d-lg-flex align-items-center gap-3"},Q={class:"ms-auto"},W=c(" Kembali "),X=t("i",{class:"bx bxs-plus-square"},null,-1),Y=c(" Tambah Section "),Z={class:"card-body"},tt={class:"d-lg-flex align-items-center mb-4 gap-3"},et={class:"ms-auto"},st=["onClick"],at=c("Edit Section"),ot=c("Tambah Detail Course"),it={class:"table-responsive"},nt={class:"table mb-0 table-bordered"},dt={colspan:"6"},rt=t("tr",null,[t("th",{width:"20"},"No"),t("th",null,"Judul"),t("th",{width:"100"},"Urutan"),t("th",{width:"100"},"Intro"),t("th",{width:"100"},"Status"),t("th",{width:"100"},"Actions")],-1),ct={key:0,class:"badge bg-success"},lt={key:1,class:"badge bg-danger"},ut={class:"btn-group"},_t=t("span",{class:"visually-hidden"},"Toggle Dropdown",-1),ht=[_t],mt={class:"dropdown-menu"},bt={key:0},pt=c("Active"),gt={key:1},ft=c("Inactive"),vt={class:"dropdown"},wt=t("button",{class:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true"},"Action",-1),kt={class:"dropdown-menu","data-popper-placement":"top-start","data-popper-reference-hidden":"","data-popper-escaped":""},yt=c("Detail"),Ct=c("Edit"),xt=["onClick"],St={key:1},Bt=t("td",{colspan:"6",align:"center"},"Detail Course Tidak Tersedia",-1),Tt=[Bt],At={key:1,class:"row row-cols-12 row-cols-md-12 row-cols-lg-12 row-cols-xl-12"},Lt=t("div",{class:"col"},[t("div",{class:"card border-bottom border-3 border-0"},[t("div",{class:"card-body"},[t("h6",{class:"card-title text-center"},"Data Section atau Detail Course Tidak Tersedia")])])],-1),Ht=[Lt],$t={key:2,class:"mb-4"};function Dt(h,l,a,u,S,b){const m=k("Head"),r=k("Link"),B=k("Pagination");return i(),o(f,null,[n(m,null,{default:d(()=>{var s;return[t("title",null,_((s=h.$page.props.setting.app_name)!=null?s:"Atur Setting Terlebih Dahulu")+" - Data Detail Course",1)]}),_:1}),t("div",E,[t("div",O,[U,t("div",z,[t("div",F,[t("div",J,[t("div",K,[t("form",{onSubmit:l[1]||(l[1]=g((...s)=>u.handleSearch&&u.handleSearch(...s),["prevent"]))},[t("div",M,[I(t("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=s=>u.search=s),class:"form-control ps-5 radius-20",placeholder:"Cari Berdasarkan Judul Section Course...",size:"40",maxlength:"100"},null,512),[[N,u.search]]),q])],32)]),t("div",R,[t("div",G,[t("div",Q,[n(r,{href:"/admin/courses",class:"btn btn-primary btn-sm mx-3"},{default:d(()=>[W]),_:1}),n(r,{href:`/admin/courses/${a.course.id}/course-sections/create`,class:"btn btn-primary btn-sm"},{default:d(()=>[X,Y]),_:1},8,["href"])])])])])])]),a.courseSections.data.length>0?(i(!0),o(f,{key:0},C(a.courseSections.data,(s,T)=>(i(),o("div",{class:"card mb-3 shadow-none border border-1",key:T},[t("div",Z,[t("div",tt,[t("div",et,[t("button",{onClick:g(e=>u.destroyCourseSection(s.id),["prevent"]),class:"btn btn-danger btn-sm"},"Hapus Section",8,st),n(r,{href:`/admin/courses/${a.course.id}/course-sections/${s.id}/edit`,class:"btn btn-warning btn-sm mx-1"},{default:d(()=>[at]),_:2},1032,["href"]),n(r,{href:`/admin/courses/${a.course.id}/course-details/create?course_section_id=${s.id}`,class:"btn btn-primary btn-sm"},{default:d(()=>[ot]),_:2},1032,["href"])])]),t("div",it,[t("table",nt,[t("thead",null,[t("tr",null,[t("th",dt,[t("h6",null,"Section "+_(s.order)+" : "+_(s.title),1)])]),rt]),t("tbody",null,[s.course_detail.length>0?(i(!0),o(f,{key:0},C(s.course_detail,(e,y)=>(i(),o("tr",{key:y},[t("td",null,_(++y),1),t("td",null,_(e.title),1),t("td",null,_(e.order),1),t("td",null,[e.intro==1?(i(),o("span",ct,"Opened")):(i(),o("span",lt,"Locked"))]),t("td",null,[t("div",ut,[t("button",{type:"button",class:x({btn:!0,"btn-sm":!0,"btn-danger":e.is_active==0,"btn-primary":e.is_active==1})},_(e.is_active==1?"active":"inactive"),3),t("button",{type:"button",class:x([{btn:!0,"btn-sm":!0,"btn-danger":e.is_active==0,"btn-primary":e.is_active==1,"split-bg-danger":e.is_active==0,"split-bg-primary":e.is_active==1},"dropdown-toggle dropdown-toggle-split"]),"data-bs-toggle":"dropdown","aria-expanded":"false"},ht,2),t("ul",mt,[e.is_active!=1?(i(),o("li",bt,[n(r,{class:"dropdown-item",href:`/admin/courses/${a.course.id}/course-details/${e.id}/change-course-detail-status?is_active=1`},{default:d(()=>[pt]),_:2},1032,["href"])])):v("",!0),e.is_active!=0?(i(),o("li",gt,[n(r,{class:"dropdown-item",href:`/admin/courses/${a.course.id}/course-details/${e.id}/change-course-detail-status?is_active=0`},{default:d(()=>[ft]),_:2},1032,["href"])])):v("",!0)])])]),t("td",null,[t("div",vt,[wt,t("ul",kt,[t("li",null,[n(r,{class:"dropdown-item",href:`/admin/courses/${a.course.id}/course-details/${e.id}`},{default:d(()=>[yt]),_:2},1032,["href"])]),t("li",null,[n(r,{class:"dropdown-item",href:`/admin/courses/${a.course.id}/course-details/${e.id}/edit`},{default:d(()=>[Ct]),_:2},1032,["href"])]),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:g(It=>u.destroyCourseDetail(e.id),["prevent"])},"Hapus",8,xt)])])])])]))),128)):(i(),o("tr",St,Tt))])])])])]))),128)):(i(),o("div",At,Ht)),a.courseSections.data.length>0?(i(),o("div",$t,[n(B,{links:a.courseSections.links,align:"end"},null,8,["links"])])):v("",!0)])])],64)}const Ot=V(j,[["render",Dt]]);export{Ot as default};
