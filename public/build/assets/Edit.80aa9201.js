import{L as J}from"./Layout.48c4e186.js";import{L as Q,H as R,m as W,c as r,a as K,w as z,b as s,d as X,e as Y,f as c,v as _,n as m,F as v,h as f,g as l,t as o,p as g,i as Z,j as q,o as d,k as x}from"./app.c75ce23b.js";import{S as $}from"./sweetalert2.esm.all.089855d2.js";import{a as h}from"./index.c5185775.js";import{_ as ee}from"./_plugin-vue_export-helper.cdc0426e.js";const ie={layout:J,components:{Link:Q,Head:R},data(){return{provinces:[]}},props:{errors:Object,user:Object},mounted(){h.get("/region/province").then(t=>{this.provinces=t.data}).catch(t=>console.error(t))},setup(t){const i=W({id:t.user.id,code:t.user.code,name:t.user.name,email:t.user.email,username:t.user.username,password:"",password_confirmation:"",member_type:t.user.member_type,level:t.user.level,is_active:t.user.is_active,province_id:t.user.student&&t.user.student.province_id?t.user.student.province_id:"",city_id:t.user.student&&t.user.student.city_id?t.user.student.city_id:"",district_id:t.user.student&&t.user.student.district_id?t.user.student.district_id:"",village_id:t.user.student&&t.user.student.village_id?t.user.student.village_id:"",address:t.user.student&&t.user.student.address?t.user.student.address:"",phone_number:t.user.student&&t.user.student.phone_number?t.user.student.phone_number:"",gender:t.user.student&&t.user.student.gender?t.user.student.gender:"",cities:[],districts:[],villages:[]}),a=()=>{h.get(`/region/city/${i.province_id}`).then(u=>{i.city_id=t.user.student.province_id==i.province_id?t.user.student.city_id:"",i.district_id=t.user.student.city_id==i.city_id?t.user.student.district_id:"",i.village_id=t.user.student.district_id==i.district_id?t.user.student.village_id:"",i.cities=u.data}).catch(u=>console.error(u))},n=()=>{i.district_id=t.user.student.city_id==i.city_id?t.user.student.district_id:"",i.village_id=t.user.student.district_id==i.district_id?t.user.student.village_id:"",h.get(`/region/district/${i.city_id}`).then(u=>{i.districts=u.data}).catch(u=>console.error(u))},b=()=>{i.village_id=t.user.student.district_id==i.district_id?t.user.student.village_id:"",h.get(`/region/village/${i.district_id}`).then(u=>{i.villages=u.data}).catch(u=>console.error(u))},y=()=>{Z.Inertia.put(`/user/users/${t.user.id}`,{id:i.id,code:i.code,name:i.name,email:i.email,username:i.username,password:i.password,password_confirmation:i.password_confirmation,member_type:i.member_type,level:i.level,is_active:i.is_active,province_id:i.province_id,city_id:i.city_id,district_id:i.district_id,village_id:i.village_id,address:i.address,phone_number:i.phone_number,gender:i.gender},{onSuccess:()=>{$.fire({title:"Success!",text:"User Berhasil Disimpan!.",icon:"success",showConfirmButton:!1,timer:1e3})}})};return t.user.student&&(i.city_id&&a(),i.district_id&&n(),i.village_id&&b()),{form:i,submit:y,cityData:a,districtData:n,villageData:b}}},te={class:"page-wrapper"},se={class:"page-content"},ae={class:"card border-top border-0 border-3 border-primary"},ne={class:"card-header"},re={class:"d-lg-flex align-items-center"},de={class:"ms-auto"},oe={class:"card-body"},le={key:0,class:"alert alert-danger border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2"},ce={class:"mt-3"},me={class:"row g-3"},ue={key:0,class:"col-lg-12"},_e={class:"form-label"},ve=["placeholder"],fe={key:0,class:"invalid-feedback"},ge={key:1,class:"col-lg-12"},be={class:"form-label"},he=["placeholder"],ye={key:0,class:"invalid-feedback"},pe={key:2,class:"col-lg-12"},ke={class:"form-label"},we=["placeholder"],Ve={key:0,class:"invalid-feedback"},Ue={key:3,class:"col-lg-12"},De={class:"form-label"},Se=["placeholder"],Le={key:0,class:"invalid-feedback"},Ce={key:4,class:"col-lg-12"},Pe={class:"form-label"},je=["placeholder"],Be={key:0,class:"invalid-feedback"},Ne={key:5,class:"col-lg-12"},Ee={class:"form-label"},He=["placeholder"],Me={key:0,class:"invalid-feedback"},Oe={class:"card border-top border-0 border-3 border-primary"},Ae={class:"card-body"},Fe={class:"row g-3"},Ie={key:0,class:"col-lg-12"},Te={class:"form-label"},Ke=["value"],ze={key:0,class:"invalid-feedback"},qe={key:1,class:"col-lg-12"},Ge={class:"form-label"},Je=["value"],Qe={key:0,class:"invalid-feedback"},Re={key:2,class:"col-lg-12"},We={class:"form-label"},Xe=["value"],Ye={key:0,class:"invalid-feedback"},Ze={key:3,class:"col-lg-12"},xe={class:"form-label"},$e=["value"],ei={key:0,class:"invalid-feedback"},ii={key:4,class:"col-lg-12"},ti={class:"form-label"},si=["placeholder"],ai={key:0,class:"invalid-feedback"},ni={key:5,class:"col-lg-12"},ri={class:"form-label"},di=["placeholder"],oi={key:0,class:"invalid-feedback"},li={key:6,class:"col-lg-12"},ci={class:"form-label"},mi={key:0,class:"invalid-feedback"};function ui(t,i,a,n,b,y){var p,k,w,V,U,D,S,L,C,P,j,B,N,E,H,M,O,A,F,I,T;const u=q("Head"),G=q("Link");return d(),r(v,null,[K(u,null,{default:z(()=>{var e;return[s("title",null,o((e=t.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Edit User",1)]}),_:1}),s("div",te,[s("div",se,[i[29]||(i[29]=X('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">User</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Edit User</li></ol></nav></div></div>',1)),s("form",{onSubmit:i[17]||(i[17]=Y((...e)=>n.submit&&n.submit(...e),["prevent"]))},[s("div",ae,[c(s("input",{type:"hidden",class:m(["form-control",{"is-invalid":a.errors.id}]),"onUpdate:modelValue":i[0]||(i[0]=e=>n.form.id=e)},null,2),[[_,n.form.id]]),s("div",ne,[s("div",re,[i[19]||(i[19]=s("h6",{class:"card-title mb-0"},"Informasi Akun",-1)),s("div",de,[K(G,{href:"/user/users",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:z(()=>[...i[18]||(i[18]=[x("Kembali",-1)])]),_:1})])])]),s("div",oe,[Object.keys(a.errors).length>0?(d(),r("div",le,[i[20]||(i[20]=s("strong",null,"Perhatian, pastikan inputan diisi dengan benar.",-1)),s("ul",ce,[(d(!0),r(v,null,f(a.errors,e=>(d(),r("li",null,o(e),1))),256))])])):l("",!0),s("div",me,[t.$page.props.setting.authentication_field.some(e=>e.name=="code"&&e.is_active=="1")?(d(),r("div",ue,[s("label",_e,o((p=t.$page.props.setting.authentication_field.find(e=>e.name=="code"))==null?void 0:p.translate),1),c(s("input",{type:"text",class:m(["form-control",{"is-invalid":a.errors.code}]),"onUpdate:modelValue":i[1]||(i[1]=e=>n.form.code=e),placeholder:(k=t.$page.props.setting.authentication_field.find(e=>e.name=="code"))==null?void 0:k.translate},null,10,ve),[[_,n.form.code]]),a.errors.code?(d(),r("div",fe,o(a.errors.code),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="name"&&e.is_active=="1")?(d(),r("div",ge,[s("label",be,o((w=t.$page.props.setting.authentication_field.find(e=>e.name=="name"))==null?void 0:w.translate),1),c(s("input",{type:"text",class:m(["form-control",{"is-invalid":a.errors.name}]),"onUpdate:modelValue":i[2]||(i[2]=e=>n.form.name=e),placeholder:(V=t.$page.props.setting.authentication_field.find(e=>e.name=="name"))==null?void 0:V.translate},null,10,he),[[_,n.form.name]]),a.errors.name?(d(),r("div",ye,o(a.errors.name),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="username"&&e.is_active=="1")?(d(),r("div",pe,[s("label",ke,o((U=t.$page.props.setting.authentication_field.find(e=>e.name=="username"))==null?void 0:U.translate),1),c(s("input",{type:"text",class:m(["form-control",{"is-invalid":a.errors.username}]),"onUpdate:modelValue":i[3]||(i[3]=e=>n.form.username=e),placeholder:(D=t.$page.props.setting.authentication_field.find(e=>e.name=="username"))==null?void 0:D.translate},null,10,we),[[_,n.form.username]]),a.errors.username?(d(),r("div",Ve,o(a.errors.username),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="email"&&e.is_active=="1")?(d(),r("div",Ue,[s("label",De,o((S=t.$page.props.setting.authentication_field.find(e=>e.name=="email"))==null?void 0:S.translate),1),c(s("input",{type:"email",class:m(["form-control",{"is-invalid":a.errors.email}]),"onUpdate:modelValue":i[4]||(i[4]=e=>n.form.email=e),placeholder:(L=t.$page.props.setting.authentication_field.find(e=>e.name=="email"))==null?void 0:L.translate},null,10,Se),[[_,n.form.email]]),a.errors.email?(d(),r("div",Le,o(a.errors.email),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="password"&&e.is_active=="1")?(d(),r("div",Ce,[s("label",Pe,o((C=t.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:C.translate),1),c(s("input",{type:"password",class:m(["form-control",{"is-invalid":a.errors.password}]),"onUpdate:modelValue":i[5]||(i[5]=e=>n.form.password=e),placeholder:(P=t.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:P.translate},null,10,je),[[_,n.form.password]]),a.errors.password?(d(),r("div",Be,o(a.errors.password),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="password"&&e.is_active=="1")?(d(),r("div",Ne,[s("label",Ee,"Konfirmasi "+o((j=t.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:j.translate),1),c(s("input",{type:"password",class:m(["form-control",{"is-invalid":a.errors.password_confirmation}]),"onUpdate:modelValue":i[6]||(i[6]=e=>n.form.password_confirmation=e),placeholder:(B=t.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:B.translate},null,10,He),[[_,n.form.password_confirmation]]),a.errors.password_confirmation?(d(),r("div",Me,o(a.errors.password_confirmation),1)):l("",!0)])):l("",!0)])])]),s("div",Oe,[s("div",Ae,[i[27]||(i[27]=s("h6",{class:"card-title"},"Informasi Lainnya (Optional)",-1)),i[28]||(i[28]=s("hr",null,null,-1)),s("div",Fe,[t.$page.props.setting.authentication_field.some(e=>e.name=="province_id"&&e.is_active=="1")?(d(),r("div",Ie,[s("label",Te,o((N=t.$page.props.setting.authentication_field.find(e=>e.name=="province_id"))==null?void 0:N.translate),1),c(s("select",{onChange:i[7]||(i[7]=(...e)=>n.cityData&&n.cityData(...e)),"onUpdate:modelValue":i[8]||(i[8]=e=>n.form.province_id=e),class:m([{"is-invalid":a.errors.province_id},"form-select"])},[i[21]||(i[21]=s("option",{value:""},"[ Pilih ]",-1)),(d(!0),r(v,null,f(b.provinces,e=>(d(),r("option",{value:e.id},o(e.name),9,Ke))),256))],34),[[g,n.form.province_id]]),a.errors.province_id?(d(),r("div",ze,o(a.errors.province_id),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="city_id"&&e.is_active=="1")?(d(),r("div",qe,[s("label",Ge,o((E=t.$page.props.setting.authentication_field.find(e=>e.name=="city_id"))==null?void 0:E.translate),1),c(s("select",{onChange:i[9]||(i[9]=(...e)=>n.districtData&&n.districtData(...e)),"onUpdate:modelValue":i[10]||(i[10]=e=>n.form.city_id=e),class:m([{"is-invalid":a.errors.city_id},"form-select"])},[i[22]||(i[22]=s("option",{value:""},"[ Pilih ]",-1)),(d(!0),r(v,null,f(n.form.cities,e=>(d(),r("option",{value:e.id},o(e.name),9,Je))),256))],34),[[g,n.form.city_id]]),a.errors.city_id?(d(),r("div",Qe,o(a.errors.city_id),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="district_id"&&e.is_active=="1")?(d(),r("div",Re,[s("label",We,o((H=t.$page.props.setting.authentication_field.find(e=>e.name=="district_id"))==null?void 0:H.translate),1),c(s("select",{onChange:i[11]||(i[11]=(...e)=>n.villageData&&n.villageData(...e)),"onUpdate:modelValue":i[12]||(i[12]=e=>n.form.district_id=e),class:m([{"is-invalid":a.errors.district_id},"form-select"])},[i[23]||(i[23]=s("option",{value:""},"[ Pilih ]",-1)),(d(!0),r(v,null,f(n.form.districts,e=>(d(),r("option",{value:e.id},o(e.name),9,Xe))),256))],34),[[g,n.form.district_id]]),a.errors.district_id?(d(),r("div",Ye,o(a.errors.district_id),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="village_id"&&e.is_active=="1")?(d(),r("div",Ze,[s("label",xe,o((M=t.$page.props.setting.authentication_field.find(e=>e.name=="village_id"))==null?void 0:M.translate),1),c(s("select",{"onUpdate:modelValue":i[13]||(i[13]=e=>n.form.village_id=e),class:m([{"is-invalid":a.errors.village_id},"form-select"])},[i[24]||(i[24]=s("option",{value:""},"[ Pilih ]",-1)),(d(!0),r(v,null,f(n.form.villages,e=>(d(),r("option",{value:e.id},o(e.name),9,$e))),256))],2),[[g,n.form.village_id]]),a.errors.village_id?(d(),r("div",ei,o(a.errors.village_id),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="address"&&e.is_active=="1")?(d(),r("div",ii,[s("label",ti,o((O=t.$page.props.setting.authentication_field.find(e=>e.name=="address"))==null?void 0:O.translate),1),c(s("textarea",{cols:"",rows:"5","onUpdate:modelValue":i[14]||(i[14]=e=>n.form.address=e),class:m([{"is-invalid":a.errors.address},"form-control"]),placeholder:(A=t.$page.props.setting.authentication_field.find(e=>e.name=="address"))==null?void 0:A.translate},null,10,si),[[_,n.form.address]]),a.errors.address?(d(),r("div",ai,o(a.errors.address),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="phone_number"&&e.is_active=="1")?(d(),r("div",ni,[s("label",ri,o((F=t.$page.props.setting.authentication_field.find(e=>e.name=="phone_number"))==null?void 0:F.translate),1),c(s("input",{type:"text","onUpdate:modelValue":i[15]||(i[15]=e=>n.form.phone_number=e),class:m([{"is-invalid":a.errors.phone_number},"form-control"]),placeholder:(I=t.$page.props.setting.authentication_field.find(e=>e.name=="phone_number"))==null?void 0:I.translate},null,10,di),[[_,n.form.phone_number]]),a.errors.phone_number?(d(),r("div",oi,o(a.errors.phone_number),1)):l("",!0)])):l("",!0),t.$page.props.setting.authentication_field.some(e=>e.name=="gender"&&e.is_active=="1")?(d(),r("div",li,[s("label",ci,o((T=t.$page.props.setting.authentication_field.find(e=>e.name=="gender"))==null?void 0:T.translate),1),c(s("select",{"onUpdate:modelValue":i[16]||(i[16]=e=>n.form.gender=e),class:m([{"is-invalid":a.errors.gender},"form-select"])},[...i[25]||(i[25]=[s("option",{value:""},"[ Pilih ]",-1),s("option",{value:"M"},"Laki-laki",-1),s("option",{value:"F"},"Perempuan",-1)])],2),[[g,n.form.gender]]),a.errors.gender?(d(),r("div",mi,o(a.errors.gender),1)):l("",!0)])):l("",!0),i[26]||(i[26]=s("div",{class:"col-lg-12"},[s("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1))])])])],32)])])],64)}const hi=ee(ie,[["render",ui]]);export{hi as default};
