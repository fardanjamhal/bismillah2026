import{L as T}from"./Layout-80160f1d.js";import{L as U,H as L,l as P,a as g,o as s,c as l,b as _,w as h,d as t,e as x,F as v,i as y,h as n,f as B,g as u,m as k,n as m,t as d,v as b,j as D,k as M}from"./app-50a2f634.js";import{S as z}from"./sweetalert2.esm.all-61741a63.js";import{M as w}from"./vue3-multiselect.umd.min-bce5824b.js";import{C as A,E as H,A as j,B as q,I as G,F as O,P as E,a as N,L as F,b as R,H as K,S as J,c as W,d as Q,U as X,e as Y,T as Z,f as $,g as ee,h as te,i as oe,j as ie,k as re,l as se,m as le,n as ae,o as ne,p as de,q as me,r as ce,s as ue,t as be,u as fe}from"./index-89d8d836.js";import{M as ge}from"./index-422b79a9.js";/* empty css                                                                  */import{_ as _e}from"./_plugin-vue_export-helper-c27b6911.js";const ve={layout:T,components:{Link:U,Head:L,Multiselect:w},props:{errors:Object,categories:Object,course:Object,courseGoals:Object,memberCategories:Object,memberCategorySelected:Object},data(){return{editor:A,editorData:"<p>Initial content</p>",editorConfig:{plugins:[H,j,q,G,O,E,N,F,R,K,J,W,Q,X,Y,Z,$,ee,te,oe,ie,re,se,le,ae,ne,de,me,ce,ue,be,fe,ge],toolbar:{items:["undo","redo","|","heading","|","alignment","fontfamily","fontsize","fontColor","fontBackgroundColor","|","link","insertTable","insertImage","blockQuote","codeBlock","|","bulletedList","numberedList","todoList","outdent","indent","|","bold","italic","strikethrough","subscript","superscript","MathType","ChemType"],shouldNotGroupWhenFull:!1},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},image:{insert:{integrations:["upload","url"],type:"auto"},toolbar:["imageStyle:inline","imageStyle:alignLeft","imageStyle:alignRight","|","imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight","|","toggleImageCaption","imageTextAlternative","|","linkImage","resizeImage"],resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:custom",value:"custom",icon:"custom"},{name:"resizeImage:25",value:"25",icon:"medium"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"},{name:"resizeImage:100",value:"100",icon:"large"}],shouldInsertWidthHeightAttributes:!1},simpleUpload:{uploadUrl:"/upload",withCredentials:!0,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Authorization:"Bearer <JSON Web Token>"}},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"],tableProperties:{},tableCellProperties:{}},alignment:{options:["left","right","center","justify"]},fontSize:{options:[11,12,14,16,18,20,22,24,26,28,36,48,72],supportAllValues:!0},language:"en"}}},setup(a){const e=P({category_id:a.course.category_id,title:a.course.title,thumbnail:a.course.thumbnail,video_intro:a.course.video_intro,prerequisite:a.course.prerequisite,sort_description:a.course.sort_description,description:a.course.description,order:a.course.order,price_type:a.course.price_type,price_before_discount:a.course.price_before_discount,price_after_discount:a.course.price_after_discount,status:a.course.status,goals:a.courseGoals.length>0?a.courseGoals:[""],member_category_ids:a.memberCategorySelected});return{form:e,submit:()=>{D.Inertia.post(`/admin/courses/${a.course.id}`,{forceFormData:!0,_method:"put",category_id:e.category_id,title:e.title,thumbnail:e.thumbnail,video_intro:e.video_intro,prerequisite:e.prerequisite,sort_description:e.sort_description,description:e.description,order:e.order,price_type:e.price_type,price_before_discount:e.price_before_discount,price_after_discount:e.price_after_discount,status:e.status,goals:e.goals,member_category_ids:e.member_category_ids},{onSuccess:()=>{z.fire({title:"Success!",text:"Course Berhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})},handleGoalClick:f=>{f===e.goals.length-1?e.goals.push(""):e.goals.splice(f,1)}}}},ye={class:"page-wrapper"},ke={class:"page-content"},pe={class:"card border-top border-0 border-3 border-primary"},he={class:"card-body"},Se={key:0,class:"alert alert-danger border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2"},Ce={class:"mt-3"},Ie={class:"d-lg-flex align-items-center"},Ve={class:"ms-auto"},Te={class:"col-12"},Ue=["value"],Le={key:0,class:"invalid-feedback"},Pe={class:"col-12"},xe={class:"col-12"},Be={key:0,class:"invalid-feedback"},De={class:"col-12"},Me={key:0,class:"invalid-feedback"},ze={class:"col-12"},we={key:0,class:"invalid-feedback"},Ae={class:"col-12"},He={key:0,class:"invalid-feedback"},je={class:"col-12"},qe={key:0,class:"invalid-feedback"},Ge={class:"col-12"},Oe={key:0,class:"invalid-feedback"},Ee={class:"col-12"},Ne={key:0,class:"invalid-feedback"},Fe={class:"col-12"},Re={key:0,class:"invalid-feedback"},Ke={key:0,class:"col-12"},Je={key:0,class:"invalid-feedback"},We={key:1,class:"col-12"},Qe={key:0,class:"invalid-feedback"},Xe={class:"col-12"},Ye={key:0,class:"invalid-feedback"},Ze={class:"col-12"},$e=["onUpdate:modelValue"],et=["onClick"],tt={key:0,class:"invalid-feedback"};function ot(a,e,o,i,f,it){const S=g("Head"),C=g("Link"),I=g("multiselect"),V=g("ckeditor");return s(),l(v,null,[_(S,null,{default:h(()=>[t("title",null,d(a.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Edit Modul / Materi",1)]),_:1}),t("div",ye,[t("div",ke,[e[34]||(e[34]=x('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Modul / Materi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Edit Modul / Materi</li></ol></nav></div></div>',1)),t("div",pe,[t("div",he,[Object.keys(o.errors).length>0?(s(),l("div",Se,[e[14]||(e[14]=t("strong",null,"Perhatian, pastikan inputan diisi dengan benar.",-1)),t("ul",Ce,[(s(!0),l(v,null,y(o.errors,r=>(s(),l("li",null,d(r),1))),256))])])):n("",!0),t("div",Ie,[t("div",Ve,[_(C,{href:"/admin/courses",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:h(()=>[...e[15]||(e[15]=[M("Kembali",-1)])]),_:1})])]),t("form",{onSubmit:e[13]||(e[13]=B((...r)=>i.submit&&i.submit(...r),["prevent"])),class:"row g-3"},[t("div",Te,[e[17]||(e[17]=t("label",{class:"form-label"},"Kategori Peminatan",-1)),u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>i.form.category_id=r),class:m([{"is-invalid":o.errors.category_id},"form-select"])},[e[16]||(e[16]=t("option",{value:""},"[ Pilih ]",-1)),(s(!0),l(v,null,y(o.categories,(r,c)=>(s(),l("option",{key:c,value:r.id},d(r.name),9,Ue))),128))],2),[[k,i.form.category_id]]),o.errors.category_id?(s(),l("div",Le,d(o.errors.category_id),1)):n("",!0)]),t("div",Pe,[e[18]||(e[18]=t("label",{class:"form-label"},"Kategori Member (Khusus Untuk Membership Bulanan, Kosongkan Jika Tidak Ada)",-1)),_(I,{modelValue:i.form.member_category_ids,"onUpdate:modelValue":e[1]||(e[1]=r=>i.form.member_category_ids=r),options:o.memberCategories,multiple:!0,label:"name","close-on-select":!0,"allow-empty":!0,"track-by":"name",placeholder:"[ Pilih ]"},null,8,["modelValue","options"])]),t("div",xe,[e[19]||(e[19]=t("label",{class:"form-label"},"Judul",-1)),u(t("input",{type:"text",class:m(["form-control",{"is-invalid":o.errors.title}]),"onUpdate:modelValue":e[2]||(e[2]=r=>i.form.title=r),placeholder:"Judul"},null,2),[[b,i.form.title]]),o.errors.title?(s(),l("div",Be,d(o.errors.title),1)):n("",!0)]),t("div",De,[e[20]||(e[20]=t("label",{class:"form-label"},"Thumbnail (Optional)",-1)),t("input",{type:"file",class:m(["form-control",{"is-invalid":o.errors.thumbnail}]),onInput:e[3]||(e[3]=r=>i.form.thumbnail=r.target.files[0]),placeholder:"Thumbnail"},null,34),o.errors.thumbnail?(s(),l("div",Me,d(o.errors.thumbnail),1)):n("",!0)]),t("div",ze,[e[21]||(e[21]=t("label",{class:"form-label"},"Video Intro (Link Youtube, Google Drive atau lainnya)",-1)),u(t("input",{type:"text",class:m(["form-control",{"is-invalid":o.errors.video_intro}]),"onUpdate:modelValue":e[4]||(e[4]=r=>i.form.video_intro=r),placeholder:"Link"},null,2),[[b,i.form.video_intro]]),o.errors.video_intro?(s(),l("div",we,d(o.errors.video_intro),1)):n("",!0)]),t("div",Ae,[e[22]||(e[22]=t("label",{class:"form-label"},"Prasyarat",-1)),u(t("textarea",{cols:"30",rows:"5",class:m(["form-control",{"is-invalid":o.errors.prerequisite}]),"onUpdate:modelValue":e[5]||(e[5]=r=>i.form.prerequisite=r),placeholder:"Prasyarat"},null,2),[[b,i.form.prerequisite]]),o.errors.prerequisite?(s(),l("div",He,d(o.errors.prerequisite),1)):n("",!0)]),t("div",je,[e[23]||(e[23]=t("label",{class:"form-label"},"Deskripsi Singkat",-1)),u(t("textarea",{cols:"30",rows:"5",class:m(["form-control",{"is-invalid":o.errors.sort_description}]),"onUpdate:modelValue":e[6]||(e[6]=r=>i.form.sort_description=r),placeholder:"Deskripsi Singkat"},null,2),[[b,i.form.sort_description]]),o.errors.sort_description?(s(),l("div",qe,d(o.errors.sort_description),1)):n("",!0)]),t("div",Ge,[e[24]||(e[24]=t("label",{class:"form-label"},[t("b",null,"Deskripsi")],-1)),_(V,{editor:f.editor,modelValue:i.form.description,"onUpdate:modelValue":e[7]||(e[7]=r=>i.form.description=r),config:f.editorConfig,lass:"form-control",class:m({"is-invalid":o.errors.title})},null,8,["editor","modelValue","config","class"]),o.errors.description?(s(),l("div",Oe,d(o.errors.description),1)):n("",!0)]),t("div",Ee,[e[25]||(e[25]=t("label",{class:"form-label"},"Urutan Ditampilkan",-1)),u(t("input",{type:"text",class:m(["form-control",{"is-invalid":o.errors.order}]),"onUpdate:modelValue":e[8]||(e[8]=r=>i.form.order=r),placeholder:"Urutan Ditampilkan"},null,2),[[b,i.form.order]]),o.errors.order?(s(),l("div",Ne,d(o.errors.order),1)):n("",!0)]),t("div",Fe,[e[27]||(e[27]=t("label",{class:"form-label"},"Tipe Harga",-1)),u(t("select",{"onUpdate:modelValue":e[9]||(e[9]=r=>i.form.price_type=r),class:m([{"is-invalid":o.errors.price_type},"form-select"])},[...e[26]||(e[26]=[t("option",{value:""},"[ Pilih ]",-1),t("option",{value:"1"},"Gratis",-1),t("option",{value:"2"},"Berbayar",-1)])],2),[[k,i.form.price_type]]),o.errors.price_type?(s(),l("div",Re,d(o.errors.price_type),1)):n("",!0)]),i.form.price_type==2?(s(),l("div",Ke,[e[28]||(e[28]=t("label",{class:"form-label"},"Harga Sebelum Diskon",-1)),u(t("input",{type:"number",class:m(["form-control",{"is-invalid":o.errors.price_before_discount}]),"onUpdate:modelValue":e[10]||(e[10]=r=>i.form.price_before_discount=r),placeholder:"Harga Sebelum Diskon",min:"0"},null,2),[[b,i.form.price_before_discount]]),o.errors.price_before_discount?(s(),l("div",Je,d(o.errors.price_before_discount),1)):n("",!0)])):n("",!0),i.form.price_type==2?(s(),l("div",We,[e[29]||(e[29]=t("label",{class:"form-label"},"Harga Sesudah Diskon",-1)),u(t("input",{type:"number",class:m(["form-control",{"is-invalid":o.errors.price_after_discount}]),"onUpdate:modelValue":e[11]||(e[11]=r=>i.form.price_after_discount=r),placeholder:"Harga Sesudah Diskon",min:"0"},null,2),[[b,i.form.price_after_discount]]),o.errors.price_after_discount?(s(),l("div",Qe,d(o.errors.price_after_discount),1)):n("",!0)])):n("",!0),t("div",Xe,[e[31]||(e[31]=t("label",{class:"form-label"},"Status",-1)),u(t("select",{"onUpdate:modelValue":e[12]||(e[12]=r=>i.form.status=r),class:m([{"is-invalid":o.errors.status},"form-select"])},[...e[30]||(e[30]=[t("option",{value:""},"[ Pilih ]",-1),t("option",{value:"active"},"Aktive",-1),t("option",{value:"inactive"},"Inactive",-1),t("option",{value:"inprogress"},"Inprogress",-1)])],2),[[k,i.form.status]]),o.errors.status?(s(),l("div",Ye,d(o.errors.status),1)):n("",!0)]),t("div",Ze,[e[32]||(e[32]=t("label",{class:"form-label"},"Goals",-1)),(s(!0),l(v,null,y(i.form.goals,(r,c)=>(s(),l("div",{key:c,class:"input-group mb-3"},[u(t("input",{type:"text",class:m(["form-control",{"is-invalid":o.errors[`goals.${c}`]}]),"onUpdate:modelValue":p=>i.form.goals[c]=p,placeholder:"Goal"},null,10,$e),[[b,i.form.goals[c]]]),t("button",{class:m(["btn",c===i.form.goals.length-1?"btn-success":"btn-danger"]),type:"button",onClick:p=>i.handleGoalClick(c)},[t("i",{class:m(c===i.form.goals.length-1?"bx bx-plus":"bx bx-minus")},null,2)],10,et),o.errors[`goals.${c}`]?(s(),l("div",tt,d(o.errors[`goals.${c}`]),1)):n("",!0)]))),128))]),e[33]||(e[33]=t("div",{class:"col-12"},[t("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1))],32)])])])])],64)}const ut=_e(ve,[["render",ot]]);export{ut as default};
