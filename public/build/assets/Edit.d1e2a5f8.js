import{L as J}from"./Layout.2aa80b53.js";import{L as Q,H as R,p as W,c as r,a as K,w as q,b as s,d as X,e as c,v as u,n as _,F as v,g as f,f as l,t as d,q as g,h as Y,i as Z,j as z,o,k as x}from"./app.ae09f713.js";import{S as $}from"./sweetalert2.all.cfd94722.js";import{a as b}from"./index.370f88c8.js";import{_ as ee}from"./_plugin-vue_export-helper.cdc0426e.js";const ie={layout:J,components:{Link:Q,Head:R},data(){return{provinces:[]}},props:{errors:Object,user:Object},mounted(){b.get("/region/province").then(i=>{this.provinces=i.data}).catch(i=>console.error(i))},setup(i){const t=W({id:i.user.id,code:i.user.code,name:i.user.name,email:i.user.email,username:i.user.username,password:"",password_confirmation:"",member_type:i.user.member_type,level:i.user.level,is_active:i.user.is_active,province_id:i.user.student&&i.user.student.province_id?i.user.student.province_id:"",city_id:i.user.student&&i.user.student.city_id?i.user.student.city_id:"",district_id:i.user.student&&i.user.student.district_id?i.user.student.district_id:"",village_id:i.user.student&&i.user.student.village_id?i.user.student.village_id:"",address:i.user.student&&i.user.student.address?i.user.student.address:"",phone_number:i.user.student&&i.user.student.phone_number?i.user.student.phone_number:"",gender:i.user.student&&i.user.student.gender?i.user.student.gender:"",cities:[],districts:[],villages:[]}),a=()=>{b.get(`/region/city/${t.province_id}`).then(m=>{t.city_id=i.user.student.province_id==t.province_id?i.user.student.city_id:"",t.district_id=i.user.student.city_id==t.city_id?i.user.student.district_id:"",t.village_id=i.user.student.district_id==t.district_id?i.user.student.village_id:"",t.cities=m.data}).catch(m=>console.error(m))},n=()=>{t.district_id=i.user.student.city_id==t.city_id?i.user.student.district_id:"",t.village_id=i.user.student.district_id==t.district_id?i.user.student.village_id:"",b.get(`/region/district/${t.city_id}`).then(m=>{t.districts=m.data}).catch(m=>console.error(m))},h=()=>{t.village_id=i.user.student.district_id==t.district_id?i.user.student.village_id:"",b.get(`/region/village/${t.district_id}`).then(m=>{t.villages=m.data}).catch(m=>console.error(m))},y=()=>{Y.Inertia.put(`/user/users/${i.user.id}`,{id:t.id,code:t.code,name:t.name,email:t.email,username:t.username,password:t.password,password_confirmation:t.password_confirmation,member_type:t.member_type,level:t.level,is_active:t.is_active,province_id:t.province_id,city_id:t.city_id,district_id:t.district_id,village_id:t.village_id,address:t.address,phone_number:t.phone_number,gender:t.gender},{onSuccess:()=>{$.fire({title:"Success!",text:"User Berhasil Disimpan!.",icon:"success",showConfirmButton:!1,timer:1e3})}})};return i.user.student&&(t.city_id&&a(),t.district_id&&n(),t.village_id&&h()),{form:t,submit:y,cityData:a,districtData:n,villageData:h}}},te={class:"page-wrapper"},se={class:"page-content"},ae=Z('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">User</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Edit User</li></ol></nav></div></div>',1),ne={class:"card border-top border-0 border-3 border-primary"},re={class:"card-header"},oe={class:"d-lg-flex align-items-center"},de=s("h6",{class:"card-title mb-0"},"Informasi Akun",-1),le={class:"ms-auto"},ce=x("Kembali"),_e={class:"card-body"},me={key:0,class:"alert alert-danger border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2"},ue=s("strong",null,"Perhatian, pastikan inputan diisi dengan benar.",-1),ve={class:"mt-3"},fe={class:"row g-3"},ge={key:0,class:"col-lg-12"},he={class:"form-label"},be=["placeholder"],ye={key:0,class:"invalid-feedback"},pe={key:1,class:"col-lg-12"},ke={class:"form-label"},we=["placeholder"],Ve={key:0,class:"invalid-feedback"},Ue={key:2,class:"col-lg-12"},De={class:"form-label"},Se=["placeholder"],Le={key:0,class:"invalid-feedback"},Ce={key:3,class:"col-lg-12"},Pe={class:"form-label"},je=["placeholder"],Be={key:0,class:"invalid-feedback"},Ne={key:4,class:"col-lg-12"},Ee={class:"form-label"},He=["placeholder"],Me={key:0,class:"invalid-feedback"},Oe={key:5,class:"col-lg-12"},Ae={class:"form-label"},Fe=["placeholder"],Ie={key:0,class:"invalid-feedback"},Te={class:"card border-top border-0 border-3 border-primary"},Ke={class:"card-body"},qe=s("h6",{class:"card-title"},"Informasi Lainnya (Optional)",-1),ze=s("hr",null,null,-1),Ge={class:"row g-3"},Je={key:0,class:"col-lg-12"},Qe={class:"form-label"},Re=s("option",{value:""},"[ Pilih ]",-1),We=["value"],Xe={key:0,class:"invalid-feedback"},Ye={key:1,class:"col-lg-12"},Ze={class:"form-label"},xe=s("option",{value:""},"[ Pilih ]",-1),$e=["value"],ei={key:0,class:"invalid-feedback"},ii={key:2,class:"col-lg-12"},ti={class:"form-label"},si=s("option",{value:""},"[ Pilih ]",-1),ai=["value"],ni={key:0,class:"invalid-feedback"},ri={key:3,class:"col-lg-12"},oi={class:"form-label"},di=s("option",{value:""},"[ Pilih ]",-1),li=["value"],ci={key:0,class:"invalid-feedback"},_i={key:4,class:"col-lg-12"},mi={class:"form-label"},ui=["placeholder"],vi={key:0,class:"invalid-feedback"},fi={key:5,class:"col-lg-12"},gi={class:"form-label"},hi=["placeholder"],bi={key:0,class:"invalid-feedback"},yi={key:6,class:"col-lg-12"},pi={class:"form-label"},ki=s("option",{value:""},"[ Pilih ]",-1),wi=s("option",{value:"M"},"Laki-laki",-1),Vi=s("option",{value:"F"},"Perempuan",-1),Ui=[ki,wi,Vi],Di={key:0,class:"invalid-feedback"},Si=s("div",{class:"col-lg-12"},[s("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1);function Li(i,t,a,n,h,y){var p,k,w,V,U,D,S,L,C,P,j,B,N,E,H,M,O,A,F,I,T;const m=z("Head"),G=z("Link");return o(),r(v,null,[K(m,null,{default:q(()=>{var e;return[s("title",null,d((e=i.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Edit User",1)]}),_:1}),s("div",te,[s("div",se,[ae,s("form",{onSubmit:t[17]||(t[17]=X((...e)=>n.submit&&n.submit(...e),["prevent"]))},[s("div",ne,[c(s("input",{type:"hidden",class:_(["form-control",{"is-invalid":a.errors.id}]),"onUpdate:modelValue":t[0]||(t[0]=e=>n.form.id=e)},null,2),[[u,n.form.id]]),s("div",re,[s("div",oe,[de,s("div",le,[K(G,{href:"/user/users",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:q(()=>[ce]),_:1})])])]),s("div",_e,[Object.keys(a.errors).length>0?(o(),r("div",me,[ue,s("ul",ve,[(o(!0),r(v,null,f(a.errors,e=>(o(),r("li",null,d(e),1))),256))])])):l("",!0),s("div",fe,[i.$page.props.setting.authentication_field.some(e=>e.name=="code"&&e.is_active=="1")?(o(),r("div",ge,[s("label",he,d((p=i.$page.props.setting.authentication_field.find(e=>e.name=="code"))==null?void 0:p.translate),1),c(s("input",{type:"text",class:_(["form-control",{"is-invalid":a.errors.code}]),"onUpdate:modelValue":t[1]||(t[1]=e=>n.form.code=e),placeholder:(k=i.$page.props.setting.authentication_field.find(e=>e.name=="code"))==null?void 0:k.translate},null,10,be),[[u,n.form.code]]),a.errors.code?(o(),r("div",ye,d(a.errors.code),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="name"&&e.is_active=="1")?(o(),r("div",pe,[s("label",ke,d((w=i.$page.props.setting.authentication_field.find(e=>e.name=="name"))==null?void 0:w.translate),1),c(s("input",{type:"text",class:_(["form-control",{"is-invalid":a.errors.name}]),"onUpdate:modelValue":t[2]||(t[2]=e=>n.form.name=e),placeholder:(V=i.$page.props.setting.authentication_field.find(e=>e.name=="name"))==null?void 0:V.translate},null,10,we),[[u,n.form.name]]),a.errors.name?(o(),r("div",Ve,d(a.errors.name),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="username"&&e.is_active=="1")?(o(),r("div",Ue,[s("label",De,d((U=i.$page.props.setting.authentication_field.find(e=>e.name=="username"))==null?void 0:U.translate),1),c(s("input",{type:"text",class:_(["form-control",{"is-invalid":a.errors.username}]),"onUpdate:modelValue":t[3]||(t[3]=e=>n.form.username=e),placeholder:(D=i.$page.props.setting.authentication_field.find(e=>e.name=="username"))==null?void 0:D.translate},null,10,Se),[[u,n.form.username]]),a.errors.username?(o(),r("div",Le,d(a.errors.username),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="email"&&e.is_active=="1")?(o(),r("div",Ce,[s("label",Pe,d((S=i.$page.props.setting.authentication_field.find(e=>e.name=="email"))==null?void 0:S.translate),1),c(s("input",{type:"email",class:_(["form-control",{"is-invalid":a.errors.email}]),"onUpdate:modelValue":t[4]||(t[4]=e=>n.form.email=e),placeholder:(L=i.$page.props.setting.authentication_field.find(e=>e.name=="email"))==null?void 0:L.translate},null,10,je),[[u,n.form.email]]),a.errors.email?(o(),r("div",Be,d(a.errors.email),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="password"&&e.is_active=="1")?(o(),r("div",Ne,[s("label",Ee,d((C=i.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:C.translate),1),c(s("input",{type:"password",class:_(["form-control",{"is-invalid":a.errors.password}]),"onUpdate:modelValue":t[5]||(t[5]=e=>n.form.password=e),placeholder:(P=i.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:P.translate},null,10,He),[[u,n.form.password]]),a.errors.password?(o(),r("div",Me,d(a.errors.password),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="password"&&e.is_active=="1")?(o(),r("div",Oe,[s("label",Ae,"Konfirmasi "+d((j=i.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:j.translate),1),c(s("input",{type:"password",class:_(["form-control",{"is-invalid":a.errors.password_confirmation}]),"onUpdate:modelValue":t[6]||(t[6]=e=>n.form.password_confirmation=e),placeholder:(B=i.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:B.translate},null,10,Fe),[[u,n.form.password_confirmation]]),a.errors.password_confirmation?(o(),r("div",Ie,d(a.errors.password_confirmation),1)):l("",!0)])):l("",!0)])])]),s("div",Te,[s("div",Ke,[qe,ze,s("div",Ge,[i.$page.props.setting.authentication_field.some(e=>e.name=="province_id"&&e.is_active=="1")?(o(),r("div",Je,[s("label",Qe,d((N=i.$page.props.setting.authentication_field.find(e=>e.name=="province_id"))==null?void 0:N.translate),1),c(s("select",{onChange:t[7]||(t[7]=(...e)=>n.cityData&&n.cityData(...e)),"onUpdate:modelValue":t[8]||(t[8]=e=>n.form.province_id=e),class:_([{"is-invalid":a.errors.province_id},"form-select"])},[Re,(o(!0),r(v,null,f(h.provinces,e=>(o(),r("option",{value:e.id},d(e.name),9,We))),256))],34),[[g,n.form.province_id]]),a.errors.province_id?(o(),r("div",Xe,d(a.errors.province_id),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="city_id"&&e.is_active=="1")?(o(),r("div",Ye,[s("label",Ze,d((E=i.$page.props.setting.authentication_field.find(e=>e.name=="city_id"))==null?void 0:E.translate),1),c(s("select",{onChange:t[9]||(t[9]=(...e)=>n.districtData&&n.districtData(...e)),"onUpdate:modelValue":t[10]||(t[10]=e=>n.form.city_id=e),class:_([{"is-invalid":a.errors.city_id},"form-select"])},[xe,(o(!0),r(v,null,f(n.form.cities,e=>(o(),r("option",{value:e.id},d(e.name),9,$e))),256))],34),[[g,n.form.city_id]]),a.errors.city_id?(o(),r("div",ei,d(a.errors.city_id),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="district_id"&&e.is_active=="1")?(o(),r("div",ii,[s("label",ti,d((H=i.$page.props.setting.authentication_field.find(e=>e.name=="district_id"))==null?void 0:H.translate),1),c(s("select",{onChange:t[11]||(t[11]=(...e)=>n.villageData&&n.villageData(...e)),"onUpdate:modelValue":t[12]||(t[12]=e=>n.form.district_id=e),class:_([{"is-invalid":a.errors.district_id},"form-select"])},[si,(o(!0),r(v,null,f(n.form.districts,e=>(o(),r("option",{value:e.id},d(e.name),9,ai))),256))],34),[[g,n.form.district_id]]),a.errors.district_id?(o(),r("div",ni,d(a.errors.district_id),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="village_id"&&e.is_active=="1")?(o(),r("div",ri,[s("label",oi,d((M=i.$page.props.setting.authentication_field.find(e=>e.name=="village_id"))==null?void 0:M.translate),1),c(s("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>n.form.village_id=e),class:_([{"is-invalid":a.errors.village_id},"form-select"])},[di,(o(!0),r(v,null,f(n.form.villages,e=>(o(),r("option",{value:e.id},d(e.name),9,li))),256))],2),[[g,n.form.village_id]]),a.errors.village_id?(o(),r("div",ci,d(a.errors.village_id),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="address"&&e.is_active=="1")?(o(),r("div",_i,[s("label",mi,d((O=i.$page.props.setting.authentication_field.find(e=>e.name=="address"))==null?void 0:O.translate),1),c(s("textarea",{cols:"",rows:"5","onUpdate:modelValue":t[14]||(t[14]=e=>n.form.address=e),class:_([{"is-invalid":a.errors.address},"form-control"]),placeholder:(A=i.$page.props.setting.authentication_field.find(e=>e.name=="address"))==null?void 0:A.translate},null,10,ui),[[u,n.form.address]]),a.errors.address?(o(),r("div",vi,d(a.errors.address),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="phone_number"&&e.is_active=="1")?(o(),r("div",fi,[s("label",gi,d((F=i.$page.props.setting.authentication_field.find(e=>e.name=="phone_number"))==null?void 0:F.translate),1),c(s("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=e=>n.form.phone_number=e),class:_([{"is-invalid":a.errors.phone_number},"form-control"]),placeholder:(I=i.$page.props.setting.authentication_field.find(e=>e.name=="phone_number"))==null?void 0:I.translate},null,10,hi),[[u,n.form.phone_number]]),a.errors.phone_number?(o(),r("div",bi,d(a.errors.phone_number),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="gender"&&e.is_active=="1")?(o(),r("div",yi,[s("label",pi,d((T=i.$page.props.setting.authentication_field.find(e=>e.name=="gender"))==null?void 0:T.translate),1),c(s("select",{"onUpdate:modelValue":t[16]||(t[16]=e=>n.form.gender=e),class:_([{"is-invalid":a.errors.gender},"form-select"])},Ui,2),[[g,n.form.gender]]),a.errors.gender?(o(),r("div",Di,d(a.errors.gender),1)):l("",!0)])):l("",!0),Si])])])],32)])])],64)}const Ei=ee(ie,[["render",Li]]);export{Ei as default};
