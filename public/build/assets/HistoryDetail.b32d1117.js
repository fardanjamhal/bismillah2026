import{L as D}from"./Layout.6e589519.js";import{L as K,H as M,r as A,c as r,a as y,w as b,b as t,d as B,t as n,F as m,h as g,n as H,g as l,e as V,f as E,v as q,i as U,j as p,o as i,k as S,y as z}from"./app.3c4545f2.js";import{P as I}from"./Pagination.d27b1b98.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";const R={layout:D,components:{Link:K,Head:M,Pagination:I},props:{history:Object,gradeCount:Number,grades:Number,allExams:Object},setup(o){const e=A(new URL(document.location).searchParams.get("search"));return{search:e,handleSearch:()=>{U.Inertia.get(`/user/exam-groups/histories/${o.history.id}`,{search:e.value})}}}},J={class:"page-wrapper"},G={class:"page-content"},Q={class:"card border-top border-0 border-3 border-primary"},W={class:"card-header"},X={class:"d-flex justify-content-between"},Y={class:"ms-auto"},Z={class:"card-body"},$={class:"table-responsive"},tt={class:"table mb-0 table-bordered"},et={class:"badge bg-primary"},st=["rowspan"],at=["rowspan"],nt={key:0,class:"badge bg-danger"},it={key:1,class:"badge bg-primary"},rt={key:0,class:"card border-top border-0 border-3 border-primary"},ot={class:"card-body"},lt={class:"text-center"},dt={class:"card border-top border-0 border-3 border-primary"},ut={class:"card-header"},mt={class:"d-flex justify-content-between"},ht={key:0,class:"ms-auto"},gt=["href"],_t={class:"card-body"},ct={class:"table-responsive"},yt={class:"table mb-0 table-bordered"},bt={style:{"font-weight":"bold"}},pt={width:"25%"},vt={key:0},kt={colspan:"5",style:{background:"#eee"}},ft={key:1},xt={align:"right"},wt={align:"right"},Nt={key:0},jt={align:"right"},Tt={key:0},Pt={colspan:"2",align:"right"},St={key:1,class:"card"},Ft={class:"card-body"},Lt={class:"d-flex justify-content-between"},Ct={class:"text-start"},Dt={class:"position-relative"},Kt={class:"table-responsive"},Mt={class:"table table-bordered mb-0"},At={key:0,rowspan:"2",class:"text-center align-middle"},Bt={key:1,rowspan:"2",class:"text-center align-middle"},Ht={key:2,rowspan:"2",class:"text-center align-middle"},Vt={key:3,rowspan:"2",class:"text-center align-middle"},Et=["colspan"],qt={class:"text-center"},Ut={class:"badge bg-primary"},zt={key:0},It={key:1},Ot={key:2},Rt={key:3},Jt={class:"text-center"},Gt={class:"text-center"},Qt={key:0,align:"center",colspan:"15"};function Wt(o,e,a,c,Xt,Yt){var k,f,x,w,N;const F=p("Head"),v=p("Link"),L=p("Pagination");return i(),r(m,null,[y(F,null,{default:b(()=>{var s;return[t("title",null,n((s=o.$page.props.setting.app_name)!=null?s:"Atur Setting Terlebih Dahulu")+" - Tryout",1)]}),_:1}),t("div",J,[t("div",G,[e[29]||(e[29]=B('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Tryout</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Riwayat Tryout</li></ol></nav></div></div>',1)),t("div",Q,[t("div",W,[t("div",X,[e[3]||(e[3]=t("div",{class:"text-start"},[t("h5",{class:"mb-0"},"Informasi Tryout")],-1)),t("div",Y,[y(v,{href:"/user/exam-groups/histories",class:"btn btn-primary btn-sm"},{default:b(()=>[...e[2]||(e[2]=[S("Kembali",-1)])]),_:1})])])]),t("div",Z,[t("div",$,[t("table",tt,[t("tbody",null,[t("tr",null,[e[4]||(e[4]=t("th",{width:"210px"},"Peminatan",-1)),e[5]||(e[5]=t("td",{width:"10px"},":",-1)),t("td",null,[t("span",et,n(a.history.exam_group.category.name),1)])]),t("tr",null,[e[6]||(e[6]=t("th",null,"Kategori Mata Pelajaran",-1)),e[7]||(e[7]=t("td",null,":",-1)),t("td",null,n(a.history.exam_group.lesson_category.name),1)]),t("tr",null,[e[8]||(e[8]=t("th",null,"Judul Tryout",-1)),e[9]||(e[9]=t("td",null,":",-1)),t("td",null,n(a.history.exam_group.title),1)]),t("tr",null,[t("th",{rowspan:a.history.exam_group.grade.length+1},"Mata Pelajaran",8,st),t("td",{rowspan:a.history.exam_group.grade.length+1},":",8,at)]),(i(!0),r(m,null,g(a.history.exam_group.grade,(s,u)=>(i(),r("tr",{key:u},[t("td",null,[S(n(s.lesson.name)+" ",1),e[11]||(e[11]=t("br",null,null,-1)),s.exam.show_answer_discussion==1?(i(),z(v,{key:0,href:`/user/grades/${s.id}/questions`},{default:b(()=>[...e[10]||(e[10]=[t("span",{class:"badge bg-warning text-dark"},"Klik untuk pembahasan",-1)])]),_:1},8,["href"])):l("",!0)])]))),128)),t("tr",null,[e[12]||(e[12]=t("th",null,"Tanggal Mengerjakan",-1)),e[13]||(e[13]=t("td",null,":",-1)),t("td",null,n(o.formatDate(a.history.created_at)),1)]),t("tr",null,[e[14]||(e[14]=t("th",null,"Status Ujian",-1)),e[15]||(e[15]=t("td",null,":",-1)),t("td",null,[a.history.is_finished==0?(i(),r("span",nt,"Belum Selesai Mengerjakan")):(i(),r("span",it,"Selesai Mengerjakan"))])])])])])])]),a.history.is_finished==1&&a.history.passed!=null?(i(),r("div",rt,[t("div",ot,[t("div",lt,[t("div",{class:H(["alert border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2",{"alert-success":a.history.passed==1,"alert-danger":a.history.passed==0}])},[e[16]||(e[16]=t("h3",{class:"mb-3"},"Nilai Akhir Tryout",-1)),t("h3",null,n(o.gradeFormat(a.history.grade)),1),t("h4",null,n(a.history.description),1)],2)])])])):l("",!0),t("div",dt,[t("div",ut,[t("div",mt,[e[17]||(e[17]=t("div",{class:"text-start"},[t("h5",{class:"mb-0"},"Detail Penilaian")],-1)),a.history.exam_group.certificate_print_user==1?(i(),r("div",ht,[t("a",{target:"_blank",href:`/user/exam-groups/${a.history.id}/export-pdf`,class:"btn btn-danger btn-sm m-1"},"Cetak Hasil Tryout",8,gt)])):l("",!0)])]),t("div",_t,[t("div",ct,[t("table",yt,[t("thead",null,[t("tr",bt,[e[18]||(e[18]=t("td",{width:"10%"},"No",-1)),e[19]||(e[19]=t("td",{width:"35%"},"Kategori Penilaian",-1)),t("td",pt,n(a.history.exam_group.minimal_grade_type==1?"Ambang Batas":"Keterangan"),1),e[20]||(e[20]=t("td",{width:"5%",align:"right"},"Nilai",-1))])]),(i(!0),r(m,null,g(a.history.exam_group.grade,(s,u)=>(i(),r("tbody",{key:u},[s.exam.question_title.assessment_type==1||s.exam.question_title.assessment_type==2?(i(),r("tr",vt,[t("th",kt,[t("h6",null,n(s.lesson.name),1)])])):l("",!0),a.history.exam_group.assessment_type!=4?(i(),r("tr",ft,[t("td",null,n(++u),1),t("td",null,n(s.lesson.name),1),t("td",null,n(a.history.exam_group.assessment_type==2?s.exam.percentage_grade+"%":s.exam.question_title.passing_grade),1),t("td",xt,n(o.gradeFormat(s.grade)),1)])):l("",!0),a.history.exam_group.assessment_type==4&&s.grade_details?(i(!0),r(m,{key:2},g(s.grade_details,(h,_)=>(i(),r("tr",{key:_},[t("td",null,n(++_),1),t("td",null,n(h.grade_category_name),1),t("td",null,n(h.grade_category),1),t("td",wt,n(o.gradeFormat(h.grade)),1)]))),128)):l("",!0)]))),128)),a.history.is_finished==1?(i(),r("tfoot",Nt,[t("tr",null,[e[21]||(e[21]=t("th",{colspan:"3"},[t("h5",null,"Nilai Akhir")],-1)),t("td",jt,[t("h5",null,n(o.gradeFormat(a.history.grade)),1)])]),a.history.exam_group.minimal_grade_type!=0?(i(),r("tr",Tt,[e[22]||(e[22]=t("th",{colspan:"3"},[t("h5",null,"Keterangan")],-1)),t("td",Pt,[t("h5",null,n((k=a.history.description)!=null?k:"-"),1)])])):l("",!0)])):l("",!0)])])])]),a.history.exam_group.show_ranking_exam==1?(i(),r("div",St,[e[28]||(e[28]=t("div",{class:"card-header bg-primary"},[t("h5",{class:"mb-0 text-white"}," Nilai Peserta ")],-1)),t("div",Ft,[t("div",Lt,[t("div",Ct,[t("form",{onSubmit:e[1]||(e[1]=V((...s)=>c.handleSearch&&c.handleSearch(...s),["prevent"]))},[t("div",Dt,[E(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>c.search=s),class:"form-control ps-5 radius-20",placeholder:"Cari Peserta....",size:"40",maxlength:"100"},null,512),[[q,c.search]]),e[23]||(e[23]=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1))])],32)])]),e[27]||(e[27]=t("hr",null,null,-1)),t("div",Kt,[t("table",Mt,[t("thead",null,[t("tr",null,[e[24]||(e[24]=t("th",{rowspan:"2",class:"text-center align-middle"},"No",-1)),o.$page.props.setting.authentication_field.some(s=>s.name=="code"&&s.is_active=="1")?(i(),r("th",At,n((f=o.$page.props.setting.authentication_field.find(s=>s.name=="code"))==null?void 0:f.translate),1)):l("",!0),o.$page.props.setting.authentication_field.some(s=>s.name=="name"&&s.is_active=="1")?(i(),r("th",Bt,n((x=o.$page.props.setting.authentication_field.find(s=>s.name=="name"))==null?void 0:x.translate),1)):l("",!0),o.$page.props.setting.authentication_field.some(s=>s.name=="province_id"&&s.is_active=="1")?(i(),r("th",Ht,n((w=o.$page.props.setting.authentication_field.find(s=>s.name=="province_id"))==null?void 0:w.translate),1)):l("",!0),o.$page.props.setting.authentication_field.some(s=>s.name=="city_id"&&s.is_active=="1")?(i(),r("th",Vt,n((N=o.$page.props.setting.authentication_field.find(s=>s.name=="city_id"))==null?void 0:N.translate),1)):l("",!0),t("th",{colspan:a.allExams.length,class:"text-center align-middle"},"Detail Nilai",8,Et),e[25]||(e[25]=t("th",{rowspan:"2",class:"text-center align-middle"},"Nilai Akhir",-1)),e[26]||(e[26]=t("th",{rowspan:"2",class:"text-center align-middle"},"Keterangan",-1))]),t("tr",null,[(i(!0),r(m,null,g(a.allExams,s=>(i(),r("th",{key:s.id,class:"text-center align-middle"},n(s.lesson?s.lesson.short_name:"-"),1))),128))])]),t("tbody",null,[(i(!0),r(m,null,g(a.grades.data,(s,u)=>{var h,_,j;return i(),r("tr",{key:u},[t("td",qt,[t("span",Ut,n(++u+(a.grades.current_page-1)*a.grades.per_page),1)]),o.$page.props.setting.authentication_field.some(d=>d.name=="code"&&d.is_active=="1")?(i(),r("td",zt,n((h=s.user.code)!=null?h:"-"),1)):l("",!0),o.$page.props.setting.authentication_field.some(d=>d.name=="name"&&d.is_active=="1")?(i(),r("td",It,n((_=s.user.name)!=null?_:"-"),1)):l("",!0),o.$page.props.setting.authentication_field.some(d=>d.name=="province_id"&&d.is_active=="1")?(i(),r("td",Ot,n(s.user.student&&s.user.student.province?s.user.student.province.name:"-"),1)):l("",!0),o.$page.props.setting.authentication_field.some(d=>d.name=="city_id"&&d.is_active=="1")?(i(),r("td",Rt,n(s.user.student&&s.user.student.city?s.user.student.city.name:"-"),1)):l("",!0),(i(!0),r(m,null,g(a.allExams,d=>{var T,P;return i(),r("td",{class:"text-center",key:"exam_"+d.id},n((P=o.gradeFormat((T=s.user.grade.find(C=>C.lesson_id===d.lesson_id))==null?void 0:T.grade))!=null?P:"-"),1)}),128)),t("td",Jt,n(o.gradeFormat(s.grade)),1),t("td",Gt,n((j=s.description)!=null?j:"-"),1)])}),128)),t("tr",null,[a.grades.data.length?l("",!0):(i(),r("td",Qt,"Data Tidak Tersedia"))])])]),y(L,{links:a.grades.links,align:"end"},null,8,["links"])])])])):l("",!0)])])],64)}const se=O(R,[["render",Wt]]);export{se as default};
