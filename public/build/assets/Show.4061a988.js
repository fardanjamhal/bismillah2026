import{L as p}from"./Layout.0abe6e10.js";import{L,H as w,c as o,a as v,w as c,b as e,t as i,f as a,F as r,g as M,k as u,W as g,j as f,o as s}from"./app.8fed3035.js";import{_ as C}from"./_plugin-vue_export-helper.cdc0426e.js";const H={layout:p,components:{Link:L,Head:w},props:{videoModule:Object,userMemberCategories:Object},setup(d){return{checkMemberCategories:t=>{if(t.length>0){const l=t.map(m=>m.id);return d.userMemberCategories.some(m=>l.includes(m.member_category_id))}else return!0}}},methods:{formatPrice(d){return(d/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},P={class:"page-wrapper"},T={class:"page-content"},j={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},x=e("div",{class:"breadcrumb-title pe-3"},"Video Pembelajaran",-1),B={class:"ps-3"},V={"aria-label":"breadcrumb"},N={class:"breadcrumb mb-0 p-0"},E=e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])],-1),S={class:"breadcrumb-item active","aria-current":"page"},U={class:"ms-auto"},D=u("Kembali"),F=e("hr",null,null,-1),K={class:"row"},R={class:"col-lg-12"},A={key:0,class:"alert alert-danger border-0"},O=["innerHTML"],G={key:1,class:"alert alert-success border-0"},I=["innerHTML"],W={class:"col-12"},q={class:"card radius-10 border-start border-0 border-3 border-primary"},z={class:"card-body"},J={class:"row"},Q={class:"col-lg-9 col-md-12"},X={class:"mt-0"},Y=["innerHTML"],Z={class:"my-2 text-center text-md-start"},$={key:1,class:"badge bg-success"},ee={class:"col-lg-3 col-md-12 text-center text-md-end"},te={key:0},se={key:0},oe={key:0},de={class:"card-price"},ie={key:1},ae={class:"text-dark"},re={class:"badge bg-danger mx-1"},le=e("br",null,null,-1),ne={key:1},ce=e("h6",{class:"text-dark"},"Gratis",-1),_e=[ce],ue={key:0,class:"badge bg-warning text-dark font-13 m-1"},me=u("Beli"),be={key:0,class:"badge bg-warning text-dark font-13 m-1"},he={key:0},ge={key:1},ve={key:0,class:"badge bg-warning text-dark font-13 m-1"},ye={key:1,class:"badge bg-warning text-dark font-13 m-1"},Me=u("Beli"),fe={key:0},ke={key:1},pe={class:"row"},Le={class:"col-12"},we={class:"card radius-10 border-start border-0 border-3 border-primary"},Ce={class:"card-body"},He={class:"table-responsive mt-3"},Pe={class:"table table-hover table-striped"},Te=e("thead",null,[e("tr",null,[e("th",null,"No"),e("th",null,"Video Pembelajaran"),e("th",null,"\xA0")])],-1),je={class:"d-flex align-items-center"},xe=e("div",null,[e("i",{class:"bx bx-video-recording me-2 font-24 text-danger"})],-1),Be={class:"font-weight-bold text-danger"},Ve=u("Lihat"),Ne={key:1},Ee=e("td",{colspan:"5",align:"center"},"Video Pembelajaran Belum Tersedia",-1),Se=[Ee];function Ue(d,y,t,l,m,b){const k=f("Head"),_=f("Link");return s(),o(r,null,[v(k,null,{default:c(()=>{var n;return[e("title",null,i((n=d.$page.props.setting.app_name)!=null?n:"Atur Setting Terlebih Dahulu")+" - Data Video Pembelajaran",1)]}),_:1}),e("div",P,[e("div",T,[e("div",j,[x,e("div",B,[e("nav",V,[e("ol",N,[E,e("li",S,i(t.videoModule.category.name)+" - "+i(t.videoModule.title),1)])])]),e("div",U,[v(_,{href:"/user/video-modules",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:c(()=>[D]),_:1})])]),F,e("div",K,[e("div",R,[d.$page.props.session.error?(s(),o("div",A,[e("div",{innerHTML:d.$page.props.session.error},null,8,O)])):a("",!0),d.$page.props.session.success?(s(),o("div",G,[e("div",{innerHTML:d.$page.props.session.success},null,8,I)])):a("",!0)]),e("div",W,[e("div",q,[e("div",z,[e("div",J,[e("div",Q,[e("h5",X,i(t.videoModule.category.name)+" - "+i(t.videoModule.title),1),e("div",{innerHTML:t.videoModule.description},null,8,Y),e("p",Z,[(d.$page.props.setting.video_module_sales_type==2||d.$page.props.setting.video_module_sales_type==3)&&d.$page.props.auth.user.member_type==2?(s(),o(r,{key:0},[t.videoModule.member_categories&&t.videoModule.member_categories.length?(s(!0),o(r,{key:0},M(t.videoModule.member_categories,(n,h)=>(s(),o("span",{key:h,class:"badge bg-success me-1"},i(n.name),1))),128)):(s(),o("span",$," Seluruh Member & Non Member "))],64)):a("",!0)])]),e("div",ee,[(d.$page.props.setting.video_module_sales_type==1||d.$page.props.setting.video_module_sales_type==3)&&d.$page.props.auth.user.member_type==2?(s(),o("div",te,[t.videoModule.price_type==2?(s(),o("div",se,[t.videoModule.price_before_discount==t.videoModule.price_after_discount?(s(),o("div",oe,[e("h6",de,"Rp."+i(b.formatPrice(t.videoModule.price_after_discount)),1)])):(s(),o("div",ie,[e("h6",ae,[e("sup",null,[e("s",null,"Rp."+i(b.formatPrice(t.videoModule.price_before_discount)),1),e("span",re,i(b.formatPrice((t.videoModule.price_before_discount-t.videoModule.price_after_discount)/t.videoModule.price_before_discount*100))+"% ",1)]),le,u(" Rp."+i(b.formatPrice(t.videoModule.price_after_discount)),1)])]))])):(s(),o("div",ne,_e))])):a("",!0),d.$page.props.auth.user.member_type==2&&d.$page.props.setting.enable_video_module_sales==1?(s(),o(r,{key:1},[d.$page.props.setting.video_module_sales_type==1?(s(),o(r,{key:0},[t.videoModule.user_access.length>0||t.videoModule.price_type==1?(s(),o("span",ue,"Enrolled")):(s(),g(_,{key:1,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/videoModule/${t.videoModule.id}/buy`},{default:c(()=>[me]),_:1},8,["href"]))],64)):a("",!0),d.$page.props.setting.video_module_sales_type==2?(s(),o(r,{key:1},[l.checkMemberCategories(t.videoModule.member_categories)==!0?(s(),o("span",be,"Enrolled")):(s(),g(_,{key:1,href:`/user/vouchers?category_id=${t.videoModule.category_id}`,class:"btn btn-sm btn-success"},{default:c(()=>[t.videoModule.member_categories.length==1?(s(),o("span",he,"Upgrade Ke "+i(t.videoModule.member_categories[0]?t.videoModule.member_categories[0].name:""),1)):(s(),o("span",ge,"Upgrade Member"))]),_:1},8,["href"]))],64)):a("",!0),d.$page.props.setting.video_module_sales_type==3?(s(),o(r,{key:2},[t.videoModule.user_access.length>0&&l.checkMemberCategories(t.videoModule.member_categories)==!0?(s(),o("span",ve,"Enrolled")):a("",!0),(t.videoModule.user_access.length==0||l.checkMemberCategories(t.videoModule.member_categories)==!1)&&(t.videoModule.user_access.length>0||l.checkMemberCategories(t.videoModule.member_categories)==!0||t.videoModule.price_type==1)?(s(),o("span",ye,"Enrolled")):a("",!0),t.videoModule.user_access.length==0&&t.videoModule.price_type==2?(s(),g(_,{key:2,class:"btn btn-sm btn-danger me-1",href:`/user/transactions/videoModule/${t.videoModule.id}/buy`},{default:c(()=>[Me]),_:1},8,["href"])):a("",!0),l.checkMemberCategories(t.videoModule.member_categories)==!1?(s(),g(_,{key:3,href:`/user/vouchers?category_id=${t.videoModule.category_id}`,class:"btn btn-sm btn-success"},{default:c(()=>[t.videoModule.member_categories.length==1?(s(),o("span",fe,"Upgrade Ke "+i(t.videoModule.member_categories[0]?t.videoModule.member_categories[0].name:""),1)):(s(),o("span",ke,"Upgrade Member"))]),_:1},8,["href"])):a("",!0)],64)):a("",!0)],64)):a("",!0)])])])])])]),e("div",pe,[e("div",Le,[e("div",we,[e("div",Ce,[e("div",He,[e("table",Pe,[Te,e("tbody",null,[t.videoModule.detail_video_module.length>0?(s(!0),o(r,{key:0},M(t.videoModule.detail_video_module,(n,h)=>(s(),o("tr",{key:h},[e("td",null,i(++h),1),e("td",null,[e("div",je,[xe,e("div",Be,i(n.title),1)])]),e("td",null,[v(_,{href:`/user/video-modules/${t.videoModule.id}/detail-video-modules/${n.id}`,class:"btn btn-outline-primary btn-sm"},{default:c(()=>[Ve]),_:2},1032,["href"])])]))),128)):(s(),o("tr",Ne,Se))])])])])])])])])])],64)}const Re=C(H,[["render",Ue]]);export{Re as default};
