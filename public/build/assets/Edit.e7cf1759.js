import{L as C}from"./Layout.0f695962.js";import{L as D,H as V,p as x,c as l,a as k,w as P,b as o,F as g,g as h,f as c,d as B,e as _,q as v,n as m,t as r,v as b,h as U,i as q,j as T,o as n,k as K}from"./app.6c999467.js";import{S as j}from"./sweetalert2.all.91dbb82a.js";import{a as u}from"./index.a5307fe9.js";import{_ as J}from"./_plugin-vue_export-helper.cdc0426e.js";const L={layout:C,components:{Link:D,Head:V},props:{errors:Object,categories:Object,questionTitle:Object},setup(d){var f,y;const e=x({category_id:d.questionTitle.category_id,lesson_category_id:d.questionTitle.lesson_category_id,value_category_group_id:(f=d.questionTitle.value_category_group_id)!=null?f:"",lesson_id:d.questionTitle.lesson_id,name:d.questionTitle.name,total_choices:d.questionTitle.total_choices,total_section:d.questionTitle.total_section,add_value_category:d.questionTitle.add_value_category,assessment_type:(y=d.questionTitle.assessment_type)!=null?y:"",show_answer:d.questionTitle.show_answer,passing_grade:d.questionTitle.passing_grade,minimum_grade:d.questionTitle.minimum_grade,lessonCategories:[],lessons:[],valueCategoryGroups:[]});return u.get(`/admin/categories/${e.category_id}/lesson-categories`).then(i=>{e.lessonCategories=i.data}).catch(i=>console.error(i)),u.get(`/admin/lesson-categories/${e.lesson_category_id}/lessons`).then(i=>{e.lessons=i.data}).catch(i=>console.error(i)),u.get(`/admin/categories/${e.category_id}/value-category-groups`).then(i=>{e.valueCategoryGroups=i.data}).catch(i=>console.error(i)),u.get(`/admin/lessons/${e.lesson_id}/question-titles`).then(i=>{e.questionTitles=i.data}).catch(i=>console.error(i)),{form:e,submit:()=>{U.Inertia.put(`/admin/question-titles/${d.questionTitle.id}`,{category_id:e.category_id,lesson_category_id:e.lesson_category_id,value_category_group_id:e.value_category_group_id,lesson_id:e.lesson_id,name:e.name,total_choices:e.total_choices,total_section:e.total_section,add_value_category:e.add_value_category,assessment_type:e.add_value_category==0?"":e.assessment_type,show_answer:e.show_answer,passing_grade:e.passing_grade,minimum_grade:e.minimum_grade},{onSuccess:()=>{j.fire({title:"Success!",text:"Paket Soal Berhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})},lessonData:()=>{e.lesson_id="",e.question_title_id="",u.get(`/admin/lesson-categories/${e.lesson_category_id}/lessons`).then(i=>{e.lessons=i.data}).catch(i=>console.error(i))},lessonCategoryData:()=>{e.lesson_category_id="",e.lesson_id="",u.get(`/admin/categories/${e.category_id}/lesson-categories`).then(i=>{e.lessonCategories=i.data}).catch(i=>console.error(i)),u.get(`/admin/categories/${e.category_id}/value-category-groups`).then(i=>{e.valueCategoryGroups=i.data}).catch(i=>console.error(i))}}}},N={class:"page-wrapper"},p={class:"page-content"},M=q('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Paket Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Tambah Paket Soal</li></ol></nav></div></div>',1),O={class:"card border-top border-0 border-3 border-primary"},A={class:"card-body"},G={key:0,class:"alert alert-danger border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2"},H=o("strong",null,"Perhatian, pastikan inputan diisi dengan benar.",-1),E={class:"mt-3"},F={class:"d-lg-flex align-items-center"},z={class:"ms-auto"},I=K("Kembali"),R={class:"col-12"},Y=o("label",{class:"form-label"},"Kategori Peminatan",-1),Q=o("option",{value:""},"[ Pilih ]",-1),W=["value"],X={key:0,class:"invalid-feedback"},Z={class:"col-12"},$=o("label",{class:"form-label"},"Kategori Mata Pelajaran",-1),ee=o("option",{value:""},"[ Pilih ]",-1),oe=["value"],ae={key:0,class:"invalid-feedback"},se={class:"col-12"},te=o("label",{class:"form-label"},"Mata Pelajaran",-1),ie=o("option",{value:""},"[ Pilih ]",-1),le=["value"],ne={key:0,class:"invalid-feedback"},re={class:"col-12"},de=o("label",{class:"form-label"},"Judul Paket Soal",-1),ce={key:0,class:"invalid-feedback"},_e={class:"col-12"},me=o("label",{class:"form-label"},"Jumlah Pilihan Ganda",-1),ue={key:0,class:"invalid-feedback"},ge={class:"col-12"},ve=o("label",{class:"form-label"},"Jumlah Sesi / Kolom",-1),he={key:0,class:"invalid-feedback"},ye={class:"col-12"},be=o("label",{class:"form-label"},"Nilai Ambang Batas (Optional)",-1),fe={key:0,class:"invalid-feedback"},ke={class:"col-12"},Pe=o("label",{class:"form-label"},"Tambahkan Kategori Penilaian",-1),Te=o("option",{value:""},"[ Pilih ]",-1),qe=o("option",{value:"0"},"Tidak",-1),Se=o("option",{value:"1"},"Ya",-1),we=[Te,qe,Se],Ce={key:0,class:"invalid-feedback"},De={key:0,class:"col-12"},Ve=o("label",{class:"form-label"},"Jenis Penilaian",-1),xe=q('<option value="">[ Pilih ]</option><option value="1">Dihitung Per Kategori Penilaian</option><option value="2">Dihitung Untuk Seluruh Soal (Rata-rata)</option><option value="3">Dihitung Berdasarkan Poin Jawaban Benar</option><option value="4">Dihitung Berdasarkan Bobot Jawaban</option>',5),Be=[xe],Ue={key:0,class:"invalid-feedback"},Ke={key:1,class:"col-12"},je=o("label",{class:"form-label"},"Kelompok Kategori Penilaian",-1),Je=o("option",{value:""},"[ Pilih ]",-1),Le=["value"],Ne={key:0,class:"invalid-feedback"},pe=o("div",{class:"col-12"},[o("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1);function Me(d,e,s,t,S,f){const y=T("Head"),i=T("Link");return n(),l(g,null,[k(y,null,{default:P(()=>{var a;return[o("title",null,r((a=d.$page.props.setting.app_name)!=null?a:"Atur Setting Terlebih Dahulu")+" - Edit Paket Soal",1)]}),_:1}),o("div",N,[o("div",p,[M,o("div",O,[o("div",A,[Object.keys(s.errors).length>0?(n(),l("div",G,[H,o("ul",E,[(n(!0),l(g,null,h(s.errors,a=>(n(),l("li",null,r(a),1))),256))])])):c("",!0),o("div",F,[o("div",z,[k(i,{href:"/admin/question-titles",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:P(()=>[I]),_:1})])]),o("form",{onSubmit:e[12]||(e[12]=B((...a)=>t.submit&&t.submit(...a),["prevent"])),class:"row g-3"},[o("div",R,[Y,_(o("select",{onChange:e[0]||(e[0]=(...a)=>t.lessonCategoryData&&t.lessonCategoryData(...a)),"onUpdate:modelValue":e[1]||(e[1]=a=>t.form.category_id=a),class:m([{"is-invalid":s.errors.category_id},"form-select"])},[Q,(n(!0),l(g,null,h(s.categories,(a,w)=>(n(),l("option",{key:w,value:a.id},r(a.name),9,W))),128))],34),[[v,t.form.category_id]]),s.errors.category_id?(n(),l("div",X,r(s.errors.category_id),1)):c("",!0)]),o("div",Z,[$,_(o("select",{onChange:e[2]||(e[2]=(...a)=>t.lessonData&&t.lessonData(...a)),"onUpdate:modelValue":e[3]||(e[3]=a=>t.form.lesson_category_id=a),class:m([{"is-invalid":s.errors.lesson_category_id},"form-select"])},[ee,(n(!0),l(g,null,h(t.form.lessonCategories,a=>(n(),l("option",{value:a.id},r(a.name),9,oe))),256))],34),[[v,t.form.lesson_category_id]]),s.errors.lesson_category_id?(n(),l("div",ae,r(s.errors.lesson_category_id),1)):c("",!0)]),o("div",se,[te,_(o("select",{"onUpdate:modelValue":e[4]||(e[4]=a=>t.form.lesson_id=a),class:m([{"is-invalid":s.errors.lesson_id},"form-select"])},[ie,(n(!0),l(g,null,h(t.form.lessons,a=>(n(),l("option",{value:a.id},r(a.name),9,le))),256))],2),[[v,t.form.lesson_id]]),s.errors.lesson_id?(n(),l("div",ne,r(s.errors.lesson_id),1)):c("",!0)]),o("div",re,[de,_(o("input",{type:"text",class:m(["form-control",{"is-invalid":s.errors.name}]),"onUpdate:modelValue":e[5]||(e[5]=a=>t.form.name=a),placeholder:"Paket Soal"},null,2),[[b,t.form.name]]),s.errors.name?(n(),l("div",ce,r(s.errors.name),1)):c("",!0)]),o("div",_e,[me,_(o("input",{type:"number",class:m(["form-control",{"is-invalid":s.errors.total_choices}]),"onUpdate:modelValue":e[6]||(e[6]=a=>t.form.total_choices=a),placeholder:"Jumlah Pilihan"},null,2),[[b,t.form.total_choices]]),s.errors.total_choices?(n(),l("div",ue,r(s.errors.total_choices),1)):c("",!0)]),o("div",ge,[ve,_(o("input",{type:"number",class:m(["form-control",{"is-invalid":s.errors.total_section}]),"onUpdate:modelValue":e[7]||(e[7]=a=>t.form.total_section=a),placeholder:"Jumlah Sesi / Kolom"},null,2),[[b,t.form.total_section]]),s.errors.total_section?(n(),l("div",he,r(s.errors.total_section),1)):c("",!0)]),o("div",ye,[be,_(o("input",{type:"number",class:m(["form-control",{"is-invalid":s.errors.passing_grade}]),"onUpdate:modelValue":e[8]||(e[8]=a=>t.form.passing_grade=a),placeholder:"Nilai Ambang Batas"},null,2),[[b,t.form.passing_grade]]),s.errors.passing_grade?(n(),l("div",fe,r(s.errors.passing_grade),1)):c("",!0)]),o("div",ke,[Pe,_(o("select",{"onUpdate:modelValue":e[9]||(e[9]=a=>t.form.add_value_category=a),class:m([{"is-invalid":s.errors.add_value_category},"form-select"])},we,2),[[v,t.form.add_value_category]]),s.errors.add_value_category?(n(),l("div",Ce,r(s.errors.add_value_category),1)):c("",!0)]),t.form.add_value_category==1?(n(),l("div",De,[Ve,_(o("select",{"onUpdate:modelValue":e[10]||(e[10]=a=>t.form.assessment_type=a),class:m([{"is-invalid":s.errors.assessment_type},"form-select"])},Be,2),[[v,t.form.assessment_type]]),s.errors.assessment_type?(n(),l("div",Ue,r(s.errors.assessment_type),1)):c("",!0)])):c("",!0),(t.form.assessment_type==1||t.form.assessment_type==2)&&t.form.add_value_category==1?(n(),l("div",Ke,[je,_(o("select",{"onUpdate:modelValue":e[11]||(e[11]=a=>t.form.value_category_group_id=a),class:m([{"is-invalid":s.errors.value_category_group_id},"form-select"])},[Je,(n(!0),l(g,null,h(t.form.valueCategoryGroups,a=>(n(),l("option",{value:a.id},r(a.name),9,Le))),256))],2),[[v,t.form.value_category_group_id]]),s.errors.value_category_group_id?(n(),l("div",Ne,r(s.errors.value_category_group_id),1)):c("",!0)])):c("",!0),pe],32)])])])])],64)}const Fe=J(L,[["render",Me]]);export{Fe as default};
