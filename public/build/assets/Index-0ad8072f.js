import{L}from"./Layout-80160f1d.js";import{P as A}from"./Pagination-eba5b0b6.js";import{L as B,H as V,l as U,r as f,a as x,o as r,c as n,b as i,w as d,d as t,e as N,g as y,v as j,m as w,F as v,i as k,f as C,k as u,h,j as T,t as l,n as P}from"./app-50a2f634.js";import{S as D}from"./sweetalert2.esm.all-61741a63.js";import{a as G}from"./index-c612f2c9.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import"./axios-2725ad78.js";const I={layout:L,components:{Link:B,Head:V,Pagination:A},props:{examGroups:Object,categories:Object},setup(){const o=U({search:f(new URL(document.location).searchParams.get("search")),category_id:f(new URL(document.location).searchParams.get("category_id")||""),lesson_category_id:f(new URL(document.location).searchParams.get("lesson_category_id")||""),order:f(new URL(document.location).searchParams.get("order")||""),lessonCategories:[]}),e=(p="",b="")=>{o.lesson_category_id=p!=o.category_id?"":o.lesson_category_id,o.lesson_id=b!=o.lesson_category_id?"":o.lesson_id,G.get(`/admin/categories/${o.category_id}/lesson-categories`).then(g=>{o.lessonCategories=g.data}).catch(g=>console.error(g))},m=()=>{T.Inertia.get("/admin/exam-groups",{search:o.search,category_id:o.category_id,lesson_category_id:o.lesson_category_id,order:o.order})},a=p=>{D.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(b=>{b.isConfirmed&&(T.Inertia.delete(`/admin/exam-groups/${p}`),D.fire({title:"Deleted!",text:"Tryout Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})};return o.category_id&&e(o.category_id,o.lesson_category_id),{form:o,handleSearch:m,destroy:a,lessonCategoryData:e}}},M={class:"page-wrapper"},F={class:"page-content"},J={class:"card border-top border-0 border-3 border-primary"},R={class:"card-body"},z={class:"row"},E={class:"col-md-6 col-lg-3 mb-1"},K={class:"col-md-6 col-lg-3 mb-1"},O=["value"],W={class:"col-md-6 col-lg-2 mb-1"},q=["value"],Q={class:"col-lg-2 col-md-6 mb-1"},X={class:"col-md-6 col-lg-2 mb-1"},Y={class:"input-group"},Z={class:"card border-top border-0 border-3 border-primary"},$={class:"card-header"},tt={class:"d-flex align-items-center"},et={class:"ms-auto"},st={class:"card-body"},ot={class:"table-responsive"},at={class:"table mb-0",style:{"font-size":"10pt"}},rt={class:"badge bg-primary"},nt={class:"badge bg-success"},lt={key:0,class:"badge bg-danger"},it={key:1,class:"badge bg-primary"},dt={class:"btn-group"},ut={class:"dropdown-menu"},mt={key:0},ct={key:1},gt={key:2},pt={class:"dropdown"},bt={class:"dropdown-menu","data-popper-placement":"top-start","data-popper-reference-hidden":"","data-popper-escaped":""},_t=["onClick"],ft={key:0,align:"center",colspan:"9"};function yt(o,e,m,a,p,b){const g=x("Head"),c=x("Link"),S=x("Pagination");return r(),n(v,null,[i(g,null,{default:d(()=>[t("title",null,l(o.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Data Tryout",1)]),_:1}),t("div",M,[t("div",F,[e[29]||(e[29]=N('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Tryout</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Tryout</li></ol></nav></div></div>',1)),t("div",J,[e[17]||(e[17]=t("div",{class:"card-header"},[t("div",{class:"d-flex align-items-center"},[t("div",null,[t("h6",{class:"mb-0"},"Filter Data")])])],-1)),t("div",R,[t("form",null,[t("div",z,[t("div",E,[e[6]||(e[6]=t("label",{for:"search"},"Judul Tryout",-1)),y(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>a.form.search=s),class:"form-control form-control-sm",id:"search",placeholder:"Cari Berdasarkan Judul Tryout...."},null,512),[[j,a.form.search]])]),t("div",K,[e[8]||(e[8]=t("label",{for:"category"},"Kategori Peminatan",-1)),y(t("select",{onChange:e[1]||(e[1]=(...s)=>a.lessonCategoryData&&a.lessonCategoryData(...s)),"onUpdate:modelValue":e[2]||(e[2]=s=>a.form.category_id=s),class:"form-control form-control-sm"},[e[7]||(e[7]=t("option",{value:""},"[ Pilih]",-1)),(r(!0),n(v,null,k(m.categories,(s,_)=>(r(),n("option",{key:_,value:s.id},l(s.name),9,O))),128))],544),[[w,a.form.category_id]])]),t("div",W,[e[10]||(e[10]=t("label",{for:"lesson_category_id"},"Kategori Mata Pelajaran",-1)),y(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.form.lesson_category_id=s),class:"form-control form-control-sm"},[e[9]||(e[9]=t("option",{value:""},"[ Pilih ]",-1)),(r(!0),n(v,null,k(a.form.lessonCategories,s=>(r(),n("option",{value:s.id},l(s.name),9,q))),256))],512),[[w,a.form.lesson_category_id]])]),t("div",Q,[e[12]||(e[12]=t("label",{for:"category"},"Waktu",-1)),y(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>a.form.order=s),class:"form-select form-select-sm"},[...e[11]||(e[11]=[t("option",{value:""},"[ Pilih]",-1),t("option",{value:"DESC"},"Terbaru",-1),t("option",{value:"ASC"},"Terlama",-1)])],512),[[w,a.form.order]])]),t("div",X,[e[15]||(e[15]=t("label",{for:"end_date"},"Action",-1)),e[16]||(e[16]=t("br",null,null,-1)),t("div",Y,[t("button",{onClick:e[5]||(e[5]=C((...s)=>a.handleSearch&&a.handleSearch(...s),["prevent"])),class:"btn btn-primary btn-sm"},[...e[13]||(e[13]=[t("i",{class:"bx bx-filter"},null,-1),u("Filter ",-1)])]),i(c,{href:"/admin/exam-groups",class:"btn btn-danger btn-sm"},{default:d(()=>[...e[14]||(e[14]=[t("i",{class:"bx bx-refresh"},null,-1),u("reset ",-1)])]),_:1})])])])])])]),t("div",Z,[t("div",$,[t("div",tt,[e[19]||(e[19]=t("div",null,[t("h6",{class:"mb-0"},"Tryout")],-1)),t("div",et,[i(c,{href:"/admin/exam-groups/create",class:"btn btn-primary btn-sm me-2"},{default:d(()=>[...e[18]||(e[18]=[t("i",{class:"bx bxs-plus-square"},null,-1),u("Tambah Tryout ",-1)])]),_:1})])])]),t("div",st,[t("div",ot,[t("table",at,[e[28]||(e[28]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"No"),t("th",null,"Peminatan"),t("th",null,"Kategori Mata Pelajaran"),t("th",null,"Judul Tryout"),t("th",null,"Jumlah Tes"),t("th",null,"Peserta"),t("th",null,"Status"),t("th",null,"Actions")])],-1)),t("tbody",null,[(r(!0),n(v,null,k(m.examGroups.data,(s,_)=>(r(),n("tr",{key:_},[t("td",null,l(++_+(m.examGroups.current_page-1)*m.examGroups.per_page),1),t("td",null,[t("span",rt,l(s.category.name),1)]),t("td",null,[t("span",nt,l(s.lesson_category.name),1)]),t("td",null,l(s.title),1),t("td",null,l(s.exam_count),1),t("td",null,[s.exam_group_user_count==0?(r(),n("span",lt,l(s.exam_group_user_count),1)):(r(),n("span",it,l(s.exam_group_user_count),1))]),t("td",null,[t("div",dt,[t("button",{type:"button",class:P({btn:!0,"btn-sm":!0,"btn-warning":s.exam_status==="inprogress","btn-danger":s.exam_status==="inactive","btn-primary":s.exam_status==="active"})},l(o.capitalizeWords(s.exam_status)),3),t("button",{type:"button",class:P([{btn:!0,"btn-sm":!0,"btn-warning":s.exam_status==="inprogress","btn-danger":s.exam_status==="inactive","btn-primary":s.exam_status==="active","split-bg-warning":s.exam_status==="inprogress","split-bg-danger":s.exam_status==="inactive","split-bg-primary":s.exam_status==="active"},"dropdown-toggle dropdown-toggle-split"]),"data-bs-toggle":"dropdown","aria-expanded":"false"},[...e[20]||(e[20]=[t("span",{class:"visually-hidden"},"Toggle Dropdown",-1)])],2),t("ul",ut,[s.exam_status!=="active"?(r(),n("li",mt,[i(c,{class:"dropdown-item",href:`/admin/exam-groups/${s.id}/change-exam-status?exam_status=active`},{default:d(()=>[...e[21]||(e[21]=[u("Active",-1)])]),_:1},8,["href"])])):h("",!0),s.exam_status!=="inactive"?(r(),n("li",ct,[i(c,{class:"dropdown-item",href:`/admin/exam-groups/${s.id}/change-exam-status?exam_status=inactive`},{default:d(()=>[...e[22]||(e[22]=[u("Inactive",-1)])]),_:1},8,["href"])])):h("",!0),s.exam_status!=="inprogress"?(r(),n("li",gt,[i(c,{class:"dropdown-item",href:`/admin/exam-groups/${s.id}/change-exam-status?exam_status=inprogress`},{default:d(()=>[...e[23]||(e[23]=[u("In Progress",-1)])]),_:1},8,["href"])])):h("",!0)])])]),t("td",null,[t("div",pt,[e[27]||(e[27]=t("button",{class:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true"},"Action",-1)),t("ul",bt,[t("li",null,[i(c,{class:"dropdown-item",href:`/admin/exam-groups/${s.id}/students`},{default:d(()=>[...e[24]||(e[24]=[u("Nilai Peserta",-1)])]),_:1},8,["href"])]),t("li",null,[i(c,{class:"dropdown-item",href:`/admin/exam-groups/${s.id}/exam-group-details`},{default:d(()=>[...e[25]||(e[25]=[u("Detail",-1)])]),_:1},8,["href"])]),t("li",null,[i(c,{class:"dropdown-item",href:`/admin/exam-groups/${s.id}/edit`},{default:d(()=>[...e[26]||(e[26]=[u("Edit",-1)])]),_:1},8,["href"])]),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:C(vt=>a.destroy(s.id),["prevent"])},"Hapus",8,_t)])])])])]))),128)),t("tr",null,[m.examGroups.data.length?h("",!0):(r(),n("td",ft,"Data Tidak Tersedia"))])])])]),i(S,{links:m.examGroups.links,align:"end"},null,8,["links"])])])])])],64)}const Dt=H(I,[["render",yt]]);export{Dt as default};
