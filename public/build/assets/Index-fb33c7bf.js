import{L as S}from"./Layout-80160f1d.js";import{P as B}from"./Pagination-eba5b0b6.js";import{L as D,H as K,r as L,a as u,o as n,c as r,b,w as v,d as s,e as T,t as i,f as A,g as R,v as U,h as l,F as y,i as j,j as w}from"./app-50a2f634.js";import{S as x}from"./sweetalert2.esm.all-61741a63.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";const N={layout:S,components:{Link:D,Head:K,Pagination:B},props:{userCommissions:Object,summaryUserCommission:Object,commissionCount:Object},setup(){const a=L(new URL(document.location).searchParams.get("search"));return{search:a,handleSearch:()=>{w.Inertia.get("/admin/affiliates/commissions",{search:a.value})},destroy:m=>{x.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(h=>{h.isConfirmed&&(w.Inertia.delete(`/admin/affiliates/commissions/${m}`),x.fire({title:"Deleted!",text:"Sub Kategori Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}},methods:{formatPrice(a){return"Rp."+Math.floor(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},V={class:"page-wrapper"},I={class:"page-content"},M={class:"card border-top border-0 border-3 border-primary"},O={class:"card-body"},z={class:"row row-cols-1 row-cols-md-2 row-cols-xl-4"},F={class:"col"},E={class:"card radius-10 overflow-hidden mb-0 shadow-none border border-2 border-warning mb-3"},q={class:"card-body"},G={class:"d-flex align-items-center"},J={class:"my-1 text-warning"},Q={class:"col"},W={class:"card radius-10 overflow-hidden mb-0 shadow-none border border-2 border-primary mb-3"},X={class:"card-body"},Y={class:"d-flex align-items-center"},Z={class:"my-1 text-primary"},$={class:"col"},ss={class:"card radius-10 overflow-hidden mb-0 shadow-none border border-2 border-danger mb-3"},es={class:"card-body"},ts={class:"d-flex align-items-center"},as={class:"my-1 text-danger"},is={class:"col"},os={class:"card radius-10 overflow-hidden mb-0 shadow-none border border-2 mb-3 border-success"},ns={class:"card-body"},rs={class:"d-flex align-items-center"},ds={class:"my-1 text-success"},ls={class:"mb-3"},ms={class:"position-relative"},cs={class:"table-responsive"},us={class:"table mb-0",style:{"font-size":"10pt"}},bs={class:"table-success"},hs={key:0},ps={key:1},_s={key:2},gs={key:0},fs={key:1},vs={key:2},ys={class:"d-flex order-actions"},ws={key:0};function xs(a,e,o,m,h,c){var p,_,g;const k=u("Head"),C=u("Link"),P=u("Pagination");return n(),r(y,null,[b(k,null,{default:v(()=>[s("title",null,i(a.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Data Komisi",1)]),_:1}),s("div",V,[s("div",I,[e[18]||(e[18]=T('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Komisi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Komisi</li></ol></nav></div></div>',1)),s("div",M,[s("div",O,[s("div",z,[s("div",F,[s("div",E,[s("div",q,[s("div",G,[s("div",null,[e[2]||(e[2]=s("p",{class:"mb-0 text-secondary"},"Transaksi Referrer",-1)),s("h4",J,i(o.commissionCount),1)]),e[3]||(e[3]=s("div",{class:"widgets-icons-2 rounded-circle bg-gradient-orange text-white ms-auto"},[s("i",{class:"bx bxs-user-plus"})],-1))])])])]),s("div",Q,[s("div",W,[s("div",X,[s("div",Y,[s("div",null,[e[4]||(e[4]=s("p",{class:"mb-0 text-secondary"},"Komisi Referrer",-1)),s("h4",Z,i(c.formatPrice(o.summaryUserCommission.total_commission)),1)]),e[5]||(e[5]=s("div",{class:"widgets-icons-2 rounded-circle bg-gradient-blues text-white ms-auto"},[s("i",{class:"bx bx-money"})],-1))])])])]),s("div",$,[s("div",ss,[s("div",es,[s("div",ts,[s("div",null,[e[6]||(e[6]=s("p",{class:"mb-0 text-secondary"},"Penarikan Referrer",-1)),s("h4",as,i(c.formatPrice(o.summaryUserCommission.total_withdrawals)),1)]),e[7]||(e[7]=s("div",{class:"widgets-icons-2 rounded-circle bg-gradient-burning text-white ms-auto"},[s("i",{class:"bx bx-transfer-alt"})],-1))])])])]),s("div",is,[s("div",os,[s("div",ns,[s("div",rs,[s("div",null,[e[8]||(e[8]=s("p",{class:"mb-0 text-secondary"},"Komisi Belum Ditarik",-1)),s("h4",ds,i(c.formatPrice(o.summaryUserCommission.current_balance)),1)]),e[9]||(e[9]=s("div",{class:"widgets-icons-2 rounded-circle bg-gradient-ohhappiness text-white ms-auto"},[s("i",{class:"bx bx-credit-card-front"})],-1))])])])])]),s("div",ls,[s("form",{onSubmit:e[1]||(e[1]=A((...t)=>m.handleSearch&&m.handleSearch(...t),["prevent"]))},[s("div",ms,[R(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>m.search=t),class:"form-control ps-5 radius-20",placeholder:"Cari Berdasarkan Data Referrer....",size:"40",maxlength:"100"},null,512),[[U,m.search]]),e[10]||(e[10]=s("span",{class:"position-absolute top-50 product-show translate-middle-y"},[s("i",{class:"bx bx-search"})],-1))])],32)]),s("div",cs,[s("table",us,[s("thead",bs,[s("tr",null,[e[11]||(e[11]=s("th",null,"No",-1)),a.$page.props.setting.authentication_field.some(t=>t.name=="name"&&t.is_active=="1")?(n(),r("th",hs,i((p=a.$page.props.setting.authentication_field.find(t=>t.name=="name"))==null?void 0:p.translate),1)):l("",!0),a.$page.props.setting.authentication_field.some(t=>t.name=="email"&&t.is_active=="1")?(n(),r("th",ps,i((_=a.$page.props.setting.authentication_field.find(t=>t.name=="email"))==null?void 0:_.translate),1)):l("",!0),a.$page.props.setting.authentication_field.some(t=>t.name=="username"&&t.is_active=="1")?(n(),r("th",_s,i((g=a.$page.props.setting.authentication_field.find(t=>t.name=="username"))==null?void 0:g.translate),1)):l("",!0),e[12]||(e[12]=s("th",null,"Total Komisi",-1)),e[13]||(e[13]=s("th",null,"Total Penarikan",-1)),e[14]||(e[14]=s("th",null,"Komisi Saat Ini",-1)),e[15]||(e[15]=s("th",null,"Actions",-1))])]),s("tbody",null,[(n(!0),r(y,null,j(o.userCommissions.data,(t,f)=>(n(),r("tr",{key:f},[s("td",null,i(++f+(o.userCommissions.current_page-1)*o.userCommissions.per_page),1),a.$page.props.setting.authentication_field.some(d=>d.name=="name"&&d.is_active=="1")?(n(),r("td",gs,i(t.user.name??"-"),1)):l("",!0),a.$page.props.setting.authentication_field.some(d=>d.name=="email"&&d.is_active=="1")?(n(),r("td",fs,i(t.user.email??"-"),1)):l("",!0),a.$page.props.setting.authentication_field.some(d=>d.name=="username"&&d.is_active=="1")?(n(),r("td",vs,i(t.user.username??"-"),1)):l("",!0),s("td",null,i(c.formatPrice(t.total_commission)),1),s("td",null,i(c.formatPrice(t.total_withdrawals)),1),s("td",null,i(c.formatPrice(t.current_balance)),1),s("td",null,[s("div",ys,[b(C,{href:`/admin/affiliates/commissions/${t.id}`,class:"ms-1"},{default:v(()=>[...e[16]||(e[16]=[s("i",{class:"bx bx-grid-alt"},null,-1)])]),_:1},8,["href"])])])]))),128)),o.userCommissions.data.length?l("",!0):(n(),r("tr",ws,[...e[17]||(e[17]=[s("td",{align:"center",colspan:"8"},"Data Tidak Tersedia",-1)])]))])])]),b(P,{links:o.userCommissions.links,align:"end"},null,8,["links"])])])])])],64)}const Ds=H(N,[["render",xs]]);export{Ds as default};
