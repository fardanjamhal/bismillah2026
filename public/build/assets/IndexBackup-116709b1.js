import{L as b}from"./Layout-3f5fccec.js";import{L as u,H as g,v as e}from"./app-17df11ec.js";import{_}from"./_plugin-vue_export-helper-c27b6911.js";const h={layout:b,components:{Link:u,Head:g},props:{categoryVideoModules:Object,userMemberCategories:Object},setup(n){const t=e.ref(""),r=e.ref("Pembahasan Soal Video"),l=s=>{if(s.length>0){const a=s.map(o=>o.id);return n.userMemberCategories.some(o=>a.includes(o.member_category_id))}else return!0},d=(s,a)=>{t.value=c(s),r.value=a},i=()=>{t.value=""},c=s=>s.includes("drive.google.com")?`https://drive.google.com/file/d/${s.match(/\/d\/(.*?)\//)[1]}/preview`:s.includes("youtube.com")?`https://www.youtube.com/embed/${s.split("v=")[1]}`:s.includes("youtu.be")?`https://www.youtube.com/embed/${s.split(".be/")[1]}`:s;return{checkMemberCategories:l,openVideo:d,stopVideo:i,convertToEmbed:c,videoUrl:t,modalTitle:r}}},k={class:"page-wrapper"},v={class:"page-content"},V={key:0},y={class:"mb-3"},E={class:"row"},N={class:"card"},B={class:"card-body"},f={class:"card-title mt-1",style:{"min-height":"40px"}},x={class:"mb-0"},w={class:"card-text",style:{"min-height":"60px"}},C={key:0,class:"text-center"},S={key:0},D={class:"badge bg-success ms-1"},I={key:1},L={class:"text-center"},j={key:0},F=["onClick"],P={key:1},T={key:0},$={key:1},H={class:"modal fade",id:"exampleFullScreenModal",tabindex:"-1","aria-hidden":"true"},U={class:"modal-dialog modal-fullscreen"},A={class:"modal-content"},O={class:"modal-header"},z={class:"modal-title"},K={class:"modal-body p-0 m-0"},M=["src"],q={class:"modal-footer"};function G(n,t,r,l,d,i){const c=e.resolveComponent("Head"),s=e.resolveComponent("Link");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(c,null,{default:e.withCtx(()=>[e.createElementVNode("title",null,e.toDisplayString(n.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Data Video Pembelajaran",1)]),_:1}),e.createElementVNode("div",k,[e.createElementVNode("div",v,[t[8]||(t[8]=e.createStaticVNode('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Video Pembelajaran</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Video Pembelajaran</li></ol></nav></div></div><hr>',2)),r.categoryVideoModules.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",V,[...t[2]||(t[2]=[e.createStaticVNode('<div class="row row-cols-12 row-cols-md-12 row-cols-lg-12 row-cols-xl-12"><div class="col"><div class="card border-bottom border-3 border-0"><div class="card-body"><h5 class="card-title text-center">Data Video Pembelajaran Belum Tersedia.</h5></div></div></div></div>',1)])])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.categoryVideoModules,a=>(e.openBlock(),e.createElementBlock("div",{key:a.id},[e.createElementVNode("h5",y,"Video Pembelajaran "+e.toDisplayString(a.name),1),e.createElementVNode("div",E,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.video_module,o=>(e.openBlock(),e.createElementBlock("div",{class:"col-xs-12 col-sm-12 col-md-6 col-lg-3",key:o.id},[e.createElementVNode("div",N,[t[6]||(t[6]=e.createElementVNode("span",{class:"badge bg-danger",style:{position:"absolute",right:"-15px",top:"-15px",width:"50px",height:"35px","font-size":"20px"}},[e.createElementVNode("i",{class:"fadeIn animated bx bx-book"})],-1)),e.createElementVNode("div",B,[e.createElementVNode("div",f,[e.createElementVNode("h6",x,e.toDisplayString(o.title),1)]),t[4]||(t[4]=e.createElementVNode("hr",null,null,-1)),e.createElementVNode("p",w,e.toDisplayString(o.description),1),n.$page.props.auth.user.member_type==2?(e.openBlock(),e.createElementBlock("div",C,[o.member_categories.length>0?(e.openBlock(),e.createElementBlock("div",S,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.member_categories,(m,p)=>(e.openBlock(),e.createElementBlock("div",{key:p,style:{display:"inline"}},[e.createElementVNode("span",D,e.toDisplayString(m.name),1)]))),128))])):(e.openBlock(),e.createElementBlock("div",I,[...t[3]||(t[3]=[e.createElementVNode("span",{class:"badge bg-success ms-1"},"Seluruh Member & Non Member",-1)])]))])):e.createCommentVNode("",!0),t[5]||(t[5]=e.createElementVNode("hr",null,null,-1)),e.createElementVNode("div",L,[l.checkMemberCategories(o.member_categories)||n.$page.props.auth.user.member_type==1?(e.openBlock(),e.createElementBlock("div",j,[e.createElementVNode("button",{type:"button",class:"btn btn-sm btn-primary w-100","data-bs-toggle":"modal","data-bs-target":"#exampleFullScreenModal",onClick:m=>l.openVideo(o.link,o.title)}," Buka Video ",8,F)])):(e.openBlock(),e.createElementBlock("div",P,[e.createVNode(s,{href:`/user/vouchers?category_id=${o.category_id}`,class:"btn btn-outline-primary btn-sm w-100"},{default:e.withCtx(()=>[o.member_categories.length==1?(e.openBlock(),e.createElementBlock("span",T,"Upgrade Ke "+e.toDisplayString(o.member_categories[0]?o.member_categories[0].name:""),1)):(e.openBlock(),e.createElementBlock("span",$,"Upgrade Member"))]),_:2},1032,["href"])]))])])])]))),128))]),t[7]||(t[7]=e.createElementVNode("hr",null,null,-1))]))),128))])]),e.createElementVNode("div",H,[e.createElementVNode("div",U,[e.createElementVNode("div",A,[e.createElementVNode("div",O,[e.createElementVNode("h5",z,e.toDisplayString(l.modalTitle),1),e.createElementVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=a=>l.stopVideo())})]),e.createElementVNode("div",K,[e.createElementVNode("iframe",{width:"100%",id:"video-frame",height:"100%",src:l.videoUrl,title:"Video player",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,M)]),e.createElementVNode("div",q,[e.createElementVNode("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=a=>l.stopVideo())},"Tutup")])])])])],64)}const W=_(h,[["render",G]]);export{W as default};
