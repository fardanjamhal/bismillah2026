import{L as B}from"./Layout.48c4e186.js";import{p as M,e as H,t as C}from"./index.es.17dc9dea.js";import{P}from"./Pagination.2403c559.js";import{L as D,H as A,m as I,r as j,c as l,a as h,w as _,b as t,d as E,e as k,t as o,g as a,F as T,h as v,n as g,y as J,k as c,f as N,v as F,i as y,j as q,o as i}from"./app.c75ce23b.js";import{S as b}from"./sweetalert2.esm.all.089855d2.js";import{_ as K}from"./_plugin-vue_export-helper.cdc0426e.js";const Q={layout:B,components:{Link:D,Head:A,Pagination:P,MathJax:M},props:{errors:Object,questions:Object,questionTitle:Object},mounted(){let r=document.createElement("script");r.setAttribute("src","https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"),document.head.appendChild(r);function e(){const n=document.getElementById("elementId");C(n)}H({},e)},setup(r){const e=I({type:"number",file:""}),n=()=>{b.fire({title:"Pastikan Format File Sesuai",text:"Jika format tidak sesuai maka seluruh soal tidak akan berhasil di import.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Import"}).then(u=>{u.isConfirmed&&y.Inertia.post(`/admin/question-titles/${r.questionTitle.id}/import-excel`,{file:e.file},{forceFormData:!0,onFinish:()=>{e.file="",document.querySelector("#fileInput").value=""}})})},d=()=>{y.Inertia.post(`/admin/question-titles/${r.questionTitle.id}/questions/generate-question`,{type:e.type},{onSuccess:()=>{b.fire({title:"Success!",text:"Soal Berhasil Di Generate!.",icon:"success",showConfirmButton:!1,timer:2e3})}})},x=j(new URL(document.location).searchParams.get("search"));return{search:x,form:e,handleSearch:()=>{y.Inertia.get(`/admin/question-titles/${r.questionTitle.id}/questions`,{search:x.value})},destroy:u=>{b.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(m=>{m.isConfirmed&&(y.Inertia.delete(`/admin/question-titles/${r.questionTitle.id}/questions/${u}`),b.fire({title:"Deleted!",text:"Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},generateQuestion:d,destroyQuestionTitle:u=>{b.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(m=>{m.isConfirmed&&(y.Inertia.delete(`/admin/question-titles/${u}`),b.fire({title:"Deleted!",text:"Judul Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},importExcel:n,destroyAllQuestion:u=>{b.fire({title:"Apakah anda yakin akan menghapus seluruh soal ?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(m=>{m.isConfirmed&&(y.Inertia.get(`/admin/question-titles/${r.questionTitle.id}/delete-question`),b.fire({title:"Deleted!",text:"Seluruh Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}}},O={class:"page-wrapper"},V={class:"page-content"},G={class:"card border-top border-0 border-3 border-primary"},R={class:"card-body"},U={class:"d-lg-flex align-items-center mb-4 gap-3"},z={class:"ms-auto"},Y={class:"tab-content py-3"},X={class:"tab-pane fade active show",id:"primaryhome",role:"tabpanel"},W={class:"table mb-0"},Z={class:"badge bg-primary"},$={key:0},tt={class:"badge bg-success"},et={key:1},nt={key:0},st={key:1},it={key:2},lt={key:3},at={key:2},ot=["innerHTML"],rt={class:"tab-pane fade",id:"primaryprofile",role:"tabpanel"},dt={class:"table table-bordered mb-0"},ut=["href"],mt=["href"],ct={key:0,align:"center",colspan:"4"},bt={key:0,class:"alert alert-success border-0 bg-success alert-dismissible fade show py-2"},gt={class:"d-flex align-items-center"},ft={class:"ms-3"},ht={class:"text-white"},_t={key:1,class:"alert alert-danger border-0 bg-danger alert-dismissible fade show py-2"},yt={class:"d-flex align-items-center"},pt={class:"ms-3"},kt={class:"text-white"},Tt={key:2,class:"alert alert-danger border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2"},xt={class:"mt-3"},vt={class:"card"},qt={class:"card-body"},wt={class:"d-lg-flex align-items-center gap-3"},St={class:"dropdown-menu"},Lt=["href"],Bt=["href"],Mt=["href"],Ht={class:"btn-group me-2"},Ct={class:"card border-top border-0 border-3 border-primary"},Pt={class:"card-body"},Dt={class:"d-lg-flex align-items-center mb-4 gap-3"},At={class:"position-relative"},It={class:"ms-auto"},jt={class:"table mb-0"},Et={key:0},Jt={controls:""},Nt=["src"],Ft=["src"],Kt=["innerHTML"],Qt={key:1,type:"A"},Ot=["innerHTML"],Vt=["innerHTML"],Gt=["innerHTML"],Rt=["innerHTML"],Ut=["innerHTML"],zt={key:2,type:"A"},Yt=["innerHTML"],Xt=["innerHTML"],Wt=["innerHTML"],Zt=["innerHTML"],$t=["innerHTML"],te={key:3,class:"badge rounded-pill text-primary bg-light-primary p-2 text-uppercase"},ee={class:"d-flex order-actions"},ne=["onClick"],se={key:0,align:"center",colspan:"3"};function ie(r,e,n,d,x,L){var u,m;const w=q("Head"),f=q("Link"),S=q("Pagination");return i(),l(T,null,[h(w,null,{default:_(()=>{var s;return[t("title",null,o((s=r.$page.props.setting.app_name)!=null?s:"Atur Setting Terlebih Dahulu")+" - Data Soal",1)]}),_:1}),t("div",O,[t("div",V,[e[49]||(e[49]=E('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Soal</li></ol></nav></div></div>',1)),t("div",G,[t("div",R,[t("div",U,[h(f,{href:`/admin/question-titles/${n.questionTitle.id}/edit`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:_(()=>[...e[6]||(e[6]=[c("Edit Paket Soal",-1)])]),_:1},8,["href"]),t("a",{href:"#",onClick:e[0]||(e[0]=k(s=>d.destroyQuestionTitle(n.questionTitle.id),["prevent"])),class:"btn btn-danger btn-sm mt-2 mt-lg-0"},"Hapus Paket Soal"),t("div",z,[h(f,{href:"/admin/question-titles",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:_(()=>[...e[7]||(e[7]=[c("Kembali",-1)])]),_:1})])]),e[31]||(e[31]=t("ul",{class:"nav nav-tabs nav-dark",role:"tablist"},[t("li",{class:"nav-item",role:"presentation"},[t("a",{class:"nav-link active","data-bs-toggle":"tab",href:"#primaryhome",role:"tab","aria-selected":"true"},[t("div",{class:"d-flex align-items-center"},[t("div",{class:"tab-title"},"Detail Paket Soal")])])]),t("li",{class:"nav-item",role:"presentation"},[t("a",{class:"nav-link","data-bs-toggle":"tab",href:"#primaryprofile",role:"tab","aria-selected":"false",tabindex:"-1"},[t("div",{class:"d-flex align-items-center"},[t("div",{class:"tab-title"},"Detail Penggunaan Paket Soal")])])])],-1)),t("div",Y,[t("div",X,[t("table",W,[t("tbody",null,[t("tr",null,[e[8]||(e[8]=t("th",null,"Peminatan",-1)),e[9]||(e[9]=t("td",{width:"10px"},":",-1)),t("td",null,[t("span",Z,o((u=n.questionTitle.category&&n.questionTitle.category.name)!=null?u:"-"),1)])]),t("tr",null,[e[10]||(e[10]=t("th",null,"Kategori Mata Pelajaran",-1)),e[11]||(e[11]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.lesson_category.name),1)]),t("tr",null,[e[12]||(e[12]=t("th",null,"Mata Pelajaran",-1)),e[13]||(e[13]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.lesson.name),1)]),t("tr",null,[e[14]||(e[14]=t("th",null,"Judul Soal",-1)),e[15]||(e[15]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.name),1)]),t("tr",null,[e[16]||(e[16]=t("th",null,"Jumlah Pilihan Ganda",-1)),e[17]||(e[17]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.total_choices),1)]),t("tr",null,[e[18]||(e[18]=t("th",null,"Total Bagian",-1)),e[19]||(e[19]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.total_section),1)]),n.questionTitle.passing_grade?(i(),l("tr",$,[e[20]||(e[20]=t("th",null,"Nilai Ambang Batas",-1)),e[21]||(e[21]=t("td",null,":",-1)),t("td",null,o((m=n.questionTitle.passing_grade)!=null?m:"-"),1)])):a("",!0),t("tr",null,[e[22]||(e[22]=t("th",null,"Tambahkan Kategori Penilaian",-1)),e[23]||(e[23]=t("td",null,":",-1)),t("td",null,[t("span",tt,o(n.questionTitle.add_value_category==0?"Tidak":"Ya"),1)])]),n.questionTitle.add_value_category==1?(i(),l("tr",et,[e[24]||(e[24]=t("th",null,"Jenis Penilaian",-1)),e[25]||(e[25]=t("td",null,":",-1)),t("td",null,[n.questionTitle.assessment_type==1?(i(),l("span",nt,"Dihitung Per Kategori Penilaian")):a("",!0),n.questionTitle.assessment_type==2?(i(),l("span",st,"Dihitung Untuk Seluruh Soal (Rata-rata)")):a("",!0),n.questionTitle.assessment_type==3?(i(),l("span",it,"Dihitung Berdasarkan Poin Jawaban Benar")):a("",!0),n.questionTitle.assessment_type==4?(i(),l("span",lt,"Dihitung Berdasarkan Bobot Jawaban")):a("",!0)])])):a("",!0),n.questionTitle.add_value_category==1&&(n.questionTitle.assessment_type==1||n.questionTitle.assessment_type==2)?(i(),l("tr",at,[e[26]||(e[26]=t("th",null,"Kelompok Kategori Penilaian",-1)),e[27]||(e[27]=t("td",null,":",-1)),t("td",{innerHTML:n.questionTitle.value_category_group?n.questionTitle.value_category_group.name:"<span class='badge bg-danger'>Belum disetting</span>"},null,8,ot)])):a("",!0),t("tr",null,[e[28]||(e[28]=t("th",null,"Dibuat Oleh",-1)),e[29]||(e[29]=t("td",null,":",-1)),t("td",null,o(n.questionTitle.user?n.questionTitle.user.name:"-"),1)])])])]),t("div",rt,[t("table",dt,[e[30]||(e[30]=t("thead",null,[t("tr",null,[t("th",null,"No"),t("th",null,"Penggunaan"),t("th",null,"Judul"),t("th",null,"Action")])],-1)),t("tbody",null,[(i(!0),l(T,null,v(n.questionTitle.exam,(s,p)=>(i(),l("tr",{key:p},[t("td",null,o(p+1),1),t("td",null,o(s.exam_group_id?"Tryout":"Latihan Soal"),1),t("td",null,o(s.exam_group?s.exam_group.title:s.title),1),t("td",null,[s.exam_group?a("",!0):(i(),l("a",{key:0,class:"btn btn-primary btn-sm",target:"_blank",href:`/admin/exams/${s.id}`},"Lihat Latihan Soal",8,ut)),s.exam_group?(i(),l("a",{key:1,class:"btn btn-primary btn-sm",target:"_blank",href:`/admin/exam-groups/${s.exam_group.id}/exam-group-details`},"Lihat Tryout",8,mt)):a("",!0)])]))),128)),t("tr",null,[n.questionTitle.exam.length?a("",!0):(i(),l("td",ct,"Paket Soal belum digunakan di Latihan Soal ataupun di Tryout"))])])])])])])]),r.$page.props.session.success?(i(),l("div",bt,[t("div",gt,[e[33]||(e[33]=t("div",{class:"font-35 text-white"},[t("i",{class:"bx bxs-check-circle"})],-1)),t("div",ft,[e[32]||(e[32]=t("h6",{class:"mb-0 text-white"},"Sukses",-1)),t("div",ht,o(r.$page.props.session.success),1)])])])):a("",!0),r.$page.props.session.error?(i(),l("div",_t,[t("div",yt,[e[35]||(e[35]=t("div",{class:"font-35 text-white"},[t("i",{class:"bx bxs-message-square-x"})],-1)),t("div",pt,[e[34]||(e[34]=t("h6",{class:"mb-0 text-white"},"Gagal",-1)),t("div",kt,o(r.$page.props.session.error),1)])])])):a("",!0),Object.keys(n.errors).length>0?(i(),l("div",Tt,[e[36]||(e[36]=t("strong",null,"Perhatian, pastikan inputan dalam file import diisi dengan benar.",-1)),t("ul",xt,[(i(!0),l(T,null,v(Object.values(n.errors).flat(),s=>(i(),l("li",{key:s},o(s),1))),128))])])):a("",!0),t("div",vt,[t("div",qt,[t("div",wt,[n.questionTitle.total_section>1?(i(),l("div",{key:0,class:g({"ms-auto":n.questionTitle.total_section>1})},[n.questions.data.length?a("",!0):(i(),J(f,{key:0,href:`/admin/question-titles/${n.questionTitle.id}/questions/generate-questions`,class:"btn btn-danger btn-sm"},{default:_(()=>[...e[37]||(e[37]=[t("i",{class:"bx bxs-file"},null,-1),c("Generate Soal Kecermatan",-1)])]),_:1},8,["href"]))],2)):a("",!0),t("div",{class:g(["dropdown",{"ms-auto":n.questionTitle.total_section==1}])},[e[38]||(e[38]=t("button",{class:"btn btn-primary dropdown-toggle btn-sm",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Export Soal",-1)),t("ul",St,[t("li",null,[t("a",{class:"dropdown-item",target:"_blank",href:`/admin/question-titles/${n.questionTitle.id}/export-excel`},"Export Excel",8,Lt)]),t("li",null,[t("a",{class:"dropdown-item",target:"_blank",href:`/admin/question-titles/${n.questionTitle.id}/export-pdf`},"Export PDF",8,Bt)])])],2),n.questionTitle.total_section==1?(i(),l("a",{key:1,target:"_blank",href:`/admin/question-titles/${n.questionTitle.id}/format-import-excel`,class:"btn btn-sm btn-success"},[...e[39]||(e[39]=[t("i",{class:"bx bxs-file"},null,-1),c("Download Template Import Soal ",-1)])],8,Mt)):a("",!0),n.questionTitle.total_section==1?(i(),l("form",{key:2,onSubmit:e[2]||(e[2]=k((...s)=>d.importExcel&&d.importExcel(...s),["prevent"])),class:"d-flex ml-auto"},[t("div",Ht,[t("input",{type:"file",onInput:e[1]||(e[1]=s=>d.form.file=s.target.files[0]),class:"form-control form-control-sm me-2",required:"",id:"fileInput"},null,32)]),e[40]||(e[40]=t("div",{class:"btn-group"},[t("button",{type:"submit",class:"btn btn-danger btn-sm"},[t("i",{class:"bx bxs-file"}),c(" Import Soal ")])],-1))],32)):a("",!0)])])]),t("div",Ct,[t("div",Pt,[t("div",Dt,[t("form",{onSubmit:e[4]||(e[4]=k((...s)=>d.handleSearch&&d.handleSearch(...s),["prevent"]))},[t("div",At,[N(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=s=>d.search=s),class:"form-control ps-5 radius-20",placeholder:"Cari Berdasarkan Soal....",size:"40",maxlength:"100"},null,512),[[F,d.search]]),e[41]||(e[41]=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1))])],32),t("div",It,[t("a",{href:"#",onClick:e[5]||(e[5]=k(s=>d.destroyAllQuestion(n.questionTitle.id),["prevent"])),class:"btn btn-danger btn-sm"},[...e[42]||(e[42]=[t("i",{class:"bx bx-trash"},null,-1),c(" Hapus Semua Soal",-1)])]),h(f,{href:`/admin/question-titles/${n.questionTitle.id}/questions/create`,class:"btn btn-sm btn-primary m-2"},{default:_(()=>[...e[43]||(e[43]=[t("i",{class:"bx bxs-plus-square"},null,-1),c(" Tambah Soal",-1)])]),_:1},8,["href"])])]),t("table",jt,[e[48]||(e[48]=t("thead",{class:"table-light"},[t("tr",null,[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0",style:{width:"85%"}},"Soal"),t("th",{class:"border-0 rounded-end",style:{width:"10%"}},"Aksi")])],-1)),t("tbody",null,[(i(!0),l(T,null,v(n.questions.data,(s,p)=>(i(),l("tr",{key:p},[t("td",null,o(++p+(n.questions.current_page-1)*n.questions.per_page),1),t("td",null,[s.audio_input==1&&s.audio?(i(),l("div",Et,[t("audio",Jt,[t("source",{src:"/storage/upload_files/questions/audio/"+s.audio,type:"audio/ogg"},null,8,Nt),t("source",{src:"/storage/upload_files/questions/audio/"+s.audio,type:"audio/mpeg"},null,8,Ft),e[44]||(e[44]=c(" Your browser does not support the audio element. ",-1))])])):a("",!0),t("div",{innerHTML:s.question,class:"clearfix ck-content"},null,8,Kt),e[45]||(e[45]=t("br",null,null,-1)),n.questionTitle.assessment_type==4?(i(),l("ol",Qt,[1<=n.questionTitle.total_choices?(i(),l("li",{key:0,innerHTML:"<span class='badge bg-danger'>point "+s["point_"+1]+"</span> <br>"+s["option_"+1]},null,8,Ot)):a("",!0),2<=n.questionTitle.total_choices?(i(),l("li",{key:1,innerHTML:"<span class='badge bg-danger'>point "+s["point_"+2]+"</span> <br>"+s["option_"+2]},null,8,Vt)):a("",!0),3<=n.questionTitle.total_choices?(i(),l("li",{key:2,innerHTML:"<span class='badge bg-danger'>point "+s["point_"+3]+"</span> <br>"+s["option_"+3]},null,8,Gt)):a("",!0),4<=n.questionTitle.total_choices?(i(),l("li",{key:3,innerHTML:"<span class='badge bg-danger'>point "+s["point_"+4]+"</span> <br>"+s["option_"+4]},null,8,Rt)):a("",!0),5<=n.questionTitle.total_choices?(i(),l("li",{key:4,innerHTML:"<span class='badge bg-danger'>point "+s["point_"+5]+"</span> <br>"+s["option_"+5]},null,8,Ut)):a("",!0)])):(i(),l("ol",zt,[1<=n.questionTitle.total_choices?(i(),l("li",{key:0,class:g(["ck-content",{"text-success fw-bold":s.answer.includes(1)}]),innerHTML:s.option_1},null,10,Yt)):a("",!0),2<=n.questionTitle.total_choices?(i(),l("li",{key:1,class:g(["ck-content",{"text-success fw-bold":s.answer.includes(2)}]),innerHTML:s.option_2},null,10,Xt)):a("",!0),3<=n.questionTitle.total_choices?(i(),l("li",{key:2,class:g(["ck-content",{"text-success fw-bold":s.answer.includes(3)}]),innerHTML:s.option_3},null,10,Wt)):a("",!0),4<=n.questionTitle.total_choices?(i(),l("li",{key:3,class:g(["ck-content",{"text-success fw-bold":s.answer.includes(4)}]),innerHTML:s.option_4},null,10,Zt)):a("",!0),5<=n.questionTitle.total_choices?(i(),l("li",{key:4,class:g(["ck-content",{"text-success fw-bold":s.answer.includes(5)}]),innerHTML:s.option_5},null,10,$t)):a("",!0)])),s.value_category?(i(),l("div",te,o(s.value_category.name),1)):a("",!0)]),t("td",null,[t("div",ee,[h(f,{href:`/admin/question-titles/${n.questionTitle.id}/questions/${s.id}/edit`,class:"ms-1"},{default:_(()=>[...e[46]||(e[46]=[t("i",{class:"bx bxs-edit"},null,-1)])]),_:1},8,["href"]),t("a",{href:"#",onClick:k(le=>d.destroy(s.id),["prevent"]),class:"ms-1"},[...e[47]||(e[47]=[t("i",{class:"bx bxs-trash"},null,-1)])],8,ne)])])]))),128)),t("tr",null,[n.questions.data.length?a("",!0):(i(),l("td",se,"Data Tidak Tersedia"))])])]),h(S,{links:n.questions.links,align:"end"},null,8,["links"])])])])])],64)}const ce=K(Q,[["render",ie]]);export{ce as default};
