import{L as H}from"./Layout.dad8fa9c.js";import{L as j,H as A,r as K,c as s,a as g,w as k,b as t,t as n,F as p,g as v,f as l,d as f,e as N,v as U,h as x,i as Y,j as S,o as i,n as q,k as b}from"./app.ce8f6c38.js";import{P as I}from"./Pagination.55aa9d34.js";import{S as _}from"./sweetalert2.all.59f1eca5.js";import{_ as R}from"./_plugin-vue_export-helper.cdc0426e.js";const W={layout:H,components:{Link:j,Head:A,Pagination:I},props:{exam:Object,rankingExams:Object},setup(o){const r=K(new URL(document.location).searchParams.get("search"));return{search:r,handleSearch:()=>{x.Inertia.get(`/admin/exams/${o.exam.id}`,{search:r.value})},destroy:c=>{_.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(h=>{h.isConfirmed&&(x.Inertia.delete(`/admin/exams/grades/${c}/destroy`),_.fire({title:"Deleted!",text:"Nilai Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},regenerateCode:()=>{_.fire({title:"Generarate Kode Baru !",text:"Apakah Anda Yakin Akan Generate Kode Baru ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Generate Kode"}).then(c=>{c.isConfirmed&&(x.Inertia.get(`/admin/exams/${o.exam.id}/regenerate-block-tokens`),_.fire({title:"Success!",text:"Kode Berhasil Diperbarui.",icon:"success",timer:1e3,showConfirmButton:!1}))})},destroyExamResult:c=>{_.fire({title:"Apakah Anda yakin?",text:"Jika latihan soal dihapus, maka anda tidak akan dapat mengembalikannya!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(h=>{h.isConfirmed&&(x.Inertia.delete(`/admin/exams/${c}/delete-exam-result`),_.fire({title:"Deleted!",text:"Nilai Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},regenerateTryoutScore:c=>{_.fire({title:"Konfirmasi Hitung Ulang Nilai",text:"Hitung ulang nilai akan berpengaruh pada nilai yang sudah ada.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hitung Ulang"}).then(h=>{h.isConfirmed&&(x.Inertia.get(`/admin/exams/grades/${c}/regenerate-scores`),_.fire({title:"Success!",text:"Hitung Ulang Berhasil.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}},methods:{formatPrice(o){return"Rp."+(o/1).toFixed(2).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},J={class:"page-wrapper"},V={class:"page-content"},F=Y('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Latihan Soal</li></ol></nav></div></div>',1),G={class:"card border-top border-0 border-3 border-primary"},O={class:"card-body"},z={class:"d-lg-flex align-items-center"},Q={class:"ms-auto"},X=b("Edit Latihan Soal"),Z=b("Kembali"),E={class:"table mb-0"},$=t("th",{width:"350px"},"Kategori",-1),tt=t("td",{width:"10px"},":",-1),et=t("th",null,"Sub Peminatan",-1),at=t("td",null,":",-1),nt={key:0},st={class:"badge bg-danger ms-1"},it={key:1},ot=t("th",null,"Kategori Member",-1),lt=t("td",null,":",-1),dt={key:0},rt={class:"badge bg-success ms-1"},ct={key:1},ut=t("span",{class:"badge bg-success ms-1"},"Seluruh kategori member",-1),_t=[ut],ht=t("th",null,"Kategori Mata Pelajaran",-1),mt=t("td",null,":",-1),gt=t("th",null,"Mata Pelajaran",-1),bt=t("td",null,":",-1),kt=t("th",null,"Paket Soal",-1),ft=t("td",null,":",-1),xt=t("th",null,"Mode Pengambilan Soal",-1),pt=t("td",null,":",-1),yt={key:0},vt=t("th",null,"Total Soal Yang Diambil",-1),St=t("td",null,":",-1),wt=t("th",null,"Judul Latihan Soal",-1),Bt=t("td",null,":",-1),Tt=t("th",null,"Durasi",-1),Ct=t("td",null,":",-1),Dt=t("th",null,"Deskripsi",-1),Pt=t("td",null,":",-1),Lt=["innerHTML"],Mt=t("th",null,"Soal Acak",-1),Ht=t("td",null,":",-1),jt=t("th",null,"Jawaban Acak",-1),At=t("td",null,":",-1),Kt=t("th",null,"Tampilkan Jawaban",-1),Nt=t("td",null,":",-1),Ut=t("th",null,"Tampilkan Navigasi Nomor Soal",-1),Yt=t("td",null,":",-1),qt=t("th",null,"Tampilkan Nomor Soal",-1),It=t("td",null,":",-1),Rt=t("th",null,"Pertanyaan Berikutnya Secara Otomatis",-1),Wt=t("td",null,":",-1),Jt=t("th",null,"Tampilkan Button Sebelum & Selanjutnya",-1),Vt=t("td",null,":",-1),Ft=t("th",null,"Tipe Pilihan Ganda",-1),Gt=t("td",null,":",-1),Ot=t("th",null,"Peserta Dapat Mengulangi Latihan Soal",-1),zt=t("td",null,":",-1),Qt=t("th",null,"Peserta Dapat Melihat Ranking Ujian",-1),Xt=t("td",null,":",-1),Zt={key:1},Et=t("th",null,"Maksimal Toleransi Keluar Tes",-1),$t=t("td",null,":",-1),te={key:2},ee=t("th",null,"Kode Membuka Blokir",-1),ae=t("td",null,":",-1),ne={class:"input-group"},se=["value"],ie=t("i",{class:"bx bx-refresh"},null,-1),oe=b("Regenerate Kode"),le=[ie,oe],de=t("th",null,"Tampilkan Koreksi Jawaban & Pembahasan",-1),re=t("td",null,":",-1),ce=t("th",null,"Tipe Harga Tryout",-1),ue=t("td",null,":",-1),_e={key:0,class:"badge bg-primary"},he={key:1,class:"badge bg-danger"},me={key:3},ge=t("th",null,"Harga Latihan Soal Sebelum Diskon",-1),be=t("td",null,":",-1),ke={key:4},fe=t("th",null,"Harga Latihan Soal Sesudah Diskon",-1),xe=t("td",null,":",-1),pe=t("th",null,"Waktu Akses Mulai Ujian",-1),ye=t("td",null,":",-1),ve=t("th",null,"Waktu Berakhir Akses Ujian",-1),Se=t("td",null,":",-1),we=t("th",null,"Status Latihan Soal",-1),Be=t("td",null,":",-1),Te={key:0,class:"badge bg-primary"},Ce={key:1,class:"badge bg-success"},De={key:2,class:"badge bg-danger"},Pe=t("th",null,"Dibuat Oleh",-1),Le=t("td",null,":",-1),Me={class:"card border-top border-0 border-3 border-primary"},He={class:"card-header"},je={class:"d-flex justify-content-between"},Ae={class:"text-start"},Ke={class:"position-relative"},Ne=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1),Ue={class:"ms-auto"},Ye=t("i",{class:"bx bxs-trash"},null,-1),qe=b(" Hapus Semua Hasil Latihan Soal"),Ie=[Ye,qe],Re={class:"dropdown"},We=t("button",{class:"btn btn-success dropdown-toggle btn-sm m-1",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Export Hasil Latihan Soal",-1),Je={class:"dropdown-menu"},Ve=["href"],Fe=["href"],Ge={class:"card-body"},Oe={class:"table mb-0"},ze=t("th",null,"Peringkat",-1),Qe={key:0},Xe={key:1},Ze={key:2},Ee={key:3},$e=t("th",null,"Status",-1),ta=t("th",null,"Nilai",-1),ea=t("th",null,"Action",-1),aa={key:0,align:"center",colspan:"7"},na={class:"badge bg-danger"},sa={key:0},ia={key:1},oa={key:2},la={key:3},da={class:"dropdown"},ra=t("button",{class:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true"},"Action",-1),ca={class:"dropdown-menu","data-popper-placement":"top-start","data-popper-reference-hidden":"","data-popper-escaped":""},ua={key:0},_a=b("Lihat Detail Nilai"),ha={key:1},ma=b("Lihat Koreksi Jawaban"),ga={key:2},ba=["onClick"],ka=["onClick"];function fa(o,r,e,u,M,y){var B,T,C,D;const w=S("Head"),c=S("Link"),h=S("Pagination");return i(),s(p,null,[g(w,null,{default:k(()=>{var a;return[t("title",null,n((a=o.$page.props.setting.app_name)!=null?a:"Atur Setting Terlebih Dahulu")+" - Latihan Soal",1)]}),_:1}),t("div",J,[t("div",V,[F,t("div",G,[t("div",O,[t("div",z,[t("div",Q,[g(c,{href:`/admin/exams/${e.exam.id}/edit`,class:"btn btn-danger btn-sm mt-2 mx-2 mt-lg-0"},{default:k(()=>[X]),_:1},8,["href"]),g(c,{href:"/admin/exams",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:k(()=>[Z]),_:1})])]),t("table",E,[t("tbody",null,[t("tr",null,[$,tt,t("td",null,n(e.exam.category.name),1)]),t("tr",null,[et,at,t("td",null,[e.exam.sub_categories.length?(i(),s("div",nt,[(i(!0),s(p,null,v(e.exam.sub_categories,(a,m)=>(i(),s("div",{key:m,style:{display:"inline"}},[t("span",st,n(a.name),1)]))),128))])):(i(),s("div",it,[t("span",null,"Seluruh Peminatan "+n(e.exam.category.name),1)]))])]),t("tr",null,[ot,lt,t("td",null,[e.exam.member_categories.length?(i(),s("div",dt,[(i(!0),s(p,null,v(e.exam.member_categories,(a,m)=>(i(),s("div",{key:m,style:{display:"inline"}},[t("span",rt,n(a.name),1)]))),128))])):(i(),s("div",ct,_t))])]),t("tr",null,[ht,mt,t("td",null,n(e.exam.lesson_category.name),1)]),t("tr",null,[gt,bt,t("td",null,n(e.exam.lesson.name),1)]),t("tr",null,[kt,ft,t("td",null,n(e.exam.question_title.name),1)]),t("tr",null,[xt,pt,t("td",null,n(e.exam.question_selection_mode==1?"Semua Soal":"Sebagian Soal"),1)]),e.exam.question_selection_mode==2?(i(),s("tr",yt,[vt,St,t("td",null,n(e.exam.number_of_questions)+" Soal",1)])):l("",!0),t("tr",null,[wt,Bt,t("td",null,n(e.exam.title),1)]),t("tr",null,[Tt,Ct,t("td",null,n(e.exam.duration)+" Menit",1)]),t("tr",null,[Dt,Pt,t("td",null,[t("div",{class:"ck-content",innerHTML:e.exam.description},null,8,Lt)])]),t("tr",null,[Mt,Ht,t("td",null,n(e.exam.random_question==1?"Ya":"Tidak"),1)]),t("tr",null,[jt,At,t("td",null,n(e.exam.random_answer==1?"Ya":"Tidak"),1)]),t("tr",null,[Kt,Nt,t("td",null,n(e.exam.show_answer==1?"Ya":"Tidak"),1)]),t("tr",null,[Ut,Yt,t("td",null,n(e.exam.show_question_number_navigation==1?"Ya":"Tidak"),1)]),t("tr",null,[qt,It,t("td",null,n(e.exam.show_question_number==1?"Ya":"Tidak"),1)]),t("tr",null,[Rt,Wt,t("td",null,n(e.exam.next_question_automatically==1?"Ya":"Tidak"),1)]),t("tr",null,[Jt,Vt,t("td",null,n(e.exam.show_prev_next_button==1?"Ya":"Tidak"),1)]),t("tr",null,[Ft,Gt,t("td",null,n(e.exam.type_option==1?"Button option dan soal menyatu (Normal)":"Button option ke samping & jawaban menyatu dengan soal"),1)]),t("tr",null,[Ot,zt,t("td",null,n(e.exam.repeat_the_exam==0?"Peserta Tidak Dapat Mengulangi Ujian":"")+" "+n(e.exam.repeat_the_exam==1?"Peserta Dapat Mengulangi Ujian Ketika Sudah Selesai Mengerjakan":"")+" "+n(e.exam.repeat_the_exam==2?"Peserta Dapat Mengulangi Ujian Walau Belum Menyelesaikan Ujian":""),1)]),t("tr",null,[Qt,Xt,t("td",null,n(e.exam.repeat_the_exam==1?"Ya":"Tidak"),1)]),o.$page.props.setting.block_system_type==1?(i(),s("tr",Zt,[Et,$t,t("td",null,n(e.exam.total_tolerance==null?"Tidak ada":e.exam.total_tolerance+" Kali"),1)])):l("",!0),e.exam.total_tolerance!=null?(i(),s("tr",te,[ee,ae,t("td",null,[t("div",ne,[t("input",{type:"text",class:"form form-control form-control-sm",value:e.exam.unblock_token,disabled:""},null,8,se),t("a",{href:"#",onClick:r[0]||(r[0]=f(a=>u.regenerateCode(),["prevent"])),class:"btn btn-primary btn-sm"},le)])])])):l("",!0),t("tr",null,[de,re,t("td",null,n(e.exam.show_answer_discussion==1?"Ya":"Tidak"),1)]),t("tr",null,[ce,ue,t("td",null,[e.exam.price_type==1?(i(),s("span",_e,"Gratis")):(i(),s("span",he,"Berbayar"))])]),e.exam.price_type==2?(i(),s("tr",me,[ge,be,t("td",null,n(y.formatPrice(e.exam.price_before_discount)),1)])):l("",!0),e.exam.price_type==2?(i(),s("tr",ke,[fe,xe,t("td",null,n(y.formatPrice(e.exam.price_after_discount)),1)])):l("",!0),t("tr",null,[pe,ye,t("td",null,n(e.exam.exam_start_time?o.formatDateWithTimeHourMinute(e.exam.exam_start_time):"Tidak Ada Batas Waktu"),1)]),t("tr",null,[ve,Se,t("td",null,n(e.exam.exam_end_time?o.formatDateWithTimeHourMinute(e.exam.exam_end_time):"Tidak Ada Batas Waktu"),1)]),t("tr",null,[we,Be,t("td",null,[e.exam.exam_status=="active"?(i(),s("span",Te,"Active")):l("",!0),e.exam.exam_status=="inactive"?(i(),s("span",Ce,"Inactive")):l("",!0),e.exam.exam_status=="inprogress"?(i(),s("span",De,"Inprogress")):l("",!0)])]),t("tr",null,[Pe,Le,t("td",null,n(e.exam.user?e.exam.user.name:"-"),1)])])])])]),t("div",Me,[t("div",He,[t("div",je,[t("div",Ae,[t("form",{onSubmit:r[2]||(r[2]=f((...a)=>u.handleSearch&&u.handleSearch(...a),["prevent"]))},[t("div",Ke,[N(t("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=a=>u.search=a),class:"form-control ps-5 radius-20",placeholder:"Cari Peserta....",size:"40",maxlength:"100"},null,512),[[U,u.search]]),Ne])],32)]),t("div",Ue,[t("a",{onClick:r[3]||(r[3]=f(a=>u.destroyExamResult(e.exam.id),["prevent"])),class:"btn btn-danger btn-sm m-1"},Ie)]),t("div",Re,[We,t("ul",Je,[t("li",null,[t("a",{class:"dropdown-item",target:"_blank",href:`/admin/exams/${e.exam.id}/export-excel`},"Export Excel",8,Ve)]),t("li",null,[t("a",{class:"dropdown-item",target:"_blank",href:`/admin/exams/${e.exam.id}/export-pdf`},"Export PDF",8,Fe)])])])])]),t("div",Ge,[t("table",Oe,[t("thead",null,[t("tr",null,[ze,o.$page.props.setting.authentication_field.some(a=>a.name=="code"&&a.is_active=="1")?(i(),s("th",Qe,n((B=o.$page.props.setting.authentication_field.find(a=>a.name=="code"))==null?void 0:B.translate),1)):l("",!0),o.$page.props.setting.authentication_field.some(a=>a.name=="name"&&a.is_active=="1")?(i(),s("th",Xe,n((T=o.$page.props.setting.authentication_field.find(a=>a.name=="name"))==null?void 0:T.translate),1)):l("",!0),o.$page.props.setting.authentication_field.some(a=>a.name=="province_id"&&a.is_active=="1")?(i(),s("th",Ze,n((C=o.$page.props.setting.authentication_field.find(a=>a.name=="province_id"))==null?void 0:C.translate),1)):l("",!0),o.$page.props.setting.authentication_field.some(a=>a.name=="city_id"&&a.is_active=="1")?(i(),s("th",Ee,n((D=o.$page.props.setting.authentication_field.find(a=>a.name=="city_id"))==null?void 0:D.translate),1)):l("",!0),$e,ta,ea])]),t("tbody",null,[t("tr",null,[e.rankingExams.data.length?l("",!0):(i(),s("td",aa,"Data Tidak Tersedia"))]),(i(!0),s(p,null,v(e.rankingExams.data,(a,m)=>{var P,L;return i(),s("tr",{key:m},[t("td",null,[t("span",na,n(++m+(e.rankingExams.current_page-1)*e.rankingExams.per_page),1)]),o.$page.props.setting.authentication_field.some(d=>d.name=="code"&&d.is_active=="1")?(i(),s("td",sa,n((P=a.user.code)!=null?P:"-"),1)):l("",!0),o.$page.props.setting.authentication_field.some(d=>d.name=="name"&&d.is_active=="1")?(i(),s("td",ia,n((L=a.user.name)!=null?L:"-"),1)):l("",!0),o.$page.props.setting.authentication_field.some(d=>d.name=="province_id"&&d.is_active=="1")?(i(),s("td",oa,n(a.user.student&&a.user.student.province?a.user.student.province.name:"-"),1)):l("",!0),o.$page.props.setting.authentication_field.some(d=>d.name=="city_id"&&d.is_active=="1")?(i(),s("td",la,n(a.user.student&&a.user.student.city?a.user.student.city.name:"-"),1)):l("",!0),t("th",null,[t("span",{class:q(["badge",{"bg-primary":a.is_finished==1,"bg-danger":a.is_finished==0}])},n(a.is_finished==1?"Selesai Mengerjakan":"Belum Selesai Mengerjakan"),3)]),t("th",null,n(o.gradeFormat(a.grade)),1),t("td",null,[t("div",da,[ra,t("ul",ca,[a.is_finished==1?(i(),s("li",ua,[g(c,{class:"dropdown-item",href:`/admin/exams/${e.exam.id}/grades/${a.id}`},{default:k(()=>[_a]),_:2},1032,["href"])])):l("",!0),a.is_finished==1?(i(),s("li",ha,[g(c,{class:"dropdown-item",href:`/admin/exams/${e.exam.id}/grades/${a.id}/answer-corrections`},{default:k(()=>[ma]),_:2},1032,["href"])])):l("",!0),a.is_finished==1?(i(),s("li",ga,[t("a",{class:"dropdown-item",href:"#",onClick:f(d=>u.regenerateTryoutScore(a.id),["prevent"])},"Hitung Ulang Nilai",8,ba)])):l("",!0),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:f(d=>u.destroy(a.id),["prevent"])},"Hapus Nilai",8,ka)])])])])])}),128))])]),g(h,{links:e.rankingExams.links,align:"end"},null,8,["links"])])])])])],64)}const wa=R(W,[["render",fa]]);export{wa as default};
