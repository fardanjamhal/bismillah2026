import{L as B}from"./Layout.f219793d.js";import{P as C}from"./Pagination.07405a25.js";import{L as S,H as T,r as L,c as s,a,w as l,b as e,d as g,e as A,v as P,F as f,g as H,f as p,h as v,i as N,j as _,o as n,t as d,n as y,k as h}from"./app.db5b7af9.js";import{S as k}from"./sweetalert2.all.b0408aeb.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const U={layout:B,components:{Link:S,Head:T,Pagination:C},props:{news:Object},setup(){const r=L(new URL(document.location).searchParams.get("search"));return{search:r,handleSearch:()=>{v.Inertia.get("/admin/news",{search:r.value})},destroy:i=>{k.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(m=>{m.isConfirmed&&(v.Inertia.delete(`/admin/news/${i}`),k.fire({title:"Deleted!",text:"Berita Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}}},j={class:"page-wrapper"},z={class:"page-content"},I=N('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Berita</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Berita</li></ol></nav></div></div>',1),E={class:"card border-top border-0 border-3 border-primary"},F={class:"card-body"},J={class:"d-lg-flex align-items-center mb-4 gap-3"},M={class:"position-relative"},q=e("span",{class:"position-absolute top-50 product-show translate-middle-y"},[e("i",{class:"bx bx-search"})],-1),O={class:"ms-auto"},R=e("i",{class:"bx bxs-plus-square"},null,-1),W=h(" Tambah Berita"),$={class:"table mb-0",style:{"font-size":"10pt"}},G=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"No"),e("th",null,"Thumbnail"),e("th",null,"Judul"),e("th",{width:"200px"},"Dibuat"),e("th",null,"Created at"),e("th",null,"Status"),e("th",null,"Actions")])],-1),K={key:0},Q=["src"],X={key:1},Y={class:"btn-group"},Z=e("span",{class:"visually-hidden"},"Toggle Dropdown",-1),D=[Z],ee={class:"dropdown-menu"},te={key:0},se=h("Published"),ne={key:1},ie=h("Unpublished"),ae={class:"dropdown"},oe=e("button",{class:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true"},"Action",-1),le={class:"dropdown-menu","data-popper-placement":"top-start","data-popper-reference-hidden":"","data-popper-escaped":""},de=h("Detail"),re=h("Edit"),ce=["onClick"],ue={key:0,align:"center",colspan:"7"};function he(r,c,o,i,m,pe){const w=_("Head"),u=_("Link"),x=_("Pagination");return n(),s(f,null,[a(w,null,{default:l(()=>{var t;return[e("title",null,d((t=r.$page.props.setting.app_name)!=null?t:"Atur Setting Terlebih Dahulu")+" - Data Berita",1)]}),_:1}),e("div",j,[e("div",z,[I,e("div",E,[e("div",F,[e("div",J,[e("form",{onSubmit:c[1]||(c[1]=g((...t)=>i.handleSearch&&i.handleSearch(...t),["prevent"]))},[e("div",M,[A(e("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=t=>i.search=t),class:"form-control ps-5 radius-20",placeholder:"Cari Berdasarkan Judul....",size:"40",maxlength:"100"},null,512),[[P,i.search]]),q])],32),e("div",O,[a(u,{href:"/admin/news/create",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:l(()=>[R,W]),_:1})])]),e("table",$,[G,e("tbody",null,[(n(!0),s(f,null,H(o.news.data,(t,b)=>(n(),s("tr",{key:b},[e("td",null,d(++b+(o.news.current_page-1)*o.news.per_page),1),e("td",null,[t.thumbnail?(n(),s("div",K,[e("img",{src:"/storage/upload_files/news/"+t.thumbnail,style:{width:"90px"}},null,8,Q)])):(n(),s("div",X," - "))]),e("td",null,d(t.title),1),e("td",null,d(t.user?t.user.name:"-"),1),e("td",null,d(r.formatDateWithTime(t.created_at)),1),e("td",null,[e("div",Y,[e("button",{type:"button",class:y({btn:!0,"btn-sm":!0,"btn-danger":t.is_published==0,"btn-primary":t.is_published==1})},d(t.is_published==1?"Published":"Unpublished"),3),e("button",{type:"button",class:y([{btn:!0,"btn-sm":!0,"btn-danger":t.is_published==0,"btn-primary":t.is_published==1,"split-bg-danger":t.is_published==0,"split-bg-primary":t.is_published==1},"dropdown-toggle dropdown-toggle-split"]),"data-bs-toggle":"dropdown","aria-expanded":"false"},D,2),e("ul",ee,[t.is_published!=1?(n(),s("li",te,[a(u,{class:"dropdown-item",href:`/admin/news/${t.id}/change-status?is_published=1`},{default:l(()=>[se]),_:2},1032,["href"])])):p("",!0),t.is_published!=0?(n(),s("li",ne,[a(u,{class:"dropdown-item",href:`/admin/news/${t.id}/change-status?is_published=0`},{default:l(()=>[ie]),_:2},1032,["href"])])):p("",!0)])])]),e("td",null,[e("div",ae,[oe,e("ul",le,[e("li",null,[a(u,{class:"dropdown-item",href:`/admin/news/${t.id}`},{default:l(()=>[de]),_:2},1032,["href"])]),e("li",null,[a(u,{class:"dropdown-item",href:`/admin/news/${t.id}/edit`},{default:l(()=>[re]),_:2},1032,["href"])]),e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:g(_e=>i.destroy(t.id),["prevent"])},"Hapus",8,ce)])])])])]))),128)),e("tr",null,[o.news.data.length?p("",!0):(n(),s("td",ue,"Data Tidak Tersedia"))])])]),a(x,{links:o.news.links,align:"end"},null,8,["links"])])])])])],64)}const ye=V(U,[["render",he]]);export{ye as default};
