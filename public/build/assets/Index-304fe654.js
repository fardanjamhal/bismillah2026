import{L}from"./Layout-80160f1d.js";import{P as U}from"./Pagination-eba5b0b6.js";import{L as V,H as j,l as A,r as g,a as k,o as l,c as n,b as u,w as b,d as e,e as M,g as _,v as N,m as v,F as f,i as h,f as S,k as P,h as y,j as C,t as d}from"./app-50a2f634.js";import{S as w}from"./sweetalert2.esm.all-61741a63.js";import{a as D}from"./index-c612f2c9.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import"./axios-2725ad78.js";const R={layout:L,components:{Link:V,Head:j,Pagination:U},props:{questionTitles:Object,categories:Object},setup(){const t=A({search:g(new URL(document.location).searchParams.get("search")),category_id:g(new URL(document.location).searchParams.get("category_id")||""),lesson_category_id:g(new URL(document.location).searchParams.get("lesson_category_id")||""),lesson_id:g(new URL(document.location).searchParams.get("lesson_id")||""),order:g(new URL(document.location).searchParams.get("order")||""),lessonCategories:[],lessons:[]}),s=()=>{C.Inertia.get("/admin/question-titles",{search:t.search,category_id:t.category_id,lesson_category_id:t.lesson_category_id,lesson_id:t.lesson_id,order:t.order})},r=(c="",i)=>{t.lesson_category_id=c!=t.category_id?"":t.lesson_category_id,t.lesson_id=i!=t.lesson_category_id?"":t.lesson_id,D.get(`/admin/categories/${t.category_id}/lesson-categories`).then(m=>{t.lessonCategories=m.data}).catch(m=>console.error(m))},o=(c="")=>{t.lesson_id=c!=t.lesson_category_id?"":t.lesson_id,D.get(`/admin/lesson-categories/${t.lesson_category_id}/lessons`).then(i=>{t.lessons=i.data}).catch(i=>console.error(i))},x=c=>{w.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(i=>{i.isConfirmed&&(C.Inertia.delete(`/admin/question-titles/${c}`),w.fire({title:"Deleted!",text:"Paket Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})};return t.category_id&&r(t.category_id,t.lesson_category_id),t.lesson_category_id&&o(t.lesson_category_id),{form:t,handleSearch:s,destroy:x,lessonCategoryData:r,lessonData:o}}},H={class:"page-wrapper"},F={class:"page-content"},J={class:"card border-top border-0 border-3 border-primary"},T={class:"card-body"},I={class:"row"},q={class:"col-lg-2 col-md-6 mb-1"},E={class:"col-lg-2 col-md-6 mb-1"},O=["value"],z={class:"col-lg-2 col-md-6 mb-1"},W=["value"],G={class:"col-lg-2 col-md-6 mb-1"},Q=["value"],X={class:"col-lg-2 col-md-6 mb-1"},Y={class:"col-lg-2 col-md-6 mb-1"},Z={class:"input-group"},$={class:"card border-top border-0 border-3 border-primary"},ee={class:"card-header"},se={class:"d-flex align-items-center"},ae={class:"ms-auto"},te={class:"card-body"},oe={class:"table-responsive"},le={class:"table mb-0",style:{"font-size":"10pt"}},ne={class:"badge bg-primary"},re={key:0},ie={key:0,class:"badge bg-primary"},de={key:1,class:"badge bg-primary"},me={key:2,class:"badge bg-primary"},ce={key:3,class:"badge bg-primary"},ue={key:1,class:"badge bg-danger"},ge={class:"d-flex order-actions"},be=["onClick"],_e={key:0,align:"center",colspan:"8"},fe={class:"d-flex justify-content-center align-items-center",style:{height:"100px"}};function ye(t,s,r,o,x,c){const i=k("Head"),m=k("Link"),B=k("Pagination");return l(),n(f,null,[u(i,null,{default:b(()=>[e("title",null,d(t.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Data Paket Soal",1)]),_:1}),e("div",H,[e("div",F,[s[28]||(s[28]=M('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Paket Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Paket Soal</li></ol></nav></div></div>',1)),e("div",J,[s[21]||(s[21]=e("div",{class:"card-header"},[e("div",{class:"d-flex align-items-center"},[e("div",null,[e("h6",{class:"mb-0"},"Filter Data")])])],-1)),e("div",T,[e("form",null,[e("div",I,[e("div",q,[s[8]||(s[8]=e("label",{for:"search"},"Judul Paket Soal",-1)),_(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>o.form.search=a),class:"form-control form-control-sm",id:"search",placeholder:"Nama Paket Soal...."},null,512),[[N,o.form.search]])]),e("div",E,[s[10]||(s[10]=e("label",{for:"category"},"Kategori Peminatan",-1)),_(e("select",{onChange:s[1]||(s[1]=(...a)=>o.lessonCategoryData&&o.lessonCategoryData(...a)),"onUpdate:modelValue":s[2]||(s[2]=a=>o.form.category_id=a),class:"form-select form-select-sm"},[s[9]||(s[9]=e("option",{value:""},"[ Pilih]",-1)),(l(!0),n(f,null,h(r.categories,(a,p)=>(l(),n("option",{key:p,value:a.id},d(a.name),9,O))),128))],544),[[v,o.form.category_id]])]),e("div",z,[s[12]||(s[12]=e("label",{for:"lesson_category_id"},"Kategori Mata Pelajaran",-1)),_(e("select",{onChange:s[3]||(s[3]=(...a)=>o.lessonData&&o.lessonData(...a)),"onUpdate:modelValue":s[4]||(s[4]=a=>o.form.lesson_category_id=a),class:"form-select form-select-sm"},[s[11]||(s[11]=e("option",{value:""},"[ Pilih ]",-1)),(l(!0),n(f,null,h(o.form.lessonCategories,a=>(l(),n("option",{value:a.id},d(a.name),9,W))),256))],544),[[v,o.form.lesson_category_id]])]),e("div",G,[s[14]||(s[14]=e("label",{for:"lesson_id"},"Mata Pelajaran",-1)),_(e("select",{"onUpdate:modelValue":s[5]||(s[5]=a=>o.form.lesson_id=a),class:"form-select form-select-sm"},[s[13]||(s[13]=e("option",{value:""},"[ Pilih ]",-1)),(l(!0),n(f,null,h(o.form.lessons,a=>(l(),n("option",{value:a.id},d(a.name),9,Q))),256))],512),[[v,o.form.lesson_id]])]),e("div",X,[s[16]||(s[16]=e("label",{for:"category"},"Waktu",-1)),_(e("select",{"onUpdate:modelValue":s[6]||(s[6]=a=>o.form.order=a),class:"form-select form-select-sm"},[...s[15]||(s[15]=[e("option",{value:""},"[ Pilih]",-1),e("option",{value:"DESC"},"Terbaru",-1),e("option",{value:"ASC"},"Terlama",-1)])],512),[[v,o.form.order]])]),e("div",Y,[s[19]||(s[19]=e("label",{for:"end_date"},"Action",-1)),s[20]||(s[20]=e("br",null,null,-1)),e("div",Z,[e("button",{onClick:s[7]||(s[7]=S((...a)=>o.handleSearch&&o.handleSearch(...a),["prevent"])),class:"btn btn-primary btn-sm w-50"},[...s[17]||(s[17]=[e("i",{class:"bx bx-filter"},null,-1),P(" Filter ",-1)])]),u(m,{href:"/admin/question-titles",class:"btn btn-danger btn-sm w-50"},{default:b(()=>[...s[18]||(s[18]=[e("i",{class:"bx bx-refresh"},null,-1),P(" Reset ",-1)])]),_:1})])])])])])]),e("div",$,[e("div",ee,[e("div",se,[s[23]||(s[23]=e("div",null,[e("h6",{class:"mb-0"},"Paket Soal")],-1)),e("div",ae,[u(m,{href:"/admin/question-titles/create",class:"btn btn-primary btn-sm me-2"},{default:b(()=>[...s[22]||(s[22]=[e("i",{class:"bx bxs-plus-square"},null,-1),P("Tambah Paket Soal ",-1)])]),_:1})])])]),e("div",te,[e("div",oe,[e("table",le,[s[27]||(s[27]=e("thead",{class:"table table-striped table-light"},[e("tr",null,[e("th",null,"No"),e("th",null,"Peminatan"),e("th",null,"Judul Paket Soal"),e("th",null,"Kategori Mata Pelajaran"),e("th",null,"Mata Pelajaran"),e("th",null,"Kategori Penilaian"),e("th",null,"Actions")])],-1)),e("tbody",null,[(l(!0),n(f,null,h(r.questionTitles.data,(a,p)=>(l(),n("tr",{key:p},[e("td",null,d(++p+(r.questionTitles.current_page-1)*r.questionTitles.per_page),1),e("td",null,[e("span",ne,d((a.category&&a.category.name)??"-"),1)]),e("td",null,d(a.name),1),e("td",null,d(a.lesson_category.name),1),e("td",null,d(a.lesson.name),1),e("td",null,[a.add_value_category==1?(l(),n("div",re,[a.assessment_type==1?(l(),n("span",ie,"Per Kategori Penilaian")):y("",!0),a.assessment_type==2?(l(),n("span",de,"Untuk Seluruh Soal (Kecermatan)")):y("",!0),a.assessment_type==3?(l(),n("span",me,"Berdasarkan Poin Jawaban Benar")):y("",!0),a.assessment_type==4?(l(),n("span",ce,"Berdasarkan Bobot Jawaban")):y("",!0)])):(l(),n("span",ue,"Tidak ada kategori penilaian"))]),e("td",null,[e("div",ge,[u(m,{href:`/admin/question-titles/${a.id}/questions`,class:"ms-1"},{default:b(()=>[...s[24]||(s[24]=[e("i",{class:"bx bx-grid-alt"},null,-1)])]),_:1},8,["href"]),u(m,{href:`/admin/question-titles/${a.id}/edit`,class:"ms-1"},{default:b(()=>[...s[25]||(s[25]=[e("i",{class:"bx bxs-edit"},null,-1)])]),_:1},8,["href"]),e("a",{href:"#",onClick:S(pe=>o.destroy(a.id),["prevent"]),class:"ms-1"},[...s[26]||(s[26]=[e("i",{class:"bx bxs-trash"},null,-1)])],8,be)])])]))),128)),e("tr",null,[r.questionTitles.data.length?y("",!0):(l(),n("td",_e,"Data Tidak Tersedia"))])])])]),e("div",fe,[u(B,{links:r.questionTitles.links,align:"end"},null,8,["links"])])])])])])],64)}const we=K(R,[["render",ye]]);export{we as default};
