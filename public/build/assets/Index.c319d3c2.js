import{L as N}from"./Layout.832db21f.js";import{P as H}from"./Pagination.a01a77bf.js";import{L as I,H as F,p as G,r as u,c as o,a as c,w as m,b as e,t as n,f as i,e as b,v as M,q as g,d as P,F as S,g as R,h as D,i as j,k as _,j as v,o as a,n as $}from"./app.ec49e899.js";import{S as B}from"./sweetalert2.all.eb0547e6.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";const E={layout:N,components:{Link:I,Head:F,Pagination:H},props:{users:Object},setup(){const s=G({search:u(new URL(document.location).searchParams.get("search")),level:u(new URL(document.location).searchParams.get("level")||""),status_active:u(new URL(document.location).searchParams.get("status_active")||""),member_type:u(new URL(document.location).searchParams.get("member_type")||"")});return{form:s,handleSearch:()=>{D.Inertia.get("/admin/users",{search:s.search,level:s.level,status_active:s.status_active,member_type:s.member_type})},destroy:l=>{B.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(f=>{f.isConfirmed&&(D.Inertia.delete(`/admin/users/${l}`),B.fire({title:"Deleted!",text:"User Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}}},z={class:"page-wrapper"},O={class:"page-content"},J=j('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">User</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data User</li></ol></nav></div></div>',1),K={key:0,class:"alert alert-success border-0 bg-success alert-dismissible fade show py-2"},Q={class:"d-flex align-items-center"},W=e("div",{class:"font-35 text-white"},[e("i",{class:"bx bxs-check-circle"})],-1),X={class:"ms-3"},Y=e("h6",{class:"mb-0 text-white"},"Sukses",-1),Z={class:"text-white"},ee={class:"card border-top border-0 border-3 border-primary"},te=e("div",{class:"card-header"},[e("div",{class:"d-flex align-items-center"},[e("div",null,[e("h6",{class:"mb-0"},"Filter Data")])])],-1),se={class:"card-body"},oe={class:"row"},ae={class:"col-lg-4 col-md-6 mb-1"},ie=e("label",{for:"search"},"Cari Data User",-1),ne={class:"col-lg-2 col-md-6 mb-1"},le=e("label",{for:"lesson_id"},"Status User",-1),de=e("option",{value:""},"[ Pilih ]",-1),re=e("option",{value:"1"},"Aktif",-1),ce=e("option",{value:"0"},"Nonaktif",-1),_e=[de,re,ce],me={class:"col-lg-2 col-md-6 mb-1"},he=e("label",{for:"category"},"Level",-1),pe=e("option",{value:""},"[ Pilih]",-1),ue=e("option",{value:"1"},"Admin",-1),be=e("option",{value:"3"},"Guru",-1),ge=e("option",{value:"2"},"Peserta",-1),ve=[pe,ue,be,ge],fe={class:"col-lg-2 col-md-6 mb-1"},ye=e("label",{for:"lesson_id"},"Tipe Member",-1),ke=e("option",{value:""},"[ Pilih ]",-1),we=e("option",{value:"1"},"Gratis",-1),xe=e("option",{value:"2"},"Berbayar",-1),Ue=[ke,we,xe],Ce={class:"col-lg-2 col-md-6 mb-1"},Le=e("label",{for:"end_date"},"Action",-1),Ae=e("br",null,null,-1),Pe=e("i",{class:"bx bx-filter"},null,-1),Se=_("Filter "),De=[Pe,Se],$e=e("i",{class:"bx bx-refresh"},null,-1),Be=_("reset "),Te={key:1,class:"alert alert-danger border-0 bg-danger alert-dismissible fade show py-2"},Ve={class:"d-flex align-items-center"},Ne=e("div",{class:"font-35 text-white"},[e("i",{class:"bx bxs-message-square-x"})],-1),He={class:"ms-3"},Ie=e("h6",{class:"mb-0 text-white"},"Gagal",-1),Fe={class:"text-white"},Ge={class:"card border-top border-0 border-3 border-primary"},Me={class:"card-header"},Re={class:"d-flex align-items-center"},je=e("div",null,[e("h6",{class:"mb-0"},"User")],-1),qe={class:"ms-auto"},Ee=e("a",{href:"/admin/users/export",class:"btn btn-success btn-sm mt-2 mt-lg-0",target:"_blank"},[e("i",{class:"bx bx-download"}),_(" Export User")],-1),ze=e("i",{class:"bx bx-upload"},null,-1),Oe=_(" Import User"),Je=e("i",{class:"bx bxs-plus-square"},null,-1),Ke=_(" Tambah User"),Qe={class:"card-body"},We={class:"table-responsive"},Xe={class:"table mb-0",style:{"font-size":"10pt"}},Ye={class:"table-light"},Ze=e("th",null,"No",-1),et={key:0},tt={key:1},st={key:2},ot={key:3},at=e("th",null,"Level",-1),it=e("th",null,"Login",-1),nt=e("th",null,"Status",-1),lt=e("th",null,"Actions",-1),dt={key:0},rt={class:"d-flex align-items-center"},ct={class:"flex-grow-1 ms-2"},_t={class:"mb-0"},mt={key:1},ht={key:2},pt={key:3},ut={key:0,class:"badge bg-success"},bt={key:1,class:"badge bg-primary"},gt={key:2,class:"badge bg-danger"},vt={class:"badge bg-light text-dark"},ft={class:"btn-group"},yt=e("span",{class:"visually-hidden"},"Toggle Dropdown",-1),kt=[yt],wt={class:"dropdown-menu"},xt={key:0},Ut=_("Active"),Ct={key:1},Lt=_("Inactive"),At={class:"dropdown"},Pt=e("button",{class:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true"},"Action",-1),St={class:"dropdown-menu","data-popper-placement":"top-start","data-popper-reference-hidden":"","data-popper-escaped":""},Dt=_("Detail"),$t=_("Edit"),Bt=["onClick"],Tt={key:0,align:"center",colspan:"8"};function Vt(s,r,p,l,f,Nt){var y,k,w,x;const T=v("Head"),h=v("Link"),V=v("Pagination");return a(),o(S,null,[c(T,null,{default:m(()=>{var t;return[e("title",null,n((t=s.$page.props.setting.app_name)!=null?t:"Atur Setting Terlebih Dahulu")+" - Data User",1)]}),_:1}),e("div",z,[e("div",O,[J,s.$page.props.session.success?(a(),o("div",K,[e("div",Q,[W,e("div",X,[Y,e("div",Z,n(s.$page.props.session.success),1)])])])):i("",!0),e("div",ee,[te,e("div",se,[e("form",null,[e("div",oe,[e("div",ae,[ie,b(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>l.form.search=t),class:"form-control form-control-sm",id:"search",placeholder:"Cari...."},null,512),[[M,l.form.search]])]),e("div",ne,[le,b(e("select",{"onUpdate:modelValue":r[1]||(r[1]=t=>l.form.status_active=t),class:"form-select form-select-sm"},_e,512),[[g,l.form.status_active]])]),e("div",me,[he,b(e("select",{"onUpdate:modelValue":r[2]||(r[2]=t=>l.form.level=t),class:"form-select form-select-sm"},ve,512),[[g,l.form.level]])]),e("div",fe,[ye,b(e("select",{"onUpdate:modelValue":r[3]||(r[3]=t=>l.form.member_type=t),class:"form-select form-select-sm"},Ue,512),[[g,l.form.member_type]])]),e("div",Ce,[Le,Ae,e("button",{onClick:r[4]||(r[4]=P((...t)=>l.handleSearch&&l.handleSearch(...t),["prevent"])),class:"btn btn-primary btn-sm me-2"},De),c(h,{href:"/admin/users",class:"btn btn-danger btn-sm me-2"},{default:m(()=>[$e,Be]),_:1})])])])])]),s.$page.props.session.error?(a(),o("div",Te,[e("div",Ve,[Ne,e("div",He,[Ie,e("div",Fe,n(s.$page.props.session.error),1)])])])):i("",!0),e("div",Ge,[e("div",Me,[e("div",Re,[je,e("div",qe,[Ee,c(h,{href:"/admin/users/import",class:"btn btn-success btn-sm mt-2 mx-2 mt-lg-0"},{default:m(()=>[ze,Oe]),_:1}),c(h,{href:"/admin/users/create",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:m(()=>[Je,Ke]),_:1})])])]),e("div",Qe,[e("div",We,[e("table",Xe,[e("thead",Ye,[e("tr",null,[Ze,s.$page.props.setting.authentication_field.some(t=>t.name=="name"&&t.is_active=="1")?(a(),o("th",et,n((y=s.$page.props.setting.authentication_field.find(t=>t.name=="name"))==null?void 0:y.translate),1)):i("",!0),s.$page.props.setting.authentication_field.some(t=>t.name=="code"&&t.is_active=="1")?(a(),o("th",tt,n((k=s.$page.props.setting.authentication_field.find(t=>t.name=="code"))==null?void 0:k.translate),1)):i("",!0),s.$page.props.setting.authentication_field.some(t=>t.name=="email"&&t.is_active=="1")?(a(),o("th",st,n((w=s.$page.props.setting.authentication_field.find(t=>t.name=="email"))==null?void 0:w.translate),1)):i("",!0),s.$page.props.setting.authentication_field.some(t=>t.name=="username"&&t.is_active=="1")?(a(),o("th",ot,n((x=s.$page.props.setting.authentication_field.find(t=>t.name=="username"))==null?void 0:x.translate),1)):i("",!0),at,it,nt,lt])]),e("tbody",null,[(a(!0),o(S,null,R(p.users.data,(t,U)=>{var C,L,A;return a(),o("tr",{key:U},[e("td",null,n(++U+(p.users.current_page-1)*p.users.per_page),1),s.$page.props.setting.authentication_field.some(d=>d.name=="name"&&d.is_active=="1")?(a(),o("td",dt,[e("div",rt,[e("div",ct,[e("p",_t,n(t.name),1)])])])):i("",!0),s.$page.props.setting.authentication_field.some(d=>d.name=="code"&&d.is_active=="1")?(a(),o("td",mt,n((C=t.code)!=null?C:"-"),1)):i("",!0),s.$page.props.setting.authentication_field.some(d=>d.name=="email"&&d.is_active=="1")?(a(),o("td",ht,n((L=t.email)!=null?L:"-"),1)):i("",!0),s.$page.props.setting.authentication_field.some(d=>d.name=="username"&&d.is_active=="1")?(a(),o("td",pt,n((A=t.username)!=null?A:"-"),1)):i("",!0),e("td",null,[t.level==1?(a(),o("span",ut,"Admin")):i("",!0),t.level==2?(a(),o("span",bt,"Peserta")):i("",!0),t.level==3?(a(),o("span",gt,"Guru")):i("",!0)]),e("td",null,[e("span",vt,n(t.last_login_at),1)]),e("td",null,[e("div",ft,[e("button",{type:"button",class:$({btn:!0,"btn-sm":!0,"btn-danger":t.is_active==0,"btn-primary":t.is_active==1})},n(t.is_active==1?"Active":"Inactive"),3),e("button",{type:"button",class:$([{btn:!0,"btn-sm":!0,"btn-danger":t.is_active==0,"btn-primary":t.is_active==1,"split-bg-danger":t.is_active==0,"split-bg-primary":t.is_active==1},"dropdown-toggle dropdown-toggle-split"]),"data-bs-toggle":"dropdown","aria-expanded":"false"},kt,2),e("ul",wt,[t.is_active!=1?(a(),o("li",xt,[c(h,{class:"dropdown-item",href:`/admin/users/${t.id}/change-user-status?is_active=1`},{default:m(()=>[Ut]),_:2},1032,["href"])])):i("",!0),t.is_active!=0?(a(),o("li",Ct,[c(h,{class:"dropdown-item",href:`/admin/users/${t.id}/change-user-status?is_active=0`},{default:m(()=>[Lt]),_:2},1032,["href"])])):i("",!0)])])]),e("td",null,[e("div",At,[Pt,e("ul",St,[e("li",null,[c(h,{class:"dropdown-item",href:`/admin/users/${t.id}`},{default:m(()=>[Dt]),_:2},1032,["href"])]),e("li",null,[c(h,{class:"dropdown-item",href:`/admin/users/${t.id}/edit`},{default:m(()=>[$t]),_:2},1032,["href"])]),e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:P(d=>l.destroy(t.id),["prevent"])},"Hapus",8,Bt)])])])])])}),128)),e("tr",null,[p.users.data.length?i("",!0):(a(),o("td",Tt,"Data Tidak Tersedia"))])])])]),c(V,{links:p.users.links,align:"end"},null,8,["links"])])])])])],64)}const Rt=q(E,[["render",Vt]]);export{Rt as default};
