import{L as k}from"./Layout.9d740512.js";import{L as x,H as P,m as C,c as r,a as b,w as u,b as s,d as T,F as _,h as f,g as m,t as o,k as c,e as L,f as h,v as K,n as g,p as H,i as M,j as w,o as n}from"./app.65838da4.js";import{_ as S}from"./_plugin-vue_export-helper.cdc0426e.js";const j={layout:k,components:{Link:x,Head:P},props:{errors:Object,userCommission:Object,userBanks:Object},setup(a){const e=C({user_bank_id:"",total_withdrawal:""});return{form:e,submit:()=>{M.Inertia.post("/user/affiliates/withdrawals",{user_bank_id:e.user_bank_id,total_withdrawal:e.total_withdrawal})}}},methods:{formatPrice(a){return"Rp."+Math.floor(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},V={class:"page-wrapper"},B={class:"page-content"},D={class:"card border-top border-0 border-3 border-primary"},N={class:"card-body"},A={class:"d-lg-flex align-items-center"},O={class:"ms-auto"},R={key:0,class:"alert alert-danger border-0 alert-dismissible fade show my-3 p-0 px-3 py-2"},q={class:"mt-3"},z={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3 py-3"},F={class:"col"},I={class:"card radius-10 overflow-hidden mb-0 shadow-none border border-2 mb-3 border-primary"},U={class:"card-body"},E={class:"d-flex align-items-center"},J={class:"my-1 text-primary"},W={class:"col"},G={class:"card radius-10 overflow-hidden mb-0 shadow-none border border-2 mb-3 border-danger"},Q={class:"card-body"},X={class:"d-flex align-items-center"},Y={class:"my-1 text-danger"},Z={class:"col"},$={class:"card radius-10 overflow-hidden mb-0 shadow-none border border-2 mb-3 border-success"},ss={class:"card-body"},es={class:"d-flex align-items-center"},is={class:"my-1 text-success"},ts={key:1,class:"alert alert-danger border-0"},os=["innerHTML"],as={key:2,class:"alert alert-success border-0"},rs=["innerHTML"],ns={class:"col-12"},ds={key:0,class:"invalid-feedback"},ls={class:"col-12"},ms={class:"input-group"},cs=["value"],bs={class:"btn btn-primary",type:"button"},us={key:0,class:"invalid-feedback"},_s={class:"col-lg-6 col-md-6"},vs={class:"card overflow-hidden mb-0 shadow-none border border-1 mb-3 border-info bg-light"},fs={class:"card-body"},hs={class:"d-flex align-items-center"},gs={class:"my-1"},ws={class:"col-lg-6 col-md-6"},ps={class:"card overflow-hidden mb-0 shadow-none border border-1 mb-3 border-info bg-light"},ys={class:"card-body"},ks={class:"d-flex align-items-center"},xs={class:"my-1"};function Ps(a,e,i,d,Cs,l){const p=w("Head"),v=w("Link");return n(),r(_,null,[b(p,null,{default:u(()=>{var t;return[s("title",null,o((t=a.$page.props.setting.app_name)!=null?t:"Atur Setting Terlebih Dahulu")+" - Request Penarikan Komisi",1)]}),_:1}),s("div",V,[s("div",B,[e[22]||(e[22]=T('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Penarikan Komisi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Request Penarikan Komisi</li></ol></nav></div></div>',1)),s("div",D,[s("div",N,[s("div",A,[s("div",O,[b(v,{href:"/user/affiliates/withdrawals",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:u(()=>[...e[3]||(e[3]=[c("Kembali",-1)])]),_:1})])]),Object.keys(i.errors).length>0?(n(),r("div",R,[e[4]||(e[4]=s("strong",null,"Perhatian, pastikan inputan diisi dengan benar.",-1)),s("ul",q,[(n(!0),r(_,null,f(i.errors,t=>(n(),r("li",null,o(t),1))),256))])])):m("",!0),s("div",z,[s("div",F,[s("div",I,[s("div",U,[s("div",E,[s("div",null,[e[5]||(e[5]=s("p",{class:"mb-0 text-secondary"},"Total Komisi",-1)),s("h4",J,o(l.formatPrice(i.userCommission.user_commission?i.userCommission.user_commission.total_commission:0)),1)]),e[6]||(e[6]=s("div",{class:"widgets-icons-2 rounded-circle bg-gradient-blues text-white ms-auto"},[s("i",{class:"bx bx-money"})],-1))])])])]),s("div",W,[s("div",G,[s("div",Q,[s("div",X,[s("div",null,[e[7]||(e[7]=s("p",{class:"mb-0 text-secondary"},"Total Sudah Ditarik",-1)),s("h4",Y,o(l.formatPrice(i.userCommission.user_commission?i.userCommission.user_commission.total_withdrawals:0)),1)]),e[8]||(e[8]=s("div",{class:"widgets-icons-2 rounded-circle bg-gradient-burning text-white ms-auto"},[s("i",{class:"bx bx-transfer-alt"})],-1))])])])]),s("div",Z,[s("div",$,[s("div",ss,[s("div",es,[s("div",null,[e[9]||(e[9]=s("p",{class:"mb-0 text-secondary"},"Komisi Saat Ini",-1)),s("h4",is,o(l.formatPrice(i.userCommission.user_commission?i.userCommission.user_commission.current_balance:0)),1)]),e[10]||(e[10]=s("div",{class:"widgets-icons-2 rounded-circle bg-gradient-ohhappiness text-white ms-auto"},[s("i",{class:"bx bx-credit-card-front"})],-1))])])])])]),a.$page.props.session.error?(n(),r("div",ts,[e[11]||(e[11]=s("i",{class:"fa fa-exclamation-triangle"},null,-1)),e[12]||(e[12]=c()),s("div",{innerHTML:a.$page.props.session.error},null,8,os)])):m("",!0),a.$page.props.session.success?(n(),r("div",as,[e[13]||(e[13]=s("i",{class:"fa fa-exclamation-triangle"},null,-1)),e[14]||(e[14]=c()),s("div",{innerHTML:a.$page.props.session.success},null,8,rs)])):m("",!0),s("form",{onSubmit:e[2]||(e[2]=L((...t)=>d.submit&&d.submit(...t),["prevent"])),class:"row g-3"},[s("div",ns,[e[15]||(e[15]=s("label",{class:"form-label"},"Jumlah Penarikan Komisi",-1)),h(s("input",{type:"number",class:g(["form-control",{"is-invalid":i.errors.total_withdrawal}]),"onUpdate:modelValue":e[0]||(e[0]=t=>d.form.total_withdrawal=t),placeholder:"Total Penarikan",min:"1",onwheel:"this.blur()",style:{appearance:"none","-moz-appearance":"textfield",overflow:"hidden"}},null,2),[[K,d.form.total_withdrawal]]),i.errors.total_withdrawal?(n(),r("div",ds,o(i.errors.total_withdrawal),1)):m("",!0)]),s("div",ls,[e[18]||(e[18]=s("label",{class:"form-label"},"Dikirim ke Bank",-1)),s("div",ms,[h(s("select",{class:g(["form-control",{"is-invalid":i.errors.user_bank_id}]),"onUpdate:modelValue":e[1]||(e[1]=t=>d.form.user_bank_id=t)},[e[16]||(e[16]=s("option",{value:""},"[ Pilih ]",-1)),(n(!0),r(_,null,f(i.userBanks,(t,y)=>(n(),r("option",{key:y,value:t.id},o(t.bank_name)+" "+o(t.account_number)+" AN "+o(t.account_name),9,cs))),128))],2),[[H,d.form.user_bank_id]]),s("button",bs,[b(v,{class:"text-white",href:"/user/affiliates/user-banks"},{default:u(()=>[...e[17]||(e[17]=[c("Tambah Bank",-1)])]),_:1})]),i.errors.user_bank_id?(n(),r("div",us,o(i.errors.user_bank_id),1)):m("",!0)])]),s("div",_s,[s("div",vs,[s("div",fs,[s("div",hs,[s("div",null,[e[19]||(e[19]=s("p",{class:"mb-0"},"Biaya Admin Penarikan",-1)),s("h4",gs,o(l.formatPrice(a.$page.props.setting.admin_fee)),1)])])])])]),s("div",ws,[s("div",ps,[s("div",ys,[s("div",ks,[s("div",null,[e[20]||(e[20]=s("p",{class:"mb-0"},"Total Komisi Diterima",-1)),s("h4",xs,o(l.formatPrice(d.form.total_withdrawal-a.$page.props.setting.admin_fee<0?0:d.form.total_withdrawal-a.$page.props.setting.admin_fee)),1)])])])])]),e[21]||(e[21]=s("div",{class:"col-12"},[s("button",{type:"submit",class:"btn btn-primary btn-sm"},"Ajukan Penarikan Komisi")],-1))],32)])])])])],64)}const Hs=S(j,[["render",Ps]]);export{Hs as default};
