import{L as W}from"./Layout.0d76d07d.js";import{L as X,H as Y,p as Z,c as n,a as K,w as q,b as s,d as x,e as c,v as u,n as _,F as f,g as h,f as l,q as v,t as d,h as $,i as ee,k as J,j as z,o as r}from"./app.491e8c84.js";import{S as ie}from"./sweetalert2.all.54f008f8.js";import{a as b}from"./index.7db67792.js";import{_ as te}from"./_plugin-vue_export-helper.cdc0426e.js";const se={layout:W,components:{Link:X,Head:Y},data(){return{provinces:[]}},props:{errors:Object,user:Object},mounted(){b.get("/region/province").then(i=>{this.provinces=i.data}).catch(i=>console.error(i))},setup(i){const t=Z({id:i.user.id,code:i.user.code,name:i.user.name,email:i.user.email,username:i.user.username,password:"",password_confirmation:"",member_type:i.user.member_type,level:i.user.level,is_active:i.user.is_active,province_id:i.user.student&&i.user.student.province_id?i.user.student.province_id:"",city_id:i.user.student&&i.user.student.city_id?i.user.student.city_id:"",district_id:i.user.student&&i.user.student.district_id?i.user.student.district_id:"",village_id:i.user.student&&i.user.student.village_id?i.user.student.village_id:"",address:i.user.student&&i.user.student.address?i.user.student.address:"",phone_number:i.user.student&&i.user.student.phone_number?i.user.student.phone_number:"",gender:i.user.student&&i.user.student.gender?i.user.student.gender:"",cities:[],districts:[],villages:[]}),a=()=>{b.get(`/region/city/${t.province_id}`).then(m=>{t.city_id=i.user.student.province_id==t.province_id?i.user.student.city_id:"",t.district_id=i.user.student.city_id==t.city_id?i.user.student.district_id:"",t.village_id=i.user.student.district_id==t.district_id?i.user.student.village_id:"",t.cities=m.data}).catch(m=>console.error(m))},o=()=>{t.district_id=i.user.student.city_id==t.city_id?i.user.student.district_id:"",t.village_id=i.user.student.district_id==t.district_id?i.user.student.village_id:"",b.get(`/region/district/${t.city_id}`).then(m=>{t.districts=m.data}).catch(m=>console.error(m))},g=()=>{t.village_id=i.user.student.district_id==t.district_id?i.user.student.village_id:"",b.get(`/region/village/${t.district_id}`).then(m=>{t.villages=m.data}).catch(m=>console.error(m))},y=()=>{$.Inertia.post(`/admin/users/${i.user.id}`,{_method:"PUT",id:t.id,code:t.code,name:t.name,email:t.email,username:t.username,password:t.password,password_confirmation:t.password_confirmation,member_type:t.member_type,level:t.level,is_active:t.is_active,province_id:t.province_id,city_id:t.city_id,district_id:t.district_id,village_id:t.village_id,address:t.address,phone_number:t.phone_number,gender:t.gender},{onSuccess:()=>{ie.fire({title:"Success!",text:"User Berhasil Disimpan!.",icon:"success",showConfirmButton:!1,timer:1e3})}})};return i.user.student&&(a(),o(),g()),{form:t,submit:y,cityData:a,districtData:o,villageData:g}}},ae={class:"page-wrapper"},oe={class:"page-content"},ne=ee('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">User</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Edit User</li></ol></nav></div></div>',1),re={class:"card border-top border-0 border-3 border-primary"},de={class:"card-header"},le={class:"d-lg-flex align-items-center"},ce=s("h6",{class:"card-title mb-0"},"Informasi Akun",-1),_e={class:"ms-auto"},me=J("Kembali"),ue={class:"card-body"},ve={key:0,class:"alert alert-danger border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2"},fe=s("strong",null,"Perhatian, pastikan inputan diisi dengan benar.",-1),he={class:"mt-3"},ge={key:1,class:"alert alert-danger border-0"},be=s("i",{class:"fa fa-exclamation-triangle"},null,-1),ye=J(),pe=["innerHTML"],ke={class:"row g-3"},we={class:"col-lg-12"},Ue=s("label",{class:"form-label"},"Level",-1),Ve=s("option",{value:""},"[ Pilih ]",-1),De=s("option",{value:"1"},"Admin",-1),Le=s("option",{value:"2"},"Peserta",-1),Pe=s("option",{value:"3"},"Guru",-1),Se=[Ve,De,Le,Pe],Me={key:0,class:"invalid-feedback"},Te={class:"col-lg-12"},Ce=s("label",{class:"form-label"},"Tipe Member",-1),Ae=s("option",{value:""},"[ Pilih ]",-1),Be=s("option",{value:"1"},"Member Gratis Tryout",-1),He=s("option",{value:"2"},"Member Tryout Berbayar ",-1),Ne=[Ae,Be,He],je={key:0,class:"invalid-feedback"},Ee={key:0,class:"col-lg-12"},Fe={class:"form-label"},Ie=["placeholder"],Oe={key:0,class:"invalid-feedback"},Ge={key:1,class:"col-lg-12"},Ke={class:"form-label"},qe=["placeholder"],ze={key:0,class:"invalid-feedback"},Je={key:2,class:"col-lg-12"},Qe={class:"form-label"},Re=["placeholder"],We={key:0,class:"invalid-feedback"},Xe={key:3,class:"col-lg-12"},Ye={class:"form-label"},Ze=["placeholder"],xe={key:0,class:"invalid-feedback"},$e={key:4,class:"col-lg-12"},ei={class:"form-label"},ii=["placeholder"],ti={key:0,class:"invalid-feedback"},si={key:5,class:"col-lg-12"},ai={class:"form-label"},oi=["placeholder"],ni={key:0,class:"invalid-feedback"},ri={class:"col-lg-12"},di=s("label",{class:"form-label"},"Status Akun",-1),li=s("option",{value:""},"[ Pilih ]",-1),ci=s("option",{value:"1"},"Active",-1),_i=s("option",{value:"0"},"Non Active",-1),mi=[li,ci,_i],ui={key:0,class:"invalid-feedback"},vi={class:"card border-top border-0 border-3 border-primary"},fi={key:0,class:"card-header"},hi=s("h6",{class:"card-title mb-0"},"Informasi Lainnya",-1),gi=[hi],bi={class:"card-body"},yi={class:"row g-3"},pi={key:0,class:"col-lg-12"},ki={class:"form-label"},wi=s("option",{value:""},"[ Pilih ]",-1),Ui=["value"],Vi={key:0,class:"invalid-feedback"},Di={key:1,class:"col-lg-12"},Li={class:"form-label"},Pi=s("option",{value:""},"[ Pilih ]",-1),Si=["value"],Mi={key:0,class:"invalid-feedback"},Ti={key:2,class:"col-lg-12"},Ci={class:"form-label"},Ai=s("option",{value:""},"[ Pilih ]",-1),Bi=["value"],Hi={key:0,class:"invalid-feedback"},Ni={key:3,class:"col-lg-12"},ji={class:"form-label"},Ei=s("option",{value:""},"[ Pilih ]",-1),Fi=["value"],Ii={key:0,class:"invalid-feedback"},Oi={key:4,class:"col-lg-12"},Gi={class:"form-label"},Ki=["placeholder"],qi={key:0,class:"invalid-feedback"},zi={key:5,class:"col-lg-12"},Ji={class:"form-label"},Qi=s("option",{value:""},"[ Pilih ]",-1),Ri=s("option",{value:"M"},"Laki-laki",-1),Wi=s("option",{value:"F"},"Perempuan",-1),Xi=[Qi,Ri,Wi],Yi={key:0,class:"invalid-feedback"},Zi={key:6,class:"col-lg-12"},xi={class:"form-label"},$i=["placeholder"],et={key:0,class:"invalid-feedback"},it=s("div",{class:"col-lg-12"},[s("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1);function tt(i,t,a,o,g,y){var p,k,w,U,V,D,L,P,S,M,T,C,A,B,H,N,j,E,F,I,O;const m=z("Head"),Q=z("Link");return r(),n(f,null,[K(m,null,{default:q(()=>{var e;return[s("title",null,d((e=i.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Edit User",1)]}),_:1}),s("div",ae,[s("div",oe,[ne,s("form",{onSubmit:t[20]||(t[20]=x((...e)=>o.submit&&o.submit(...e),["prevent"]))},[c(s("input",{type:"hidden",class:_(["form-control",{"is-invalid":a.errors.id}]),"onUpdate:modelValue":t[0]||(t[0]=e=>o.form.id=e)},null,2),[[u,o.form.id]]),s("div",re,[s("div",de,[s("div",le,[ce,s("div",_e,[K(Q,{href:"/admin/users",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:q(()=>[me]),_:1})])])]),s("div",ue,[Object.keys(a.errors).length>0?(r(),n("div",ve,[fe,s("ul",he,[(r(!0),n(f,null,h(a.errors,e=>(r(),n("li",null,d(e),1))),256))])])):l("",!0),i.$page.props.session.error?(r(),n("div",ge,[be,ye,s("div",{innerHTML:i.$page.props.session.error},null,8,pe)])):l("",!0),s("div",ke,[s("div",we,[Ue,c(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.form.level=e),class:_([{"is-invalid":a.errors.level},"form-select"])},Se,2),[[v,o.form.level]]),a.errors.level?(r(),n("div",Me,d(a.errors.level),1)):l("",!0)]),s("div",Te,[Ce,c(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.form.member_type=e),class:_([{"is-invalid":a.errors.member_type},"form-select"])},Ne,2),[[v,o.form.member_type]]),a.errors.member_type?(r(),n("div",je,d(a.errors.member_type),1)):l("",!0)]),o.form.level==2&&i.$page.props.setting.authentication_field.some(e=>e.name=="code"&&e.is_active=="1")?(r(),n("div",Ee,[s("label",Fe,d((p=i.$page.props.setting.authentication_field.find(e=>e.name=="code"))==null?void 0:p.translate),1),c(s("input",{type:"text",class:_(["form-control",{"is-invalid":a.errors.code}]),"onUpdate:modelValue":t[3]||(t[3]=e=>o.form.code=e),placeholder:(k=i.$page.props.setting.authentication_field.find(e=>e.name=="code"))==null?void 0:k.translate},null,10,Ie),[[u,o.form.code]]),a.errors.code?(r(),n("div",Oe,d(a.errors.code),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="name"&&e.is_active=="1")?(r(),n("div",Ge,[s("label",Ke,d((w=i.$page.props.setting.authentication_field.find(e=>e.name=="name"))==null?void 0:w.translate),1),c(s("input",{type:"text",class:_(["form-control",{"is-invalid":a.errors.name}]),"onUpdate:modelValue":t[4]||(t[4]=e=>o.form.name=e),placeholder:(U=i.$page.props.setting.authentication_field.find(e=>e.name=="name"))==null?void 0:U.translate},null,10,qe),[[u,o.form.name]]),a.errors.name?(r(),n("div",ze,d(a.errors.name),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="email"&&e.is_active=="1")?(r(),n("div",Je,[s("label",Qe,d((V=i.$page.props.setting.authentication_field.find(e=>e.name=="email"))==null?void 0:V.translate),1),c(s("input",{type:"email",class:_(["form-control",{"is-invalid":a.errors.email}]),"onUpdate:modelValue":t[5]||(t[5]=e=>o.form.email=e),placeholder:(D=i.$page.props.setting.authentication_field.find(e=>e.name=="email"))==null?void 0:D.translate},null,10,Re),[[u,o.form.email]]),a.errors.email?(r(),n("div",We,d(a.errors.email),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="username"&&e.is_active=="1")?(r(),n("div",Xe,[s("label",Ye,d((L=i.$page.props.setting.authentication_field.find(e=>e.name=="username"))==null?void 0:L.translate),1),c(s("input",{type:"text",class:_(["form-control",{"is-invalid":a.errors.username}]),"onUpdate:modelValue":t[6]||(t[6]=e=>o.form.username=e),placeholder:(P=i.$page.props.setting.authentication_field.find(e=>e.name=="username"))==null?void 0:P.translate},null,10,Ze),[[u,o.form.username]]),a.errors.username?(r(),n("div",xe,d(a.errors.username),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="password"&&e.is_active=="1")?(r(),n("div",$e,[s("label",ei,d((S=i.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:S.translate),1),c(s("input",{type:"password",class:_(["form-control",{"is-invalid":a.errors.password}]),"onUpdate:modelValue":t[7]||(t[7]=e=>o.form.password=e),placeholder:(M=i.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:M.translate},null,10,ii),[[u,o.form.password]]),a.errors.password?(r(),n("div",ti,d(a.errors.password),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="password"&&e.is_active=="1")?(r(),n("div",si,[s("label",ai,"Konfirmasi "+d((T=i.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:T.translate),1),c(s("input",{type:"password",class:_(["form-control",{"is-invalid":a.errors.password_confirmation}]),"onUpdate:modelValue":t[8]||(t[8]=e=>o.form.password_confirmation=e),placeholder:(C=i.$page.props.setting.authentication_field.find(e=>e.name=="password"))==null?void 0:C.translate},null,10,oi),[[u,o.form.password_confirmation]]),a.errors.password_confirmation?(r(),n("div",ni,d(a.errors.password_confirmation),1)):l("",!0)])):l("",!0),s("div",ri,[di,c(s("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>o.form.is_active=e),class:_([{"is-invalid":a.errors.is_active},"form-select"])},mi,2),[[v,o.form.is_active]]),a.errors.is_active?(r(),n("div",ui,d(a.errors.is_active),1)):l("",!0)])])])]),s("div",vi,[["province_id","city_id","district_id","village_id","address","gender","phone_number"].every(e=>{const G=i.$page.props.setting.authentication_field.find(R=>R.name===e);return G&&G.is_active=="1"})?(r(),n("div",fi,gi)):l("",!0),s("div",bi,[s("div",yi,[i.$page.props.setting.authentication_field.some(e=>e.name=="province_id"&&e.is_active=="1")?(r(),n("div",pi,[s("label",ki,d((A=i.$page.props.setting.authentication_field.find(e=>e.name=="province_id"))==null?void 0:A.translate),1),c(s("select",{onChange:t[10]||(t[10]=(...e)=>o.cityData&&o.cityData(...e)),"onUpdate:modelValue":t[11]||(t[11]=e=>o.form.province_id=e),class:_([{"is-invalid":a.errors.province_id},"form-select"])},[wi,(r(!0),n(f,null,h(g.provinces,e=>(r(),n("option",{value:e.id},d(e.name),9,Ui))),256))],34),[[v,o.form.province_id]]),a.errors.province_id?(r(),n("div",Vi,d(a.errors.province_id),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="city_id"&&e.is_active=="1")?(r(),n("div",Di,[s("label",Li,d((B=i.$page.props.setting.authentication_field.find(e=>e.name=="city_id"))==null?void 0:B.translate),1),c(s("select",{onChange:t[12]||(t[12]=(...e)=>o.districtData&&o.districtData(...e)),"onUpdate:modelValue":t[13]||(t[13]=e=>o.form.city_id=e),class:_([{"is-invalid":a.errors.city_id},"form-select"])},[Pi,(r(!0),n(f,null,h(o.form.cities,e=>(r(),n("option",{value:e.id},d(e.name),9,Si))),256))],34),[[v,o.form.city_id]]),a.errors.city_id?(r(),n("div",Mi,d(a.errors.city_id),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="district_id"&&e.is_active=="1")?(r(),n("div",Ti,[s("label",Ci,d((H=i.$page.props.setting.authentication_field.find(e=>e.name=="district_id"))==null?void 0:H.translate),1),c(s("select",{onChange:t[14]||(t[14]=(...e)=>o.villageData&&o.villageData(...e)),"onUpdate:modelValue":t[15]||(t[15]=e=>o.form.district_id=e),class:_([{"is-invalid":a.errors.district_id},"form-select"])},[Ai,(r(!0),n(f,null,h(o.form.districts,e=>(r(),n("option",{value:e.id},d(e.name),9,Bi))),256))],34),[[v,o.form.district_id]]),a.errors.district_id?(r(),n("div",Hi,d(a.errors.district_id),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="village_id"&&e.is_active=="1")?(r(),n("div",Ni,[s("label",ji,d((N=i.$page.props.setting.authentication_field.find(e=>e.name=="village_id"))==null?void 0:N.translate),1),c(s("select",{"onUpdate:modelValue":t[16]||(t[16]=e=>o.form.village_id=e),class:_([{"is-invalid":a.errors.village_id},"form-select"])},[Ei,(r(!0),n(f,null,h(o.form.villages,e=>(r(),n("option",{value:e.id},d(e.name),9,Fi))),256))],2),[[v,o.form.village_id]]),a.errors.village_id?(r(),n("div",Ii,d(a.errors.village_id),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="address"&&e.is_active=="1")?(r(),n("div",Oi,[s("label",Gi,d((j=i.$page.props.setting.authentication_field.find(e=>e.name=="address"))==null?void 0:j.translate),1),c(s("textarea",{cols:"",rows:"5","onUpdate:modelValue":t[17]||(t[17]=e=>o.form.address=e),class:_([{"is-invalid":a.errors.address},"form-control"]),placeholder:(E=i.$page.props.setting.authentication_field.find(e=>e.name=="address"))==null?void 0:E.translate},null,10,Ki),[[u,o.form.address]]),a.errors.address?(r(),n("div",qi,d(a.errors.address),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="gender"&&e.is_active=="1")?(r(),n("div",zi,[s("label",Ji,d((F=i.$page.props.setting.authentication_field.find(e=>e.name=="gender"))==null?void 0:F.translate),1),c(s("select",{"onUpdate:modelValue":t[18]||(t[18]=e=>o.form.gender=e),class:_([{"is-invalid":a.errors.gender},"form-select"])},Xi,2),[[v,o.form.gender]]),a.errors.gender?(r(),n("div",Yi,d(a.errors.gender),1)):l("",!0)])):l("",!0),i.$page.props.setting.authentication_field.some(e=>e.name=="phone_number"&&e.is_active=="1")?(r(),n("div",Zi,[s("label",xi,d((I=i.$page.props.setting.authentication_field.find(e=>e.name=="phone_number"))==null?void 0:I.translate),1),c(s("input",{type:"text","onUpdate:modelValue":t[19]||(t[19]=e=>o.form.phone_number=e),class:_([{"is-invalid":a.errors.phone_number},"form-control"]),placeholder:(O=i.$page.props.setting.authentication_field.find(e=>e.name=="phone_number"))==null?void 0:O.translate},null,10,$i),[[u,o.form.phone_number]]),a.errors.phone_number?(r(),n("div",et,d(a.errors.phone_number),1)):l("",!0)])):l("",!0),it])])])],32)])])],64)}const dt=te(se,[["render",tt]]);export{dt as default};
