import{L as k}from"./Layout-e2e49d04.js";import{L as y,H as b,v as e,d as f}from"./app-3115c1a9.js";import{S as v}from"./sweetalert2.esm.all-61741a63.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";const _={layout:k,components:{Link:y,Head:b},props:{transaction:Object},setup(o){const t=e.reactive({transaction_status:o.transaction.transaction_status});return{form:t,submit:()=>{f.Inertia.put(`/admin/transactions/${o.transaction.id}`,{transaction_status:t.transaction_status},{onSuccess:()=>{v.fire({title:"Success!",text:"Transaksi Berhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})}}},methods:{formatPrice(o){return"Rp."+(o/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},S={class:"page-wrapper"},D={class:"page-content"},T={class:"card border-top border-0 border-3 border-primary"},C={class:"card-body"},w={class:"d-lg-flex align-items-center"},P={class:"ms-auto"},K={class:"table-responsive"},L={class:"table mb-0"},M={key:0},H={key:1},A={key:2},F={key:3},j={key:4},O={key:5},U={key:6},G={key:7},I={key:8},J={key:9},R={class:"badge bg-primary"},q={key:0,class:"badge bg-primary"},z={key:1,class:"badge bg-primary"},Q={key:2,class:"badge bg-primary"},W={key:3,class:"badge bg-primary"},X={key:0,class:"fw-bold"},Y={key:1,class:"fw-bold"},Z={key:2,class:"fw-bold"},x={key:3,class:"fw-bold"},h={key:4,class:"fw-bold"},$={key:0},ee=["src"],te={key:1};function ne(o,t,a,l,ae,r){var i,s,d,m,u,c,N,V,E;const p=e.resolveComponent("Head"),g=e.resolveComponent("Link");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(p,null,{default:e.withCtx(()=>[e.createElementVNode("title",null,e.toDisplayString(o.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Detail Transaksi",1)]),_:1}),e.createElementVNode("div",S,[e.createElementVNode("div",D,[t[46]||(t[46]=e.createStaticVNode('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Transaksi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Transaksi</li></ol></nav></div></div>',1)),e.createElementVNode("div",T,[e.createElementVNode("div",C,[e.createElementVNode("div",w,[e.createElementVNode("div",P,[e.createVNode(g,{href:"/admin/transactions",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:e.withCtx(()=>[...t[2]||(t[2]=[e.createTextVNode("Kembali",-1)])]),_:1})])]),e.createElementVNode("div",K,[e.createElementVNode("form",{onSubmit:t[1]||(t[1]=e.withModifiers((...n)=>l.submit&&l.submit(...n),["prevent"]))},[e.createElementVNode("table",L,[e.createElementVNode("tbody",null,[t[26]||(t[26]=e.createElementVNode("tr",null,[e.createElementVNode("th",{colspan:"3"},"Biodata")],-1)),o.$page.props.setting.authentication_field.some(n=>n.name=="code"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("tr",M,[e.createElementVNode("td",null,e.toDisplayString((i=o.$page.props.setting.authentication_field.find(n=>n.name=="code"))==null?void 0:i.translate),1),t[3]||(t[3]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.user.code??"-"),1)])):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(n=>n.name=="name"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("tr",H,[e.createElementVNode("td",null,e.toDisplayString((s=o.$page.props.setting.authentication_field.find(n=>n.name=="name"))==null?void 0:s.translate),1),t[4]||(t[4]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.user.name??"-"),1)])):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(n=>n.name=="email"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("tr",A,[e.createElementVNode("td",null,e.toDisplayString((d=o.$page.props.setting.authentication_field.find(n=>n.name=="email"))==null?void 0:d.translate),1),t[5]||(t[5]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.user.email??"-"),1)])):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(n=>n.name=="username"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("tr",F,[e.createElementVNode("td",null,e.toDisplayString((m=o.$page.props.setting.authentication_field.find(n=>n.name=="username"))==null?void 0:m.translate),1),t[6]||(t[6]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.user.username??"-"),1)])):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(n=>n.name=="province_id"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("tr",j,[e.createElementVNode("td",null,e.toDisplayString((u=o.$page.props.setting.authentication_field.find(n=>n.name=="province_id"))==null?void 0:u.translate),1),t[7]||(t[7]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.user.student&&a.transaction.user.student.province?a.transaction.user.student.province.name:"-"),1)])):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(n=>n.name=="city_id"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("tr",O,[e.createElementVNode("td",null,e.toDisplayString((c=o.$page.props.setting.authentication_field.find(n=>n.name=="city_id"))==null?void 0:c.translate),1),t[8]||(t[8]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.user.student&&a.transaction.user.student.city?a.transaction.user.student.city.name:"-"),1)])):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(n=>n.name=="district_id"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("tr",U,[e.createElementVNode("td",null,e.toDisplayString((N=o.$page.props.setting.authentication_field.find(n=>n.name=="district_id"))==null?void 0:N.translate),1),t[9]||(t[9]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.user.student&&a.transaction.user.student.district?a.transaction.user.student.district.name:"-"),1)])):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(n=>n.name=="village_id"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("tr",G,[e.createElementVNode("td",null,e.toDisplayString((V=o.$page.props.setting.authentication_field.find(n=>n.name=="village_id"))==null?void 0:V.translate),1),t[10]||(t[10]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.user.student&&a.transaction.user.student.village?a.transaction.user.student.village.name:"-"),1)])):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(n=>n.name=="phone_number"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("tr",I,[e.createElementVNode("td",null,e.toDisplayString((E=o.$page.props.setting.authentication_field.find(n=>n.name=="phone_number"))==null?void 0:E.translate),1),t[11]||(t[11]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.user.student&&a.transaction.user.student.phone_number?a.transaction.user.student.phone_number:"-"),1)])):e.createCommentVNode("",!0),t[27]||(t[27]=e.createElementVNode("tr",null,[e.createElementVNode("td",{colspan:"3"}," ")],-1)),t[28]||(t[28]=e.createElementVNode("tr",null,[e.createElementVNode("th",{colspan:"3"},"Detail Transaksi")],-1)),e.createElementVNode("tr",null,[t[12]||(t[12]=e.createElementVNode("td",null,"Kode Transaksi",-1)),t[13]||(t[13]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.code),1)]),e.createElementVNode("tr",null,[t[14]||(t[14]=e.createElementVNode("td",null,"Tanggal Transaksi",-1)),t[15]||(t[15]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.created_at),1)]),a.transaction.category?(e.openBlock(),e.createElementBlock("tr",J,[t[16]||(t[16]=e.createElementVNode("td",null,"Kategori Peminatan",-1)),t[17]||(t[17]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,[e.createElementVNode("span",R,e.toDisplayString(a.transaction.category.name),1)])])):e.createCommentVNode("",!0),e.createElementVNode("tr",null,[t[18]||(t[18]=e.createElementVNode("td",null,"Deskripsi Transaksi",-1)),t[19]||(t[19]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.description),1)]),e.createElementVNode("tr",null,[t[20]||(t[20]=e.createElementVNode("td",null,"Metode Pembayaran",-1)),t[21]||(t[21]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,[a.transaction.payment_method=="account_balance"?(e.openBlock(),e.createElementBlock("span",q,"Saldo Akun")):e.createCommentVNode("",!0),a.transaction.payment_method=="manual_transfer"?(e.openBlock(),e.createElementBlock("span",z,"Transfer Manual (Konfirmasi Pembayaran)")):e.createCommentVNode("",!0),a.transaction.payment_method=="automatic_transfer_midtrans"?(e.openBlock(),e.createElementBlock("span",Q,"Transfer Otomatis")):e.createCommentVNode("",!0),a.transaction.payment_method=="not_payment_method"?(e.openBlock(),e.createElementBlock("span",W,"Tanpa Metode Pembayaran")):e.createCommentVNode("",!0)])]),e.createElementVNode("tr",null,[t[22]||(t[22]=e.createElementVNode("td",null,"Total Transaksi",-1)),t[23]||(t[23]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(r.formatPrice(a.transaction.total_payment)),1)]),e.createElementVNode("tr",null,[t[24]||(t[24]=e.createElementVNode("td",null,"Status Transaksi",-1)),t[25]||(t[25]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,[a.transaction.transaction_status=="pending"?(e.openBlock(),e.createElementBlock("span",X,"Pending - Belum melakukan pembayaran")):e.createCommentVNode("",!0),a.transaction.transaction_status=="paid"?(e.openBlock(),e.createElementBlock("span",Y,"Telah melakukan pembayaran")):e.createCommentVNode("",!0),a.transaction.transaction_status=="failed"?(e.openBlock(),e.createElementBlock("span",Z,"Transaksi Gagal")):e.createCommentVNode("",!0),a.transaction.transaction_status=="done"?(e.openBlock(),e.createElementBlock("span",x,"Transaksi Selesai")):e.createCommentVNode("",!0),a.transaction.transaction_status=="expired"?(e.openBlock(),e.createElementBlock("span",h,"Transaksi Kadaluarsa")):e.createCommentVNode("",!0)])])]),a.transaction.payment_method=="manual_transfer"&&a.transaction.payment_confirmation?(e.openBlock(),e.createElementBlock("tbody",$,[t[39]||(t[39]=e.createElementVNode("tr",null,[e.createElementVNode("td",{colspan:"3"}," ")],-1)),t[40]||(t[40]=e.createElementVNode("tr",null,[e.createElementVNode("th",{colspan:"3"},"Data Konfirmasi Pembayaran")],-1)),e.createElementVNode("tr",null,[t[29]||(t[29]=e.createElementVNode("td",null,"Nama Pengirim Transfer",-1)),t[30]||(t[30]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.payment_confirmation.rekening_name),1)]),e.createElementVNode("tr",null,[t[31]||(t[31]=e.createElementVNode("td",null,"Di Transfer Ke",-1)),t[32]||(t[32]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.payment_confirmation.bank.bank_name+" - "+a.transaction.payment_confirmation.bank.rekening_number+" - "+a.transaction.payment_confirmation.bank.rekening_name),1)]),e.createElementVNode("tr",null,[t[33]||(t[33]=e.createElementVNode("td",null,"Tanggal Transfer",-1)),t[34]||(t[34]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(a.transaction.payment_confirmation.transfer_date),1)]),e.createElementVNode("tr",null,[t[35]||(t[35]=e.createElementVNode("td",null,"Jumlah Transfer",-1)),t[36]||(t[36]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,e.toDisplayString(r.formatPrice(a.transaction.payment_confirmation.total_payment)),1)]),e.createElementVNode("tr",null,[t[37]||(t[37]=e.createElementVNode("td",null,"Bukti Transfer",-1)),t[38]||(t[38]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,[e.createElementVNode("img",{src:"/storage/upload_files/payment_confirmation/"+a.transaction.payment_confirmation.file,style:{width:"300px"}},null,8,ee)])]),t[41]||(t[41]=e.createElementVNode("tr",null,[e.createElementVNode("th",{colspan:"3"}," ")],-1))])):e.createCommentVNode("",!0),a.transaction.transaction_status=="pending"||a.transaction.transaction_status=="paid"?(e.openBlock(),e.createElementBlock("tbody",te,[e.createElementVNode("tr",null,[t[43]||(t[43]=e.createElementVNode("td",null,"Ubah Status Transaksi",-1)),t[44]||(t[44]=e.createElementVNode("td",null,":",-1)),e.createElementVNode("td",null,[e.withDirectives(e.createElementVNode("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=n=>l.form.transaction_status=n)},[...t[42]||(t[42]=[e.createStaticVNode('<option value="">[ Pilih Status Transaksi ]</option><option value="pending">Pending</option><option value="paid">Paid</option><option value="done">Done</option><option value="failed">Failed</option>',5)])],512),[[e.vModelSelect,l.form.transaction_status]])])]),t[45]||(t[45]=e.createElementVNode("tr",null,[e.createElementVNode("td",{colspan:"3"},[e.createElementVNode("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")])],-1))])):e.createCommentVNode("",!0)])],32)])])])])])],64)}const se=B(_,[["render",ne]]);export{se as default};
