import{L as K}from"./Layout.2aa80b53.js";import{P as L}from"./Pagination.510ca4b4.js";import{L as T,H as A,r as R,c as o,a as _,w as x,b as e,t as a,d as U,e as j,v as H,f as d,F as k,g as N,h as C,i as V,j as h,o as n}from"./app.ae09f713.js";import{S as P}from"./sweetalert2.all.cfd94722.js";import{_ as I}from"./_plugin-vue_export-helper.cdc0426e.js";const M={layout:K,components:{Link:T,Head:A,Pagination:L},props:{userCommissions:Object,summaryUserCommission:Object,commissionCount:Object},setup(){const t=R(new URL(document.location).searchParams.get("search"));return{search:t,handleSearch:()=>{C.Inertia.get("/admin/affiliates/commissions",{search:t.value})},destroy:l=>{P.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(u=>{u.isConfirmed&&(C.Inertia.delete(`/admin/affiliates/commissions/${l}`),P.fire({title:"Deleted!",text:"Sub Kategori Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}},methods:{formatPrice(t){return"Rp."+Math.floor(t).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},O={class:"page-wrapper"},z={class:"page-content"},F=V('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Komisi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Komisi</li></ol></nav></div></div>',1),E={class:"card border-top border-0 border-3 border-primary"},q={class:"card-body"},G={class:"row row-cols-1 row-cols-md-2 row-cols-xl-4"},J={class:"col"},Q={class:"card radius-10 overflow-hidden mb-0 shadow-none border border-2 border-warning mb-3"},W={class:"card-body"},X={class:"d-flex align-items-center"},Y=e("p",{class:"mb-0 text-secondary"},"Transaksi Referrer",-1),Z={class:"my-1 text-warning"},$=e("div",{class:"widgets-icons-2 rounded-circle bg-gradient-orange text-white ms-auto"},[e("i",{class:"bx bxs-user-plus"})],-1),ee={class:"col"},se={class:"card radius-10 overflow-hidden mb-0 shadow-none border border-2 border-primary mb-3"},te={class:"card-body"},ae={class:"d-flex align-items-center"},ie=e("p",{class:"mb-0 text-secondary"},"Komisi Referrer",-1),oe={class:"my-1 text-primary"},ne=e("div",{class:"widgets-icons-2 rounded-circle bg-gradient-blues text-white ms-auto"},[e("i",{class:"bx bx-money"})],-1),re={class:"col"},de={class:"card radius-10 overflow-hidden mb-0 shadow-none border border-2 border-danger mb-3"},ce={class:"card-body"},le={class:"d-flex align-items-center"},me=e("p",{class:"mb-0 text-secondary"},"Penarikan Referrer",-1),_e={class:"my-1 text-danger"},he=e("div",{class:"widgets-icons-2 rounded-circle bg-gradient-burning text-white ms-auto"},[e("i",{class:"bx bx-transfer-alt"})],-1),ue={class:"col"},be={class:"card radius-10 overflow-hidden mb-0 shadow-none border border-2 mb-3 border-success"},pe={class:"card-body"},ge={class:"d-flex align-items-center"},fe=e("p",{class:"mb-0 text-secondary"},"Komisi Belum Ditarik",-1),ve={class:"my-1 text-success"},ye=e("div",{class:"widgets-icons-2 rounded-circle bg-gradient-ohhappiness text-white ms-auto"},[e("i",{class:"bx bx-credit-card-front"})],-1),we={class:"mb-3"},xe={class:"position-relative"},ke=e("span",{class:"position-absolute top-50 product-show translate-middle-y"},[e("i",{class:"bx bx-search"})],-1),Ce={class:"table-responsive"},Pe={class:"table mb-0",style:{"font-size":"10pt"}},Se={class:"table-success"},Be=e("th",null,"No",-1),De={key:0},Ke={key:1},Le={key:2},Te=e("th",null,"Total Komisi",-1),Ae=e("th",null,"Total Penarikan",-1),Re=e("th",null,"Komisi Saat Ini",-1),Ue=e("th",null,"Actions",-1),je={key:0},He={key:1},Ne={key:2},Ve={class:"d-flex order-actions"},Ie=e("i",{class:"bx bx-grid-alt"},null,-1),Me={key:0},Oe=e("td",{align:"center",colspan:"8"},"Data Tidak Tersedia",-1),ze=[Oe];function Fe(t,c,i,l,u,m){var b,p,g;const S=h("Head"),B=h("Link"),D=h("Pagination");return n(),o(k,null,[_(S,null,{default:x(()=>{var s;return[e("title",null,a((s=t.$page.props.setting.app_name)!=null?s:"Atur Setting Terlebih Dahulu")+" - Data Komisi",1)]}),_:1}),e("div",O,[e("div",z,[F,e("div",E,[e("div",q,[e("div",G,[e("div",J,[e("div",Q,[e("div",W,[e("div",X,[e("div",null,[Y,e("h4",Z,a(i.commissionCount),1)]),$])])])]),e("div",ee,[e("div",se,[e("div",te,[e("div",ae,[e("div",null,[ie,e("h4",oe,a(m.formatPrice(i.summaryUserCommission.total_commission)),1)]),ne])])])]),e("div",re,[e("div",de,[e("div",ce,[e("div",le,[e("div",null,[me,e("h4",_e,a(m.formatPrice(i.summaryUserCommission.total_withdrawals)),1)]),he])])])]),e("div",ue,[e("div",be,[e("div",pe,[e("div",ge,[e("div",null,[fe,e("h4",ve,a(m.formatPrice(i.summaryUserCommission.current_balance)),1)]),ye])])])])]),e("div",we,[e("form",{onSubmit:c[1]||(c[1]=U((...s)=>l.handleSearch&&l.handleSearch(...s),["prevent"]))},[e("div",xe,[j(e("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=s=>l.search=s),class:"form-control ps-5 radius-20",placeholder:"Cari Berdasarkan Data Referrer....",size:"40",maxlength:"100"},null,512),[[H,l.search]]),ke])],32)]),e("div",Ce,[e("table",Pe,[e("thead",Se,[e("tr",null,[Be,t.$page.props.setting.authentication_field.some(s=>s.name=="name"&&s.is_active=="1")?(n(),o("th",De,a((b=t.$page.props.setting.authentication_field.find(s=>s.name=="name"))==null?void 0:b.translate),1)):d("",!0),t.$page.props.setting.authentication_field.some(s=>s.name=="email"&&s.is_active=="1")?(n(),o("th",Ke,a((p=t.$page.props.setting.authentication_field.find(s=>s.name=="email"))==null?void 0:p.translate),1)):d("",!0),t.$page.props.setting.authentication_field.some(s=>s.name=="username"&&s.is_active=="1")?(n(),o("th",Le,a((g=t.$page.props.setting.authentication_field.find(s=>s.name=="username"))==null?void 0:g.translate),1)):d("",!0),Te,Ae,Re,Ue])]),e("tbody",null,[(n(!0),o(k,null,N(i.userCommissions.data,(s,f)=>{var v,y,w;return n(),o("tr",{key:f},[e("td",null,a(++f+(i.userCommissions.current_page-1)*i.userCommissions.per_page),1),t.$page.props.setting.authentication_field.some(r=>r.name=="name"&&r.is_active=="1")?(n(),o("td",je,a((v=s.user.name)!=null?v:"-"),1)):d("",!0),t.$page.props.setting.authentication_field.some(r=>r.name=="email"&&r.is_active=="1")?(n(),o("td",He,a((y=s.user.email)!=null?y:"-"),1)):d("",!0),t.$page.props.setting.authentication_field.some(r=>r.name=="username"&&r.is_active=="1")?(n(),o("td",Ne,a((w=s.user.username)!=null?w:"-"),1)):d("",!0),e("td",null,a(m.formatPrice(s.total_commission)),1),e("td",null,a(m.formatPrice(s.total_withdrawals)),1),e("td",null,a(m.formatPrice(s.current_balance)),1),e("td",null,[e("div",Ve,[_(B,{href:`/admin/affiliates/commissions/${s.id}`,class:"ms-1"},{default:x(()=>[Ie]),_:2},1032,["href"])])])])}),128)),i.userCommissions.data.length?d("",!0):(n(),o("tr",Me,ze))])])]),_(D,{links:i.userCommissions.links,align:"end"},null,8,["links"])])])])])],64)}const We=I(M,[["render",Fe]]);export{We as default};
