import{L as D}from"./Layout.f219793d.js";import{L as K,H as M,r as A,c as i,a as y,w as b,b as t,t as a,F as _,g as u,n as B,f as r,d as H,e as V,v as E,h as q,i as U,j as p,o as n,k as S,W as z}from"./app.db5b7af9.js";import{P as I}from"./Pagination.07405a25.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";const R={layout:D,components:{Link:K,Head:M,Pagination:I},props:{history:Object,gradeCount:Number,grades:Number,allExams:Object},setup(o){const l=A(new URL(document.location).searchParams.get("search"));return{search:l,handleSearch:()=>{q.Inertia.get(`/user/exam-groups/histories/${o.history.id}`,{search:l.value})}}}},J={class:"page-wrapper"},W={class:"page-content"},G=U('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Tryout</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Riwayat Tryout</li></ol></nav></div></div>',1),Q={class:"card border-top border-0 border-3 border-primary"},X={class:"card-header"},Y={class:"d-flex justify-content-between"},Z=t("div",{class:"text-start"},[t("h5",{class:"mb-0"},"Informasi Tryout")],-1),$={class:"ms-auto"},tt=S("Kembali"),et={class:"card-body"},st={class:"table-responsive"},at={class:"table mb-0 table-bordered"},nt=t("th",{width:"210px"},"Peminatan",-1),it=t("td",{width:"10px"},":",-1),ot={class:"badge bg-primary"},rt=t("th",null,"Kategori Mata Pelajaran",-1),dt=t("td",null,":",-1),lt=t("th",null,"Judul Tryout",-1),ct=t("td",null,":",-1),_t=["rowspan"],ht=["rowspan"],ut=t("br",null,null,-1),mt=t("span",{class:"badge bg-warning text-dark"},"Klik untuk pembahasan",-1),gt=t("th",null,"Tanggal Mengerjakan",-1),yt=t("td",null,":",-1),bt=t("th",null,"Status Ujian",-1),pt=t("td",null,":",-1),vt={key:0,class:"badge bg-danger"},kt={key:1,class:"badge bg-primary"},ft={key:0,class:"card border-top border-0 border-3 border-primary"},xt={class:"card-body"},wt={class:"text-center"},Nt=t("h3",{class:"mb-3"},"Nilai Akhir Tryout",-1),jt={class:"card border-top border-0 border-3 border-primary"},Tt={class:"card-header"},Pt={class:"d-flex justify-content-between"},St=t("div",{class:"text-start"},[t("h5",{class:"mb-0"},"Detail Penilaian")],-1),Ft={key:0,class:"ms-auto"},Lt=["href"],Ct={class:"card-body"},Dt={class:"table-responsive"},Kt={class:"table mb-0 table-bordered"},Mt={style:{"font-weight":"bold"}},At=t("td",{width:"10%"},"No",-1),Bt=t("td",{width:"35%"},"Kategori Penilaian",-1),Ht={width:"25%"},Vt=t("td",{width:"5%",align:"right"},"Nilai",-1),Et={key:0},qt={colspan:"5",style:{background:"#eee"}},Ut={key:1},zt={align:"right"},It={align:"right"},Ot={key:0},Rt=t("th",{colspan:"3"},[t("h5",null,"Nilai Akhir")],-1),Jt={align:"right"},Wt={key:0},Gt=t("th",{colspan:"3"},[t("h5",null,"Keterangan")],-1),Qt={colspan:"2",align:"right"},Xt={key:1,class:"card"},Yt=t("div",{class:"card-header bg-primary"},[t("h5",{class:"mb-0 text-white"}," Nilai Peserta ")],-1),Zt={class:"card-body"},$t={class:"d-flex justify-content-between"},te={class:"text-start"},ee={class:"position-relative"},se=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1),ae=t("hr",null,null,-1),ne={class:"table-responsive"},ie={class:"table table-bordered mb-0"},oe=t("th",{rowspan:"2",class:"text-center align-middle"},"No",-1),re={key:0,rowspan:"2",class:"text-center align-middle"},de={key:1,rowspan:"2",class:"text-center align-middle"},le={key:2,rowspan:"2",class:"text-center align-middle"},ce={key:3,rowspan:"2",class:"text-center align-middle"},_e=["colspan"],he=t("th",{rowspan:"2",class:"text-center align-middle"},"Nilai Akhir",-1),ue=t("th",{rowspan:"2",class:"text-center align-middle"},"Keterangan",-1),me={class:"text-center"},ge={class:"badge bg-primary"},ye={key:0},be={key:1},pe={key:2},ve={key:3},ke={class:"text-center"},fe={class:"text-center"},xe={key:0,align:"center",colspan:"15"};function we(o,l,s,g,Ne,je){var k,f,x,w,N;const F=p("Head"),v=p("Link"),L=p("Pagination");return n(),i(_,null,[y(F,null,{default:b(()=>{var e;return[t("title",null,a((e=o.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Tryout",1)]}),_:1}),t("div",J,[t("div",W,[G,t("div",Q,[t("div",X,[t("div",Y,[Z,t("div",$,[y(v,{href:"/user/exam-groups/histories",class:"btn btn-primary btn-sm"},{default:b(()=>[tt]),_:1})])])]),t("div",et,[t("div",st,[t("table",at,[t("tbody",null,[t("tr",null,[nt,it,t("td",null,[t("span",ot,a(s.history.exam_group.category.name),1)])]),t("tr",null,[rt,dt,t("td",null,a(s.history.exam_group.lesson_category.name),1)]),t("tr",null,[lt,ct,t("td",null,a(s.history.exam_group.title),1)]),t("tr",null,[t("th",{rowspan:s.history.exam_group.grade.length+1},"Mata Pelajaran",8,_t),t("td",{rowspan:s.history.exam_group.grade.length+1},":",8,ht)]),(n(!0),i(_,null,u(s.history.exam_group.grade,(e,c)=>(n(),i("tr",{key:c},[t("td",null,[S(a(e.lesson.name)+" ",1),ut,e.exam.show_answer_discussion==1?(n(),z(v,{key:0,href:`/user/grades/${e.id}/questions`},{default:b(()=>[mt]),_:2},1032,["href"])):r("",!0)])]))),128)),t("tr",null,[gt,yt,t("td",null,a(o.formatDate(s.history.created_at)),1)]),t("tr",null,[bt,pt,t("td",null,[s.history.is_finished==0?(n(),i("span",vt,"Belum Selesai Mengerjakan")):(n(),i("span",kt,"Selesai Mengerjakan"))])])])])])])]),s.history.is_finished==1&&s.history.passed!=null?(n(),i("div",ft,[t("div",xt,[t("div",wt,[t("div",{class:B(["alert border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2",{"alert-success":s.history.passed==1,"alert-danger":s.history.passed==0}])},[Nt,t("h3",null,a(o.gradeFormat(s.history.grade)),1),t("h4",null,a(s.history.description),1)],2)])])])):r("",!0),t("div",jt,[t("div",Tt,[t("div",Pt,[St,s.history.exam_group.certificate_print_user==1?(n(),i("div",Ft,[t("a",{target:"_blank",href:`/user/exam-groups/${s.history.id}/export-pdf`,class:"btn btn-danger btn-sm m-1"},"Cetak Hasil Tryout",8,Lt)])):r("",!0)])]),t("div",Ct,[t("div",Dt,[t("table",Kt,[t("thead",null,[t("tr",Mt,[At,Bt,t("td",Ht,a(s.history.exam_group.minimal_grade_type==1?"Ambang Batas":"Keterangan"),1),Vt])]),(n(!0),i(_,null,u(s.history.exam_group.grade,(e,c)=>(n(),i("tbody",{key:c},[e.exam.question_title.assessment_type==1||e.exam.question_title.assessment_type==2?(n(),i("tr",Et,[t("th",qt,[t("h6",null,a(e.lesson.name),1)])])):r("",!0),s.history.exam_group.assessment_type!=4?(n(),i("tr",Ut,[t("td",null,a(++c),1),t("td",null,a(e.lesson.name),1),t("td",null,a(s.history.exam_group.assessment_type==2?e.exam.percentage_grade+"%":e.exam.question_title.passing_grade),1),t("td",zt,a(o.gradeFormat(e.grade)),1)])):r("",!0),s.history.exam_group.assessment_type==4&&e.grade_details?(n(!0),i(_,{key:2},u(e.grade_details,(h,m)=>(n(),i("tr",{key:m},[t("td",null,a(++m),1),t("td",null,a(h.grade_category_name),1),t("td",null,a(h.grade_category),1),t("td",It,a(o.gradeFormat(h.grade)),1)]))),128)):r("",!0)]))),128)),s.history.is_finished==1?(n(),i("tfoot",Ot,[t("tr",null,[Rt,t("td",Jt,[t("h5",null,a(o.gradeFormat(s.history.grade)),1)])]),s.history.exam_group.minimal_grade_type!=0?(n(),i("tr",Wt,[Gt,t("td",Qt,[t("h5",null,a((k=s.history.description)!=null?k:"-"),1)])])):r("",!0)])):r("",!0)])])])]),s.history.exam_group.show_ranking_exam==1?(n(),i("div",Xt,[Yt,t("div",Zt,[t("div",$t,[t("div",te,[t("form",{onSubmit:l[1]||(l[1]=H((...e)=>g.handleSearch&&g.handleSearch(...e),["prevent"]))},[t("div",ee,[V(t("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>g.search=e),class:"form-control ps-5 radius-20",placeholder:"Cari Peserta....",size:"40",maxlength:"100"},null,512),[[E,g.search]]),se])],32)])]),ae,t("div",ne,[t("table",ie,[t("thead",null,[t("tr",null,[oe,o.$page.props.setting.authentication_field.some(e=>e.name=="code"&&e.is_active=="1")?(n(),i("th",re,a((f=o.$page.props.setting.authentication_field.find(e=>e.name=="code"))==null?void 0:f.translate),1)):r("",!0),o.$page.props.setting.authentication_field.some(e=>e.name=="name"&&e.is_active=="1")?(n(),i("th",de,a((x=o.$page.props.setting.authentication_field.find(e=>e.name=="name"))==null?void 0:x.translate),1)):r("",!0),o.$page.props.setting.authentication_field.some(e=>e.name=="province_id"&&e.is_active=="1")?(n(),i("th",le,a((w=o.$page.props.setting.authentication_field.find(e=>e.name=="province_id"))==null?void 0:w.translate),1)):r("",!0),o.$page.props.setting.authentication_field.some(e=>e.name=="city_id"&&e.is_active=="1")?(n(),i("th",ce,a((N=o.$page.props.setting.authentication_field.find(e=>e.name=="city_id"))==null?void 0:N.translate),1)):r("",!0),t("th",{colspan:s.allExams.length,class:"text-center align-middle"},"Detail Nilai",8,_e),he,ue]),t("tr",null,[(n(!0),i(_,null,u(s.allExams,e=>(n(),i("th",{key:e.id,class:"text-center align-middle"},a(e.lesson?e.lesson.short_name:"-"),1))),128))])]),t("tbody",null,[(n(!0),i(_,null,u(s.grades.data,(e,c)=>{var h,m,j;return n(),i("tr",{key:c},[t("td",me,[t("span",ge,a(++c+(s.grades.current_page-1)*s.grades.per_page),1)]),o.$page.props.setting.authentication_field.some(d=>d.name=="code"&&d.is_active=="1")?(n(),i("td",ye,a((h=e.user.code)!=null?h:"-"),1)):r("",!0),o.$page.props.setting.authentication_field.some(d=>d.name=="name"&&d.is_active=="1")?(n(),i("td",be,a((m=e.user.name)!=null?m:"-"),1)):r("",!0),o.$page.props.setting.authentication_field.some(d=>d.name=="province_id"&&d.is_active=="1")?(n(),i("td",pe,a(e.user.student&&e.user.student.province?e.user.student.province.name:"-"),1)):r("",!0),o.$page.props.setting.authentication_field.some(d=>d.name=="city_id"&&d.is_active=="1")?(n(),i("td",ve,a(e.user.student&&e.user.student.city?e.user.student.city.name:"-"),1)):r("",!0),(n(!0),i(_,null,u(s.allExams,d=>{var T,P;return n(),i("td",{class:"text-center",key:"exam_"+d.id},a((P=o.gradeFormat((T=e.user.grade.find(C=>C.lesson_id===d.lesson_id))==null?void 0:T.grade))!=null?P:"-"),1)}),128)),t("td",ke,a(o.gradeFormat(e.grade)),1),t("td",fe,a((j=e.description)!=null?j:"-"),1)])}),128)),t("tr",null,[s.grades.data.length?r("",!0):(n(),i("td",xe,"Data Tidak Tersedia"))])])]),y(L,{links:s.grades.links,align:"end"},null,8,["links"])])])])):r("",!0)])])],64)}const Le=O(R,[["render",we]]);export{Le as default};
