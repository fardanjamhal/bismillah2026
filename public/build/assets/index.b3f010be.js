import{v as Plugin,W as Widget,w as ButtonView,x as ClickObserver,X as XmlDataProcessor,y as UpcastWriter,z as HtmlDataProcessor,D as viewToModelPositionOutsideModelElement,G as Command,J as toWidget}from"./index.b2aa2798.js";/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create}=Object,{apply,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(e){return e});seal||(seal=function(e){return e});apply||(apply=function(e,t,i){return e.apply(t,i)});construct||(construct=function(e,t){return new e(...t)});const arrayForEach=unapply(Array.prototype.forEach),arrayLastIndexOf=unapply(Array.prototype.lastIndexOf),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySplice=unapply(Array.prototype.splice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(s){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return apply(s,e,i)}}function unconstruct(s){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return construct(s,t)}}function addToSet(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(s,null);let i=e.length;for(;i--;){let n=e[i];if(typeof n=="string"){const r=t(n);r!==n&&(isFrozen(e)||(e[i]=r),n=r)}s[n]=!0}return s}function cleanArray(s){for(let e=0;e<s.length;e++)objectHasOwnProperty(s,e)||(s[e]=null);return s}function clone(s){const e=create(null);for(const[t,i]of entries(s))objectHasOwnProperty(s,t)&&(Array.isArray(i)?e[t]=cleanArray(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=clone(i):e[t]=i);return e}function lookupGetter(s,e){for(;s!==null;){const i=getOwnPropertyDescriptor(s,e);if(i){if(i.get)return unapply(i.get);if(typeof i.value=="function")return unapply(i.value)}s=getPrototypeOf(s)}function t(){return null}return t}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\$\{[\w\W]*/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]+$/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,ARIA_ATTR,ATTR_WHITESPACE,CUSTOM_ELEMENT,DATA_ATTR,DOCTYPE_NAME,ERB_EXPR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,MUSTACHE_EXPR,TMPLIT_EXPR});const NODE_TYPE={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},getGlobal=function(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(i=t.getAttribute(n));const r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},_createHooksMap=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function createDOMPurify(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const e=b=>createDOMPurify(b);if(e.version="3.2.4",e.removed=[],!s||!s.document||s.document.nodeType!==NODE_TYPE.document||!s.Element)return e.isSupported=!1,e;let{document:t}=s;const i=t,n=i.currentScript,{DocumentFragment:r,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:a=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:m,DOMParser:h,trustedTypes:f}=s,_=c.prototype,w=lookupGetter(_,"cloneNode"),z=lookupGetter(_,"remove"),D=lookupGetter(_,"nextSibling"),L=lookupGetter(_,"childNodes"),O=lookupGetter(_,"parentNode");if(typeof o=="function"){const b=t.createElement("template");b.content&&b.content.ownerDocument&&(t=b.content.ownerDocument)}let x,P="";const{implementation:F,createNodeIterator:oe,createDocumentFragment:ae,getElementsByTagName:qe}=t,{importNode:Ye}=i;let S=_createHooksMap();e.isSupported=typeof entries=="function"&&typeof O=="function"&&F&&F.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:le,ERB_EXPR:ce,TMPLIT_EXPR:ue,DATA_ATTR:Ke,ARIA_ATTR:Qe,IS_SCRIPT_OR_DATA:Ze,ATTR_WHITESPACE:Me,CUSTOM_ELEMENT:tt}=EXPRESSIONS;let{IS_ALLOWED_URI:Ee}=EXPRESSIONS,T=null;const Oe=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text]);let C=null;const Ce=addToSet({},[...html,...svg,...mathMl,...xml]);let y=Object.seal(create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,me=null,ke=!0,ge=!0,Ae=!1,Se=!0,$=!1,fe=!0,B=!1,pe=!1,_e=!1,W=!1,Z=!1,ee=!1,je=!0,Ie=!1;const nt="user-content-";let be=!0,Y=!1,X={},V=null;const Le=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Pe=null;const ze=addToSet({},["audio","video","img","source","image","track"]);let we=null;const De=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),te="http://www.w3.org/1998/Math/MathML",ie="http://www.w3.org/2000/svg",U="http://www.w3.org/1999/xhtml";let J=U,ve=!1,xe=null;const rt=addToSet({},[te,ie,U],stringToString);let ne=addToSet({},["mi","mo","mn","ms","mtext"]),re=addToSet({},["annotation-xml"]);const st=addToSet({},["title","style","font","a","script"]);let K=null;const ot=["application/xhtml+xml","text/html"],at="text/html";let E=null,G=null;const lt=t.createElement("form"),Ne=function(u){return u instanceof RegExp||u instanceof Function},ye=function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(G&&G===u)){if((!u||typeof u!="object")&&(u={}),u=clone(u),K=ot.indexOf(u.PARSER_MEDIA_TYPE)===-1?at:u.PARSER_MEDIA_TYPE,E=K==="application/xhtml+xml"?stringToString:stringToLowerCase,T=objectHasOwnProperty(u,"ALLOWED_TAGS")?addToSet({},u.ALLOWED_TAGS,E):Oe,C=objectHasOwnProperty(u,"ALLOWED_ATTR")?addToSet({},u.ALLOWED_ATTR,E):Ce,xe=objectHasOwnProperty(u,"ALLOWED_NAMESPACES")?addToSet({},u.ALLOWED_NAMESPACES,stringToString):rt,we=objectHasOwnProperty(u,"ADD_URI_SAFE_ATTR")?addToSet(clone(De),u.ADD_URI_SAFE_ATTR,E):De,Pe=objectHasOwnProperty(u,"ADD_DATA_URI_TAGS")?addToSet(clone(ze),u.ADD_DATA_URI_TAGS,E):ze,V=objectHasOwnProperty(u,"FORBID_CONTENTS")?addToSet({},u.FORBID_CONTENTS,E):Le,q=objectHasOwnProperty(u,"FORBID_TAGS")?addToSet({},u.FORBID_TAGS,E):{},me=objectHasOwnProperty(u,"FORBID_ATTR")?addToSet({},u.FORBID_ATTR,E):{},X=objectHasOwnProperty(u,"USE_PROFILES")?u.USE_PROFILES:!1,ke=u.ALLOW_ARIA_ATTR!==!1,ge=u.ALLOW_DATA_ATTR!==!1,Ae=u.ALLOW_UNKNOWN_PROTOCOLS||!1,Se=u.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$=u.SAFE_FOR_TEMPLATES||!1,fe=u.SAFE_FOR_XML!==!1,B=u.WHOLE_DOCUMENT||!1,W=u.RETURN_DOM||!1,Z=u.RETURN_DOM_FRAGMENT||!1,ee=u.RETURN_TRUSTED_TYPE||!1,_e=u.FORCE_BODY||!1,je=u.SANITIZE_DOM!==!1,Ie=u.SANITIZE_NAMED_PROPS||!1,be=u.KEEP_CONTENT!==!1,Y=u.IN_PLACE||!1,Ee=u.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,J=u.NAMESPACE||U,ne=u.MATHML_TEXT_INTEGRATION_POINTS||ne,re=u.HTML_INTEGRATION_POINTS||re,y=u.CUSTOM_ELEMENT_HANDLING||{},u.CUSTOM_ELEMENT_HANDLING&&Ne(u.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(y.tagNameCheck=u.CUSTOM_ELEMENT_HANDLING.tagNameCheck),u.CUSTOM_ELEMENT_HANDLING&&Ne(u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(y.attributeNameCheck=u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),u.CUSTOM_ELEMENT_HANDLING&&typeof u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(y.allowCustomizedBuiltInElements=u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$&&(ge=!1),Z&&(W=!0),X&&(T=addToSet({},text),C=[],X.html===!0&&(addToSet(T,html$1),addToSet(C,html)),X.svg===!0&&(addToSet(T,svg$1),addToSet(C,svg),addToSet(C,xml)),X.svgFilters===!0&&(addToSet(T,svgFilters),addToSet(C,svg),addToSet(C,xml)),X.mathMl===!0&&(addToSet(T,mathMl$1),addToSet(C,mathMl),addToSet(C,xml))),u.ADD_TAGS&&(T===Oe&&(T=clone(T)),addToSet(T,u.ADD_TAGS,E)),u.ADD_ATTR&&(C===Ce&&(C=clone(C)),addToSet(C,u.ADD_ATTR,E)),u.ADD_URI_SAFE_ATTR&&addToSet(we,u.ADD_URI_SAFE_ATTR,E),u.FORBID_CONTENTS&&(V===Le&&(V=clone(V)),addToSet(V,u.FORBID_CONTENTS,E)),be&&(T["#text"]=!0),B&&addToSet(T,["html","head","body"]),T.table&&(addToSet(T,["tbody"]),delete q.tbody),u.TRUSTED_TYPES_POLICY){if(typeof u.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof u.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=u.TRUSTED_TYPES_POLICY,P=x.createHTML("")}else x===void 0&&(x=_createTrustedTypesPolicy(f,n)),x!==null&&typeof P=="string"&&(P=x.createHTML(""));freeze&&freeze(u),G=u}},Re=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),Ue=addToSet({},[...mathMl$1,...mathMlDisallowed]),ct=function(u){let g=O(u);(!g||!g.tagName)&&(g={namespaceURI:J,tagName:"template"});const p=stringToLowerCase(u.tagName),v=stringToLowerCase(g.tagName);return xe[u.namespaceURI]?u.namespaceURI===ie?g.namespaceURI===U?p==="svg":g.namespaceURI===te?p==="svg"&&(v==="annotation-xml"||ne[v]):Boolean(Re[p]):u.namespaceURI===te?g.namespaceURI===U?p==="math":g.namespaceURI===ie?p==="math"&&re[v]:Boolean(Ue[p]):u.namespaceURI===U?g.namespaceURI===ie&&!re[v]||g.namespaceURI===te&&!ne[v]?!1:!Ue[p]&&(st[p]||!Re[p]):!!(K==="application/xhtml+xml"&&xe[u.namespaceURI]):!1},N=function(u){arrayPush(e.removed,{element:u});try{O(u).removeChild(u)}catch{z(u)}},se=function(u,g){try{arrayPush(e.removed,{attribute:g.getAttributeNode(u),from:g})}catch{arrayPush(e.removed,{attribute:null,from:g})}if(g.removeAttribute(u),u==="is")if(W||Z)try{N(g)}catch{}else try{g.setAttribute(u,"")}catch{}},He=function(u){let g=null,p=null;if(_e)u="<remove></remove>"+u;else{const k=stringMatch(u,/^[\r\n\t ]+/);p=k&&k[0]}K==="application/xhtml+xml"&&J===U&&(u='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+u+"</body></html>");const v=x?x.createHTML(u):u;if(J===U)try{g=new h().parseFromString(v,K)}catch{}if(!g||!g.documentElement){g=F.createDocument(J,"template",null);try{g.documentElement.innerHTML=ve?P:v}catch{}}const A=g.body||g.documentElement;return u&&p&&A.insertBefore(t.createTextNode(p),A.childNodes[0]||null),J===U?qe.call(g,B?"html":"body")[0]:B?g.documentElement:A},Fe=function(u){return oe.call(u.ownerDocument||u,u,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Te=function(u){return u instanceof m&&(typeof u.nodeName!="string"||typeof u.textContent!="string"||typeof u.removeChild!="function"||!(u.attributes instanceof a)||typeof u.removeAttribute!="function"||typeof u.setAttribute!="function"||typeof u.namespaceURI!="string"||typeof u.insertBefore!="function"||typeof u.hasChildNodes!="function")},Be=function(u){return typeof l=="function"&&u instanceof l};function H(b,u,g){arrayForEach(b,p=>{p.call(e,u,g,G)})}const $e=function(u){let g=null;if(H(S.beforeSanitizeElements,u,null),Te(u))return N(u),!0;const p=E(u.nodeName);if(H(S.uponSanitizeElement,u,{tagName:p,allowedTags:T}),u.hasChildNodes()&&!Be(u.firstElementChild)&&regExpTest(/<[/\w]/g,u.innerHTML)&&regExpTest(/<[/\w]/g,u.textContent)||u.nodeType===NODE_TYPE.progressingInstruction||fe&&u.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,u.data))return N(u),!0;if(!T[p]||q[p]){if(!q[p]&&Xe(p)&&(y.tagNameCheck instanceof RegExp&&regExpTest(y.tagNameCheck,p)||y.tagNameCheck instanceof Function&&y.tagNameCheck(p)))return!1;if(be&&!V[p]){const v=O(u)||u.parentNode,A=L(u)||u.childNodes;if(A&&v){const k=A.length;for(let I=k-1;I>=0;--I){const R=w(A[I],!0);R.__removalCount=(u.__removalCount||0)+1,v.insertBefore(R,D(u))}}}return N(u),!0}return u instanceof c&&!ct(u)||(p==="noscript"||p==="noembed"||p==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,u.innerHTML)?(N(u),!0):($&&u.nodeType===NODE_TYPE.text&&(g=u.textContent,arrayForEach([le,ce,ue],v=>{g=stringReplace(g,v," ")}),u.textContent!==g&&(arrayPush(e.removed,{element:u.cloneNode()}),u.textContent=g)),H(S.afterSanitizeElements,u,null),!1)},We=function(u,g,p){if(je&&(g==="id"||g==="name")&&(p in t||p in lt))return!1;if(!(ge&&!me[g]&&regExpTest(Ke,g))){if(!(ke&&regExpTest(Qe,g))){if(!C[g]||me[g]){if(!(Xe(u)&&(y.tagNameCheck instanceof RegExp&&regExpTest(y.tagNameCheck,u)||y.tagNameCheck instanceof Function&&y.tagNameCheck(u))&&(y.attributeNameCheck instanceof RegExp&&regExpTest(y.attributeNameCheck,g)||y.attributeNameCheck instanceof Function&&y.attributeNameCheck(g))||g==="is"&&y.allowCustomizedBuiltInElements&&(y.tagNameCheck instanceof RegExp&&regExpTest(y.tagNameCheck,p)||y.tagNameCheck instanceof Function&&y.tagNameCheck(p))))return!1}else if(!we[g]){if(!regExpTest(Ee,stringReplace(p,Me,""))){if(!((g==="src"||g==="xlink:href"||g==="href")&&u!=="script"&&stringIndexOf(p,"data:")===0&&Pe[u])){if(!(Ae&&!regExpTest(Ze,stringReplace(p,Me,"")))){if(p)return!1}}}}}}return!0},Xe=function(u){return u!=="annotation-xml"&&stringMatch(u,tt)},Ve=function(u){H(S.beforeSanitizeAttributes,u,null);const{attributes:g}=u;if(!g||Te(u))return;const p={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:C,forceKeepAttr:void 0};let v=g.length;for(;v--;){const A=g[v],{name:k,namespaceURI:I,value:R}=A,Q=E(k);let j=k==="value"?R:stringTrim(R);if(p.attrName=Q,p.attrValue=j,p.keepAttr=!0,p.forceKeepAttr=void 0,H(S.uponSanitizeAttribute,u,p),j=p.attrValue,Ie&&(Q==="id"||Q==="name")&&(se(k,u),j=nt+j),fe&&regExpTest(/((--!?|])>)|<\/(style|title)/i,j)){se(k,u);continue}if(p.forceKeepAttr||(se(k,u),!p.keepAttr))continue;if(!Se&&regExpTest(/\/>/i,j)){se(k,u);continue}$&&arrayForEach([le,ce,ue],Ge=>{j=stringReplace(j,Ge," ")});const Je=E(u.nodeName);if(!!We(Je,Q,j)){if(x&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!I)switch(f.getAttributeType(Je,Q)){case"TrustedHTML":{j=x.createHTML(j);break}case"TrustedScriptURL":{j=x.createScriptURL(j);break}}try{I?u.setAttributeNS(I,k,j):u.setAttribute(k,j),Te(u)?N(u):arrayPop(e.removed)}catch{}}}H(S.afterSanitizeAttributes,u,null)},dt=function b(u){let g=null;const p=Fe(u);for(H(S.beforeSanitizeShadowDOM,u,null);g=p.nextNode();)H(S.uponSanitizeShadowNode,g,null),$e(g),Ve(g),g.content instanceof r&&b(g.content);H(S.afterSanitizeShadowDOM,u,null)};return e.sanitize=function(b){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=null,p=null,v=null,A=null;if(ve=!b,ve&&(b="<!-->"),typeof b!="string"&&!Be(b))if(typeof b.toString=="function"){if(b=b.toString(),typeof b!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!e.isSupported)return b;if(pe||ye(u),e.removed=[],typeof b=="string"&&(Y=!1),Y){if(b.nodeName){const R=E(b.nodeName);if(!T[R]||q[R])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(b instanceof l)g=He("<!---->"),p=g.ownerDocument.importNode(b,!0),p.nodeType===NODE_TYPE.element&&p.nodeName==="BODY"||p.nodeName==="HTML"?g=p:g.appendChild(p);else{if(!W&&!$&&!B&&b.indexOf("<")===-1)return x&&ee?x.createHTML(b):b;if(g=He(b),!g)return W?null:ee?P:""}g&&_e&&N(g.firstChild);const k=Fe(Y?b:g);for(;v=k.nextNode();)$e(v),Ve(v),v.content instanceof r&&dt(v.content);if(Y)return b;if(W){if(Z)for(A=ae.call(g.ownerDocument);g.firstChild;)A.appendChild(g.firstChild);else A=g;return(C.shadowroot||C.shadowrootmode)&&(A=Ye.call(i,A,!0)),A}let I=B?g.outerHTML:g.innerHTML;return B&&T["!doctype"]&&g.ownerDocument&&g.ownerDocument.doctype&&g.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,g.ownerDocument.doctype.name)&&(I="<!DOCTYPE "+g.ownerDocument.doctype.name+`>
`+I),$&&arrayForEach([le,ce,ue],R=>{I=stringReplace(I,R," ")}),x&&ee?x.createHTML(I):I},e.setConfig=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ye(b),pe=!0},e.clearConfig=function(){G=null,pe=!1},e.isValidAttribute=function(b,u,g){G||ye({});const p=E(b),v=E(u);return We(p,v,g)},e.addHook=function(b,u){typeof u=="function"&&arrayPush(S[b],u)},e.removeHook=function(b,u){if(u!==void 0){const g=arrayLastIndexOf(S[b],u);return g===-1?void 0:arraySplice(S[b],g,1)[0]}return arrayPop(S[b])},e.removeHooks=function(b){S[b]=[]},e.removeAllHooks=function(){S=_createHooksMap()},e}var purify=createDOMPurify();class Constants{static get safeXmlCharactersEntities(){return{tagOpener:"&laquo;",tagCloser:"&raquo;",doubleQuote:"&uml;",realDoubleQuote:"&quot;"}}static get safeBadBlackboardCharacters(){return{ltElement:"\xABmo\xBB<\xAB/mo\xBB",gtElement:"\xABmo\xBB>\xAB/mo\xBB",ampElement:"\xABmo\xBB&\xAB/mo\xBB"}}static get safeGoodBlackboardCharacters(){return{ltElement:"\xABmo\xBB\xA7lt;\xAB/mo\xBB",gtElement:"\xABmo\xBB\xA7gt;\xAB/mo\xBB",ampElement:"\xABmo\xBB\xA7amp;\xAB/mo\xBB"}}static get xmlCharacters(){return{id:"xmlCharacters",tagOpener:"<",tagCloser:">",doubleQuote:'"',ampersand:"&",quote:"'"}}static get safeXmlCharacters(){return{id:"safeXmlCharacters",tagOpener:"\xAB",tagCloser:"\xBB",doubleQuote:"\xA8",ampersand:"\xA7",quote:"`",realDoubleQuote:"\xA8"}}}class MathML{static isMathmlInAttribute(e,t){const l=`^['"][\\s]*=[\\s]*[\\w-]+('[\\s]*("[^"]*"|'[^']*')[\\s]*=[\\s]*[\\w-]+[\\s]*')*[\\s]+gmi<`,c=new RegExp(l),a=e.substring(0,t).split("").reverse().join("");return c.test(a)}static safeXmlDecode(e){let{tagOpener:t}=Constants.safeXmlCharactersEntities,{tagCloser:i}=Constants.safeXmlCharactersEntities,{doubleQuote:n}=Constants.safeXmlCharactersEntities,{realDoubleQuote:r}=Constants.safeXmlCharactersEntities;e=e.split(t).join(Constants.safeXmlCharacters.tagOpener),e=e.split(i).join(Constants.safeXmlCharacters.tagCloser),e=e.split(n).join(Constants.safeXmlCharacters.doubleQuote),e=e.split(r).join(Constants.safeXmlCharacters.realDoubleQuote);const{ltElement:o}=Constants.safeBadBlackboardCharacters,{gtElement:l}=Constants.safeBadBlackboardCharacters,{ampElement:c}=Constants.safeBadBlackboardCharacters;"_wrs_blackboard"in window&&window._wrs_blackboard&&(e=e.split(o).join(Constants.safeGoodBlackboardCharacters.ltElement),e=e.split(l).join(Constants.safeGoodBlackboardCharacters.gtElement),e=e.split(c).join(Constants.safeGoodBlackboardCharacters.ampElement)),{tagOpener:t}=Constants.safeXmlCharacters,{tagCloser:i}=Constants.safeXmlCharacters,{doubleQuote:n}=Constants.safeXmlCharacters,{realDoubleQuote:r}=Constants.safeXmlCharacters;const{ampersand:d}=Constants.safeXmlCharacters,{quote:a}=Constants.safeXmlCharacters;e=e.split(t).join(Constants.xmlCharacters.tagOpener),e=e.split(i).join(Constants.xmlCharacters.tagCloser),e=e.split(n).join(Constants.xmlCharacters.doubleQuote),e=e.split(d).join(Constants.xmlCharacters.ampersand),e=e.split(a).join(Constants.xmlCharacters.quote);let m="",h=null;for(let f=0;f<e.length;f+=1){const _=e.charAt(f);h==null?_==="$"?h="":m+=_:_===";"?(m+=`&${h}`,h=null):_.match(/([a-zA-Z0-9#._-] | '-')/)?h+=_:(m+=`$${h}`,h=null,f-=1)}return m}static safeXmlEncode(e){const{tagOpener:t}=Constants.xmlCharacters,{tagCloser:i}=Constants.xmlCharacters,{doubleQuote:n}=Constants.xmlCharacters,{ampersand:r}=Constants.xmlCharacters,{quote:o}=Constants.xmlCharacters;return e=e.split(t).join(Constants.safeXmlCharacters.tagOpener),e=e.split(i).join(Constants.safeXmlCharacters.tagCloser),e=e.split(n).join(Constants.safeXmlCharacters.doubleQuote),e=e.split(r).join(Constants.safeXmlCharacters.ampersand),e=e.split(o).join(Constants.safeXmlCharacters.quote),e}static mathMLEntities(e){let t="";for(let i=0;i<e.length;i+=1){const n=e.charAt(i);if(e.codePointAt(i)>128)t+=`&#${e.codePointAt(i)};`,e.codePointAt(i)>65535&&(i+=1);else if(n==="&"){const r=e.indexOf(";",i+1);if(r>=0){const o=document.createElement("span");o.innerHTML=e.substring(i,r+1),t+=`&#${Util.fixedCharCodeAt(o.textContent||o.innerText,0)};`,i=r}else t+=n}else t+=n}return t}static addCustomEditorClassAttribute(e,t){let i="";const n=e.indexOf("<math");if(n===0){const r=e.indexOf(">");if(e.indexOf("class")===-1)return i=`${e.substr(n,r)} class="wrs_${t}">`,i+=e.substr(r+1,e.length),i}return e}static removeCustomEditorClassAttribute(e,t){return e.indexOf("class")===-1||e.indexOf(`wrs_${t}`)===-1?e:e.indexOf(` class="wrs_${t}"`)!==-1?e.replace(` class="wrs_${t}"`,""):e.indexOf(`class="wrs_${t}"`)!==-1?e.replace(`class="wrs_${t}"`,""):e.replace(`wrs_${t}`,"")}static addAnnotation(e,t,i){const n=e.indexOf("<annotation");let r="";if(n!==-1){const o=e.indexOf("</semantics>");r=`${e.substring(0,o)}<annotation encoding="${i}">${t}</annotation>${e.substring(o)}`}else if(MathML.isEmpty(e)){const o=e.indexOf("/>"),l=e.indexOf(">"),c=l===o?o:l;r=`${e.substring(0,c)}><semantics><annotation encoding="${i}">${t}</annotation></semantics></math>`}else{const o=e.indexOf(">")+1,l=e.lastIndexOf("</math>"),c=e.substring(o,l);r=`${e.substring(0,o)}<semantics><mrow>${c}</mrow><annotation encoding="${i}">${t}</annotation></semantics></math>`}return r}static removeAnnotation(e,t){let i=e;const n=`<annotation encoding="${t}">`,r="</annotation>",o=e.indexOf(n);if(o!==-1){let l=!1,c=e.indexOf("<annotation");for(;c!==-1;)c!==o&&(l=!0),c=e.indexOf("<annotation",c+1);if(l){const a=e.indexOf(r,o)+r.length;i=e.substring(0,o)+e.substring(a)}else i=MathML.removeSemantics(e)}return i}static removeSemantics(e){const t=/<semantics>\s*?(<mrow>)?/gm,i=/(<\/mrow>)?\s*<annotation[\W\w]*?<\/semantics>/gm;return e.replace(t,"").replace(i,"")}static removeSemanticsOcurrences(e,t=Constants.xmlCharacters){const i=`${t.tagOpener}math`,n=`${t.tagOpener}/math${t.tagCloser}`,r=`/${t.tagCloser}`,{tagCloser:o}=t,l=`${t.tagOpener}semantics${t.tagCloser}`,c=`${t.tagOpener}annotation encoding=`;let d="",a=e.indexOf(i),m=0;for(;a!==-1;){d+=e.substring(m,a);const h=e.indexOf(n,a),f=e.indexOf(r,a),_=e.indexOf(o,a);h!==-1?m=h:f===_-1&&(m=f);const w=e.indexOf(l,a);if(w!==-1){const z=e.substring(a,w),D=e.indexOf(c,a);if(D!==-1){const L=w+l.length,O=e.substring(L,D);d+=z+O+n,a=e.indexOf(i,a+i.length),m+=n.length}else m=a,a=e.indexOf(i,a+i.length)}else m=a,a=e.indexOf(i,a+i.length)}return d+=e.substring(m,e.length),d}static containClass(e,t){const i=e.indexOf("class");if(i===-1)return!1;const n=e.indexOf(">",i);return e.substring(i,n).indexOf(t)!==-1}static isEmpty(e){const t=">",i="/>",n=e.indexOf(t),r=e.indexOf(i);let o=!1;if(r!==-1&&r===n-1&&(o=!0),!o){const c=new RegExp("</(.+:)?math>").exec(e);c&&(o=n+1===c.index)}return o}static encodeProperties(e){const t=/\w+=".*?"/g,i=r=>{const o=r.indexOf('"'),l=r.substring(o+1,r.length-1),c=Util.htmlEntities(l);return`${r.substring(0,o+1)}${c}"`};return e.replace(t,i)}}class Configuration{static addConfiguration(e){Object.assign(Configuration.properties,e)}static get properties(){return Configuration._properties}static set properties(e){Configuration._properties=e}static get(e){return Object.prototype.hasOwnProperty.call(Configuration.properties,e)?Configuration.properties[e]:Object.prototype.hasOwnProperty.call(Configuration.properties,"_wrs_conf_")?Configuration.properties[`_wrs_conf_${e}`]:!1}static set(e,t){Configuration.properties[e]=t}static update(e,t){if(!Configuration.get(e))Configuration.set(e,t);else{const i=Object.assign(Configuration.get(e),t);Configuration.set(e,i)}}}Configuration._properties={};class TextCache{constructor(){this.cache=[]}populate(e,t){this.cache[e]=t}get(e){return Object.prototype.hasOwnProperty.call(this.cache,e)?this.cache[e]:!1}}class Listeners{constructor(){this.listeners=[]}add(e){this.listeners.push(e)}fire(e,t){for(let i=0;i<this.listeners.length&&!t.cancelled;i+=1)this.listeners[i].eventName===e&&this.listeners[i].callback(t);return t.defaultPrevented}static newListener(e,t){const i={};return i.eventName=e,i.callback=t,i}}class ServiceProvider{static get listeners(){return ServiceProvider._listeners}static addListener(e){ServiceProvider.listeners.add(e)}static fireEvent(e,t){ServiceProvider.listeners.fire(e,t)}static get parameters(){return ServiceProvider._parameters}static set parameters(e){ServiceProvider._parameters=e}static get servicePaths(){return ServiceProvider._servicePaths}static set servicePaths(e){ServiceProvider._servicePaths=e}static setServicePath(e,t){ServiceProvider.servicePaths[e]=t}static getServicePath(e){return ServiceProvider.servicePaths[e]}static get integrationPath(){return ServiceProvider._integrationPath}static set integrationPath(e){ServiceProvider._integrationPath=e}static getServerURL(){const t=window.location.href.split("/");return`${t[0]}//${t[2]}`}static init(e){ServiceProvider.parameters=e;let t=ServiceProvider.createServiceURI("configurationjs"),i=ServiceProvider.createServiceURI("createimage"),n=ServiceProvider.createServiceURI("showimage"),r=ServiceProvider.createServiceURI("getmathml"),o=ServiceProvider.createServiceURI("service");if(ServiceProvider.parameters.URI.indexOf("/")===0){const l=ServiceProvider.getServerURL();t=l+t,n=l+n,i=l+i,r=l+r,o=l+o}ServiceProvider.setServicePath("configurationjs",t),ServiceProvider.setServicePath("showimage",n),ServiceProvider.setServicePath("createimage",i),ServiceProvider.setServicePath("service",o),ServiceProvider.setServicePath("getmathml",r),ServiceProvider.setServicePath("configurationjs",t),ServiceProvider.listeners.fire("onInit",{})}static getUrl(e,t){const i=window.location.toString().substr(0,window.location.toString().lastIndexOf("/")+1),n=Util.createHttpRequest();if(n){typeof t>"u"||typeof t>"u"?n.open("GET",e,!1):e.substr(0,1)==="/"||e.substr(0,7)==="http://"||e.substr(0,8)==="https://"?n.open("POST",e,!1):n.open("POST",i+e,!1);let r=Configuration.get("customHeaders");return r&&(typeof r=="string"&&(r=Util.convertStringToObject(r)),Object.entries(r).forEach(([o,l])=>n.setRequestHeader(o,l))),typeof t<"u"&&t?(n.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),n.send(Util.httpBuildQuery(t))):n.send(null),n.responseText}return""}static getService(e,t,i){let n;if(i===!0){const r=t?`?${t}`:"",o=`${ServiceProvider.getServicePath(e)}${r}`;n=ServiceProvider.getUrl(o)}else{const r=ServiceProvider.getServicePath(e);n=ServiceProvider.getUrl(r,t)}return n}static getServerLanguageFromService(e){return e.indexOf(".php")!==-1?"php":e.indexOf(".aspx")!==-1?"aspx":e.indexOf("wirispluginengine")!==-1?"ruby":"java"}static createServiceURI(e){const t=ServiceProvider.serverExtension();return Util.concatenateUrl(ServiceProvider.parameters.URI,e)+t}static serverExtension(){return ServiceProvider.parameters.server.indexOf("php")!==-1?".php":ServiceProvider.parameters.server.indexOf("aspx")!==-1?".aspx":""}}ServiceProvider._servicePaths={};ServiceProvider._integrationPath="";ServiceProvider._listeners=new Listeners;ServiceProvider._parameters={};class Latex{static get cache(){return Latex._cache}static set cache(e){Latex._cache=e}static getLatexFromMathML(e){const t=MathML.removeSemantics(e),{cache:i}=Latex,n={service:"mathml2latex",mml:t},r=JSON.parse(ServiceProvider.getService("service",n));let o="";if(r.status==="ok"){o=r.result.text;const l=Util.htmlEntities(o),c=MathML.addAnnotation(e,l,"LaTeX");i.populate(o,c)}return o}static getMathMLFromLatex(e,t){const i=Latex.cache;if(Latex.cache.get(e))return Latex.cache.get(e);const n={service:"latex2mathml",latex:e};t&&(n.saveLatex="");const r=JSON.parse(ServiceProvider.getService("service",n));let o;if(r.status==="ok"){let l=r.result.text;if(l=l.split("\r").join("").split(`
`).join(" "),l.indexOf("semantics")===-1&&l.indexOf("annotation")===-1){const c=Util.htmlEntities(e);l=MathML.addAnnotation(l,c,"LaTeX"),o=l}else o=l;i.get(e)||i.populate(e,l)}else o=`$$${e}$$`;return o}static parseMathmlToLatex(e,t){let i="";const n=`${t.tagOpener}math`,r=`${t.tagOpener}/math${t.tagCloser}`,o=`${t.tagOpener}annotation encoding=${t.doubleQuote}LaTeX${t.doubleQuote}${t.tagCloser}`,l=`${t.tagOpener}/annotation${t.tagCloser}`;let c=e.indexOf(n),d=0,a,m,h;for(;c!==-1;){if(i+=e.substring(d,c),d=e.indexOf(r,c),d===-1?d=e.length-1:d+=r.length,a=e.substring(c,d),m=a.indexOf(o),m!==-1){m+=o.length,h=a.indexOf(l);let f=a.substring(m,h);t===Constants.safeXmlCharacters&&(f=MathML.safeXmlDecode(f)),i+=`$$${f}$$`,Latex.cache.populate(f,a)}else i+=a;c=e.indexOf(n,d)}return i+=e.substring(d,e.length),i}static getLatexFromTextNode(e,t,i){const n={open:"$$",close:"$$"};(typeof i>"u"||i==null)&&(i=n);let r=e;for(;r.previousSibling&&r.previousSibling.nodeType===3;)r=r.previousSibling;function o(h,f,_){let w=h.nodeValue.indexOf(_,f);for(;w===-1;){if(h=h.nextSibling,!h)return null;w=h.nodeValue?h.nodeValue.indexOf(i.close):-1}return{node:h,position:w}}function l(h,f,_,w){if(h===_)return f<=w;for(;h&&h!==_;)h=h.nextSibling;return h===_}let c,d={node:r,position:0};const a=i.open.length;do{if(c=o(d.node,d.position,i.open),c==null||l(e,t,c.node,c.position)||(d=o(c.node,c.position+a,i.close),d==null))return null;d.position+=a}while(l(d.node,d.position,e,t));let m;if(c.node===d.node)m=c.node.nodeValue.substring(c.position+a,d.position-a);else{const h=c.position+a;m=c.node.nodeValue.substring(h,c.node.nodeValue.length);let f=c.node;do f=f.nextSibling,f===d.node?m+=d.node.nodeValue.substring(0,d.position-a):m+=f.nodeValue?f.nodeValue:"";while(f!==d.node)}return{latex:m,startNode:c.node,startPosition:c.position,endNode:d.node,endPosition:d.position}}}Latex._cache=new TextCache;const ar={latex:"LaTeX",cancel:"\u0625\u0644\u063A\u0627\u0621",accept:"\u0625\u062F\u0631\u0627\u062C",manual:"\u0627\u0644\u062F\u0644\u064A\u0644",insert_math:"\u0625\u062F\u0631\u0627\u062C \u0635\u064A\u063A\u0629 \u0631\u064A\u0627\u0636\u064A\u0629 - MathType",insert_chem:"\u0625\u062F\u0631\u0627\u062C \u0635\u064A\u063A\u0629 \u0643\u064A\u0645\u064A\u0627\u0626\u064A\u0629 - ChemType",minimize:"\u062A\u0635\u063A\u064A\u0631",maximize:"\u062A\u0643\u0628\u064A\u0631",fullscreen:"\u0645\u0644\u0621 \u0627\u0644\u0634\u0627\u0634\u0629",exit_fullscreen:"\u0627\u0644\u062E\u0631\u0648\u062C \u0645\u0646 \u0645\u0644\u0621 \u0627\u0644\u0634\u0627\u0634\u0629",close:"\u0625\u063A\u0644\u0627\u0642",mathtype:"MathType",title_modalwindow:"\u0646\u0627\u0641\u0630\u0629 MathType \u0645\u0634\u0631\u0648\u0637\u0629",close_modal_warning:"\u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0644\u0645\u063A\u0627\u062F\u0631\u0629 \u0628\u0627\u0644\u062A\u0623\u0643\u064A\u062F\u061F \u0633\u062A\u064F\u0641\u0642\u062F \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0627\u0644\u062A\u064A \u0623\u062C\u0631\u064A\u062A\u0647\u0627.",latex_name_label:"\u0635\u064A\u063A\u0629 Latex",browser_no_compatible:"\u0627\u0644\u0645\u0633\u062A\u0639\u0631\u0636 \u063A\u064A\u0631 \u0645\u062A\u0648\u0627\u0641\u0642 \u0645\u0639 \u062A\u0642\u0646\u064A\u0629 AJAX. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0623\u062D\u062F\u062B \u0625\u0635\u062F\u0627\u0631 \u0645\u0646 Mozilla Firefox.",error_convert_accessibility:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0645\u0646 MathML \u0625\u0644\u0649 \u0646\u0635 \u0642\u0627\u0628\u0644 \u0644\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645.",exception_cross_site:"\u0627\u0644\u0628\u0631\u0645\u062C\u0629 \u0627\u0644\u0646\u0635\u064A\u0629 \u0644\u0644\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0645\u0634\u062A\u0631\u0643\u0629 \u0645\u0633\u0645\u0648\u062D \u0628\u0647\u0627 \u0644\u0640\xA0HTTP \u0641\u0642\u0637.",exception_high_surrogate:"\u0627\u0644\u0645\u0631\u0643\u0651\u0628 \u0627\u0644\u0645\u0631\u062A\u0641\u0639 \u063A\u064A\u0631 \u0645\u062A\u0628\u0648\u0639 \u0628\u0645\u0631\u0643\u0651\u0628 \u0645\u0646\u062E\u0641\u0636 \u0641\u064A fixedCharCodeAt()\u200E",exception_string_length:"\u0633\u0644\u0633\u0644\u0629 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D\u0629. \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u0637\u0648\u0644 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A \u0627\u0644\u0639\u062F\u062F 4",exception_key_nonobject:"Object.keys \u0645\u0633\u062A\u062F\u0639\u0627\u0629 \u0639\u0644\u0649 \u063A\u064A\u0631 \u0643\u0627\u0626\u0646",exception_null_or_undefined:" \u0647\u0630\u0627 \u0641\u0627\u0631\u063A \u0623\u0648 \u063A\u064A\u0631 \u0645\u062D\u062F\u062F",exception_not_function:" \u0644\u064A\u0633\u062A \u062F\u0627\u0644\u0629",exception_invalid_date_format:"\u062A\u0646\u0633\u064A\u0642 \u062A\u0627\u0631\u064A\u062E \u063A\u064A\u0631 \u0635\u0627\u0644\u062D: ",exception_casting:"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0635\u064A\u0627\u063A\u0629 ",exception_casting_to:" \u0625\u0644\u0649 "},ca={latex:"LaTeX",cancel:"Cancel\xB7lar",accept:"Inserir",manual:"Manual",insert_math:"Inserir f\xF3rmula matem\xE0tica - MathType",insert_chem:"Inserir f\xF3rmula qu\xEDmica - ChemType",minimize:"Minimitza",maximize:"Maximitza",fullscreen:"Pantalla completa",exit_fullscreen:"Sortir de la pantalla complera",close:"Tanca",mathtype:"MathType",title_modalwindow:" Finestra modal de MathType",close_modal_warning:"N'est\xE0s segur que vols sortir? Es perdran els canvis que has fet.",latex_name_label:"F\xF3rmula en Latex",browser_no_compatible:"El teu navegador no \xE9s compatible amb AJAX. Si us plau, usa la darrera versi\xF3 de Mozilla Firefox.",error_convert_accessibility:"Error en convertir de MathML a text accessible.",exception_cross_site:"Els scripts de llocs creuats nom\xE9s estan permesos per HTTP.",exception_high_surrogate:"Subrogat alt no seguit de subrogat baix a fixedCharCodeAt()",exception_string_length:"Cadena inv\xE0lida. La longitud ha de ser un m\xFAltiple de 4",exception_key_nonobject:"Object.keys anomenat a non-object",exception_null_or_undefined:" aix\xF2 \xE9s null o no definit",exception_not_function:" no \xE9s una funci\xF3",exception_invalid_date_format:"Format de data inv\xE0lid : ",exception_casting:"No es pot emetre ",exception_casting_to:" a "},cs={latex:"LaTeX",cancel:"Storno",accept:"Vlo\u017Eit",manual:"P\u0159\xEDru\u010Dka",insert_math:"Vlo\u017Eit matematick\xFD vzorec - MathType",insert_chem:"Vlo\u017Een\xED chemick\xE9ho vzorce \u2013 ChemType",minimize:"Minimalizovat",maximize:"Maximalizovat",fullscreen:"Cel\xE1 obrazovka",exit_fullscreen:"Opustit re\u017Eim cel\xE9 obrazovky",close:"Zav\u0159\xEDt",mathtype:"MathType",title_modalwindow:"Mod\xE1ln\xED okno MathType",close_modal_warning:"Opravdu chcete okno zav\u0159\xEDt? Proveden\xE9 zm\u011Bny budou ztraceny.",latex_name_label:"Vzorec v\xA0LaTeXu",browser_no_compatible:"V\xE1\u0161 prohl\xED\u017Ee\u010D nepodporuje technologii AJAX. Pou\u017Eijte nejnov\u011Bj\u0161\xED verzi prohl\xED\u017Ee\u010De Mozilla Firefox.",error_convert_accessibility:"P\u0159i p\u0159evodu k\xF3du MathML na \u010Diteln\xFD text do\u0161lo k\xA0chyb\u011B.",exception_cross_site:"Skriptov\xE1n\xED mezi v\xEDce servery je povoleno jen v\xA0HTTP.",exception_high_surrogate:"Ve funkci fixedCharCodeAt() nen\xE1sleduje po prvn\xED \u010D\xE1sti k\xF3du znaku druh\xE1 \u010D\xE1st",exception_string_length:"Neplatn\xFD \u0159et\u011Bzec. D\xE9lka mus\xED b\xFDt n\xE1sobkem 4.",exception_key_nonobject:"Funkce Object.keys byla pou\u017Eita pro prvek, kter\xFD nen\xED objektem",exception_null_or_undefined:" hodnota je null nebo nen\xED definovan\xE1",exception_not_function:" nen\xED funkce",exception_invalid_date_format:"Neplatn\xFD form\xE1t data: ",exception_casting:"Nelze p\u0159etypovat ",exception_casting_to:" na "},da={latex:"LaTeX",cancel:"Annuller",accept:"Inds\xE6t",manual:"Brugervejledning",insert_math:"Inds\xE6t matematisk formel - MathType",insert_chem:"Inds\xE6t en kemisk formel - ChemType",minimize:"Minimer",maximize:"Maksimer",fullscreen:"Fuld sk\xE6rm",exit_fullscreen:"Afslut Fuld sk\xE6rm",close:"Luk",mathtype:"MathType",title_modalwindow:"MathType-modalvindue",close_modal_warning:"Er du sikker p\xE5, du vil lukke? Dine \xE6ndringer g\xE5r tabt.",latex_name_label:"LaTex-formel",browser_no_compatible:"Din browser er ikke kompatibel med AJAX-teknologi. Brug den nyeste version af Mozilla Firefox.",error_convert_accessibility:"Fejl under konvertering fra MathML til tilg\xE6ngelig tekst.",exception_cross_site:"Scripts p\xE5 tv\xE6rs af websteder er kun tilladt for HTTP.",exception_high_surrogate:"Et h\xF8jt erstatningstegn er ikke fulgt af et lavt erstatningstegn i fixedCharCodeAt()",exception_string_length:"Ugyldig streng. L\xE6ngden skal v\xE6re et multiplum af 4",exception_key_nonobject:"Object.keys kaldet ved ikke-objekt",exception_null_or_undefined:" dette er nul eller ikke defineret",exception_not_function:" er ikke en funktion",exception_invalid_date_format:"Ugyldigt datoformat: ",exception_casting:"Kan ikke beregne ",exception_casting_to:" til "},de={latex:"LaTeX",cancel:"Abbrechen",accept:"Einf\xFCgen",manual:"Handbuch",insert_math:"Mathematische Formel einf\xFCgen - MathType",insert_chem:"Eine chemische Formel einf\xFCgen \u2013 ChemType",minimize:"Verkleinern",maximize:"Vergr\xF6\xDFern",fullscreen:"Vollbild",exit_fullscreen:"Vollbild schlie\xDFen",close:"Schlie\xDFen",mathtype:"MathType",title_modalwindow:"Modales MathType-Fenster",close_modal_warning:"Bist du sicher, dass du das Programm verlassen willst? Alle vorgenommenen \xC4nderungen gehen damit verloren.",latex_name_label:"Latex-Formel",browser_no_compatible:"Dein Browser ist nicht mit der AJAX-Technologie kompatibel. Verwende bitte die neueste Version von Mozilla Firefox.",error_convert_accessibility:"Fehler beim Konvertieren von MathML in barrierefreien Text.",exception_cross_site:"Cross-Site-Scripting ist nur bei HTTP zul\xE4ssig.",exception_high_surrogate:"Hoher Ersatz bei bei festerZeichenkodierungbei() nicht von niedrigem Ersatz befolgt.",exception_string_length:"Ung\xFCltige Zeichenfolge. L\xE4nge muss ein Vielfaches von 4 sein.",exception_key_nonobject:"Object.keys wurde f\xFCr ein Nicht-Objekt aufgerufen.",exception_null_or_undefined:" Das ist Null oder nicht definiert.",exception_not_function:" ist keine Funktion",exception_invalid_date_format:"Ung\xFCltiges Datumsformat: ",exception_casting:"Umwandlung nicht m\xF6glich ",exception_casting_to:" zu "},el={latex:"LaTeX",cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",accept:"\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE",manual:"\u03A7\u03B5\u03B9\u03C1\u03BF\u03BA\u03AF\u03BD\u03B7\u03C4\u03B1",insert_math:"\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03BC\u03B1\u03B8\u03B7\u03BC\u03B1\u03C4\u03B9\u03BA\u03BF\u03CD \u03C4\u03CD\u03C0\u03BF\u03C5 - MathType",insert_chem:"\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03C7\u03B7\u03BC\u03B9\u03BA\u03BF\u03CD \u03C4\u03CD\u03C0\u03BF\u03C5 - ChemType",minimize:"\u0395\u03BB\u03B1\u03C7\u03B9\u03C3\u03C4\u03BF\u03C0\u03BF\u03AF\u03B7\u03C3\u03B7",maximize:"\u039C\u03B5\u03B3\u03B9\u03C3\u03C4\u03BF\u03C0\u03BF\u03AF\u03B7\u03C3\u03B7",fullscreen:"\u03A0\u03BB\u03AE\u03C1\u03B7\u03C2 \u03BF\u03B8\u03CC\u03BD\u03B7",exit_fullscreen:"\u0388\u03BE\u03BF\u03B4\u03BF\u03C2 \u03B1\u03C0\u03CC \u03C0\u03BB\u03AE\u03C1\u03B7 \u03BF\u03B8\u03CC\u03BD\u03B7",close:"\u039A\u03BB\u03B5\u03AF\u03C3\u03B9\u03BC\u03BF",mathtype:"MathType",title_modalwindow:"\u03A4\u03C1\u03BF\u03C0\u03B9\u03BA\u03CC \u03C0\u03B1\u03C1\u03AC\u03B8\u03C5\u03C1\u03BF MathType",close_modal_warning:"\u0395\u03C0\u03B9\u03B8\u03C5\u03BC\u03B5\u03AF\u03C4\u03B5 \u03C3\u03AF\u03B3\u03BF\u03C5\u03C1\u03B1 \u03B1\u03C0\u03BF\u03C7\u03CE\u03C1\u03B7\u03C3\u03B7; \u0398\u03B1 \u03C7\u03B1\u03B8\u03BF\u03CD\u03BD \u03BF\u03B9 \u03B1\u03BB\u03BB\u03B1\u03B3\u03AD\u03C2 \u03C0\u03BF\u03C5 \u03AD\u03C7\u03B5\u03C4\u03B5 \u03BA\u03AC\u03BD\u03B5\u03B9.",latex_name_label:"\u03A4\u03CD\u03C0\u03BF\u03C2 LaTeX",browser_no_compatible:"\u03A4\u03BF \u03C0\u03C1\u03CC\u03B3\u03C1\u03B1\u03BC\u03BC\u03B1 \u03C0\u03B5\u03C1\u03B9\u03AE\u03B3\u03B7\u03C3\u03AE\u03C2 \u03C3\u03B1\u03C2 \u03B4\u03B5\u03BD \u03B5\u03AF\u03BD\u03B1\u03B9 \u03C3\u03C5\u03BC\u03B2\u03B1\u03C4\u03CC \u03BC\u03B5 \u03C4\u03B7\u03BD \u03C4\u03B5\u03C7\u03BD\u03BF\u03BB\u03BF\u03B3\u03AF\u03B1 AJAX. \u03A7\u03C1\u03B7\u03C3\u03B9\u03BC\u03BF\u03C0\u03BF\u03B9\u03AE\u03C3\u03C4\u03B5 \u03C4\u03B7\u03BD \u03C0\u03B9\u03BF \u03C0\u03C1\u03CC\u03C3\u03C6\u03B1\u03C4\u03B7 \u03AD\u03BA\u03B4\u03BF\u03C3\u03B7 \u03C4\u03BF\u03C5 Mozilla Firefox.",error_convert_accessibility:"\u03A3\u03C6\u03AC\u03BB\u03BC\u03B1 \u03BA\u03B1\u03C4\u03AC \u03C4\u03B7 \u03BC\u03B5\u03C4\u03B1\u03C4\u03C1\u03BF\u03C0\u03AE \u03B1\u03C0\u03CC MathML \u03C3\u03B5 \u03C0\u03C1\u03BF\u03C3\u03B2\u03AC\u03C3\u03B9\u03BC\u03BF \u03BA\u03B5\u03AF\u03BC\u03B5\u03BD\u03BF.",exception_cross_site:"\u03A4\u03BF XSS (Cross site scripting) \u03B5\u03C0\u03B9\u03C4\u03C1\u03AD\u03C0\u03B5\u03C4\u03B1\u03B9 \u03BC\u03CC\u03BD\u03BF \u03B3\u03B9\u03B1 HTTP.",exception_high_surrogate:"\u03A4\u03BF \u03C5\u03C8\u03B7\u03BB\u03CC \u03C5\u03C0\u03BF\u03BA\u03B1\u03C4\u03AC\u03C3\u03C4\u03B1\u03C4\u03BF \u03B4\u03B5\u03BD \u03B1\u03BA\u03BF\u03BB\u03BF\u03C5\u03B8\u03B5\u03AF\u03C4\u03B1\u03B9 \u03B1\u03C0\u03CC \u03C7\u03B1\u03BC\u03B7\u03BB\u03CC \u03C5\u03C0\u03BF\u03BA\u03B1\u03C4\u03AC\u03C3\u03C4\u03B1\u03C4\u03BF \u03C3\u03C4\u03BF fixedCharCodeAt()",exception_string_length:"\u039C\u03B7 \u03AD\u03B3\u03BA\u03C5\u03C1\u03B7 \u03C3\u03C5\u03BC\u03B2\u03BF\u03BB\u03BF\u03C3\u03B5\u03B9\u03C1\u03AC. \u03A4\u03BF \u03BC\u03AE\u03BA\u03BF\u03C2 \u03C0\u03C1\u03AD\u03C0\u03B5\u03B9 \u03BD\u03B1 \u03B5\u03AF\u03BD\u03B1\u03B9 \u03C0\u03BF\u03BB\u03BB\u03B1\u03C0\u03BB\u03AC\u03C3\u03B9\u03BF \u03C4\u03BF\u03C5 4",exception_key_nonobject:"\u0388\u03B3\u03B9\u03BD\u03B5 \u03BA\u03BB\u03AE\u03C3\u03B7 \u03C4\u03BF\u03C5 Object.keys \u03C3\u03B5 \u03BC\u03B7 \u03B1\u03BD\u03C4\u03B9\u03BA\u03B5\u03AF\u03BC\u03B5\u03BD\u03BF",exception_null_or_undefined:" \u03B1\u03C5\u03C4\u03CC \u03B5\u03AF\u03BD\u03B1\u03B9 \u03BC\u03B7\u03B4\u03B5\u03BD\u03B9\u03BA\u03CC \u03AE \u03B4\u03B5\u03BD \u03AD\u03C7\u03B5\u03B9 \u03BF\u03C1\u03B9\u03C3\u03C4\u03B5\u03AF",exception_not_function:" \u03B4\u03B5\u03BD \u03B5\u03AF\u03BD\u03B1\u03B9 \u03C3\u03C5\u03BD\u03AC\u03C1\u03C4\u03B7\u03C3\u03B7",exception_invalid_date_format:"\u039C\u03B7 \u03AD\u03B3\u03BA\u03C5\u03C1\u03B7 \u03BC\u03BF\u03C1\u03C6\u03AE \u03B7\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1\u03C2: ",exception_casting:"\u0394\u03B5\u03BD \u03B5\u03AF\u03BD\u03B1\u03B9 \u03B4\u03C5\u03BD\u03B1\u03C4\u03AE \u03B7 \u03BC\u03B5\u03C4\u03B1\u03C4\u03C1\u03BF\u03C0\u03AE ",exception_casting_to:" \u03C3\u03B5 "},en={latex:"LaTeX",cancel:"Cancel",accept:"Insert",manual:"Manual",insert_math:"Insert a math equation - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},es={latex:"LaTeX",cancel:"Cancelar",accept:"Insertar",manual:"Manual",insert_math:"Insertar f\xF3rmula matem\xE1tica - MathType",insert_chem:"Insertar f\xF3rmula qu\xEDmica - ChemType",minimize:"Minimizar",maximize:"Maximizar",fullscreen:"Pantalla completa",exit_fullscreen:"Salir de pantalla completa",close:"Cerrar",mathtype:"MathType",title_modalwindow:"Ventana modal de MathType",close_modal_warning:"Seguro que quieres cerrar? Los cambios que has hecho se perder\xE1n",latex_name_label:"Formula en Latex",browser_no_compatible:"Tu navegador no es complatible con AJAX. Por favor, usa la \xFAltima version de Mozilla Firefox.",error_convert_accessibility:"Error conviertiendo una f\xF3rmula MathML a texto accesible.",exception_cross_site:"Cross site scripting solo est\xE1 permitido para HTTP.",exception_high_surrogate:"Subrogado alto no seguido por subrogado bajo en fixedCharCodeAt()",exception_string_length:"Cadena no v\xE1lida. La longitud debe ser m\xFAltiplo de 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" esto es null o no definido",exception_not_function:" no es una funci\xF3n",exception_invalid_date_format:"Formato de fecha inv\xE1lido: ",exception_casting:"No se puede emitir",exception_casting_to:" a "},et={latex:"LaTeX",cancel:"Loobu",accept:"Lisa",manual:"K\xE4siraamat",insert_math:"Lisa matemaatiline valem \u2013 WIRIS",insert_chem:"Lisa keemiline valem \u2013 ChemType",minimize:"Minimeeri",maximize:"Maksimeeri",fullscreen:"T\xE4iskuva",exit_fullscreen:"V\xE4lju t\xE4iskuvalt",close:"Sule",mathtype:"MathType",title_modalwindow:"MathType'i modaalaken",close_modal_warning:"Kas soovite kindlasti lahkuda? Tehtud muudatused l\xE4hevad kaduma.",latex_name_label:"Latexi valem",browser_no_compatible:"Teie brauser ei \xFChildu AJAXi tehnoloogiaga. Palun kasutage Mozilla Firefoxi uusimat versiooni.",error_convert_accessibility:"T\xF5rge teisendamisel MathML-ist muudetavaks tekstiks.",exception_cross_site:"Ristskriptimine on lubatud ainult HTTP kasutamisel.",exception_high_surrogate:"Funktsioonis fixedCharCodeAt() ei j\xE4rgne k\xF5rgemale asendusliikmele madalam asendusliige.",exception_string_length:"Vigane string. Pikkus peab olema 4 kordne.",exception_key_nonobject:"Protseduur Object.keys kutsuti mitteobjekti korral.",exception_null_or_undefined:" see on null v\xF5i m\xE4\xE4ramata",exception_not_function:" ei ole funktsioon",exception_invalid_date_format:"Sobimatu kuup\xE4eva kuju: ",exception_casting:"Esitamine ei \xF5nnestu ",exception_casting_to:" \u2013 "},eu={latex:"LaTeX",cancel:"Ezeztatu",accept:"Txertatu",manual:"Gida",insert_math:"Txertatu matematikako formula - MathType",insert_chem:"Txertatu formula kimiko bat - ChemType",minimize:"Ikonotu",maximize:"Maximizatu",fullscreen:"Pantaila osoa",exit_fullscreen:"Irten pantaila osotik",close:"Itxi",mathtype:"MathType",title_modalwindow:"MathType leiho modala",close_modal_warning:"Ziur irten nahi duzula? Egiten dituzun aldaketak galdu egingo dira.",latex_name_label:"LaTex Formula",browser_no_compatible:"Zure arakatzailea ez da bateragarria AJAX teknologiarekin. Erabili Mozilla Firefoxen azken bertsioa.",error_convert_accessibility:"Errorea MathMLtik testu irisgarrira bihurtzean.",exception_cross_site:"Gune arteko scriptak HTTPrako soilik onartzen dira.",exception_high_surrogate:"Ordezko baxuak ez dio ordezko altuari jarraitzen, hemen: fixedCharCodeAt()",exception_string_length:"Kate baliogabea. Luzerak 4ren multiploa izan behar du",exception_key_nonobject:"Object.keys deitu zaio objektua ez den zerbaiti",exception_null_or_undefined:" nulua edo definitu gabea da",exception_not_function:" ez da funtzio bat",exception_invalid_date_format:"Data-formatu baliogabea : ",exception_casting:"Ezin da igorri ",exception_casting_to:" honi "},fi={latex:"LaTeX",cancel:"Peruuta",accept:"Lis\xE4\xE4",manual:"Manual",insert_math:"Liit\xE4 matemaattinen kaava - MathType",insert_chem:"Lis\xE4\xE4 kemian kaava - ChemType",minimize:"Pienenn\xE4",maximize:"Suurenna",fullscreen:"Koko ruutu",exit_fullscreen:"Poistu koko ruudun tilasta",close:"Sulje",mathtype:"MathType",title_modalwindow:"MathTypen modaalinen ikkuna",close_modal_warning:"Oletko varma, ett\xE4 haluat poistua? Menet\xE4t tekem\xE4si muutokset.",latex_name_label:"Latex-kaava",browser_no_compatible:"Selaimesi ei tue AJAX-tekniikkaa. Ole hyv\xE4 ja k\xE4yt\xE4 uusinta Firefox-versiota.",error_convert_accessibility:"Virhe muunnettaessa MathML:st\xE4 tekstiksi.",exception_cross_site:"Cross site scripting sallitaan vain HTTP:ll\xE4.",exception_high_surrogate:"fixedCharCodeAt(): yl\xE4sijaismerkki\xE4 ei seurannut alasijaismerkki",exception_string_length:"Ep\xE4kelpo merkkijono. Pituuden on oltava 4:n kerrannainen",exception_key_nonobject:"Object.keys kutsui muuta kuin oliota",exception_null_or_undefined:" t\xE4m\xE4 on null tai ei m\xE4\xE4ritelty",exception_not_function:" ei ole funktio",exception_invalid_date_format:"Virheellinen p\xE4iv\xE4m\xE4\xE4r\xE4muoto : ",exception_casting:"Ei voida muuntaa tyyppi\xE4 ",exception_casting_to:" tyyppiin "},fr={latex:"LaTeX",cancel:"Annuler",accept:"Ins\xE9rer",manual:"Manuel",insert_math:"Ins\xE9rer une formule math\xE9matique - MathType",insert_chem:"Ins\xE9rer une formule chimique - ChemType",minimize:"Minimiser",maximize:"Maximiser",fullscreen:"Plein \xE9cran",exit_fullscreen:"Quitter le plein \xE9cran",close:"Fermer",mathtype:"MathType",title_modalwindow:"Fen\xEAtre modale MathType",close_modal_warning:"Confirmez-vous vouloir fermer\xA0? Les changements effectu\xE9s seront perdus.",latex_name_label:"Formule LaTeX",browser_no_compatible:"Votre navigateur n\u2019est pas compatible avec la technologie AJAX. Veuillez utiliser la derni\xE8re version de Mozilla Firefox.",error_convert_accessibility:"Une erreur de conversion du format MathML en texte accessible est survenue.",exception_cross_site:"Le cross-site scripting n\u2019est autoris\xE9 que pour HTTP.",exception_high_surrogate:"Substitut \xE9lev\xE9 non suivi d\u2019un substitut inf\xE9rieur dans fixedCharCodeAt()",exception_string_length:"Cha\xEEne non valide. Longueur limit\xE9e aux multiples de\xA04",exception_key_nonobject:"Object.keys appel\xE9 sur un non-objet",exception_null_or_undefined:" nul ou non d\xE9fini",exception_not_function:" n\u2019est pas une fonction",exception_invalid_date_format:"Format de date non valide\xA0: ",exception_casting:"Impossible de convertir ",exception_casting_to:" sur "},gl={latex:"LaTeX",cancel:"Cancelar",accept:"Inserir",manual:"Manual",insert_math:"Inserir unha f\xF3rmula matem\xE1tica - MathType",insert_chem:"Inserir unha f\xF3rmula qu\xEDmica - ChemType",minimize:"Minimizar",maximize:"Maximizar",fullscreen:"Pantalla completa",exit_fullscreen:"Sa\xEDr da pantalla completa",close:"Pechar",mathtype:"MathType",title_modalwindow:"Vent\xE1 modal de MathType",close_modal_warning:"Seguro que quere sa\xEDr? Perderanse os cambios realizados.",latex_name_label:"F\xF3rmula Latex",browser_no_compatible:"O seu explorador non \xE9 compatible coa tecnolox\xEDa AJAX. Use a versi\xF3n m\xE1is recente de Mozilla Firefox.",error_convert_accessibility:"Erro ao converter de MathML a texto accesible.",exception_cross_site:"Os scripts de sitios s\xF3 se permiten para HTTP.",exception_high_surrogate:"Suplente superior non seguido por suplente inferior en fixedCharCodeAt()",exception_string_length:"Cadea non v\xE1lida. A lonxitude debe ser un m\xFAltiplo de 4",exception_key_nonobject:"Claves de obxecto chamadas en non obxecto",exception_null_or_undefined:" nulo ou non definido",exception_not_function:" non \xE9 unha funci\xF3n",exception_invalid_date_format:"Formato de data non v\xE1lido: ",exception_casting:"Non se pode converter ",exception_casting_to:" a "},he={latex:"LaTeX",cancel:"\u05D1\u05D9\u05D8\u05D5\u05DC",accept:"\u05E2\u05D3\u05DB\u05D5\u05DF",manual:"\u05D9\u05D3\u05E0\u05D9",insert_math:"\u05D4\u05D5\u05E1\u05E4\u05EA \u05E0\u05D5\u05E1\u05D7\u05D4 \u05DE\u05EA\u05DE\u05D8\u05D9\u05EA - MathType",insert_chem:"\u05D4\u05D5\u05E1\u05E4\u05EA \u05DB\u05EA\u05D9\u05D1\u05D4 \u05DB\u05D9\u05DE\u05D9\u05EA - ChemType",minimize:"\u05DE\u05D6\u05E2\u05E8\u05D9",maximize:"\u05DE\u05E8\u05D1\u05D9",fullscreen:"\u05DE\u05E1\u05DA \u05DE\u05DC\u05D0",exit_fullscreen:"\u05D9\u05E6\u05D9\u05D0\u05D4 \u05DE\u05DE\u05E6\u05D1 \u05DE\u05E1\u05DA \u05DE\u05DC\u05D0",close:"\u05E1\u05D2\u05D9\u05E8\u05D4",mathtype:"MathType",title_modalwindow:"\u05D7\u05DC\u05D5\u05DF \u05DE\u05D5\u05D3\u05D0\u05DC\u05D9 \u05E9\u05DC MathType",close_modal_warning:"\u05D4\u05D0\u05DD \u05DC\u05E6\u05D0\u05EA? \u05E9\u05D9\u05E0\u05D5\u05D9\u05D9\u05DD \u05D0\u05E9\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D5 \u05D9\u05DE\u05D7\u05E7\u05D5.",latex_name_label:"\u05E0\u05D5\u05E1\u05D7\u05EA Latex",browser_no_compatible:"\u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05D0\u05DD \u05DC\u05D8\u05DB\u05E0\u05D5\u05DC\u05D5\u05D2\u05D9\u05D9\u05EA AJAX. \u05D9\u05E9 \u05DC\u05D4\u05E9\u05EA\u05DE\u05E9 \u05D1\u05D2\u05E8\u05E1\u05D4 \u05D4\u05E2\u05D3\u05DB\u05E0\u05D9\u05EA \u05D1\u05D9\u05D5\u05EA\u05E8 \u05E9\u05DC Mozilla Firefox.",error_convert_accessibility:"\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D4\u05DE\u05E8\u05D4 \u05DE-MathML \u05DC\u05D8\u05E7\u05E1\u05D8 \u05E0\u05D2\u05D9\u05E9.",exception_cross_site:"\u05E1\u05E7\u05E8\u05D9\u05E4\u05D8\u05D9\u05E0\u05D2 \u05D7\u05D5\u05E6\u05D4-\u05D0\u05EA\u05E8\u05D9\u05DD \u05DE\u05D5\u05E8\u05E9\u05D4 \u05E2\u05D1\u05D5\u05E8 HTTP \u05D1\u05DC\u05D1\u05D3.",exception_high_surrogate:"\u05E2\u05E8\u05DA \u05DE\u05DE\u05DC\u05D0 \u05DE\u05E7\u05D5\u05DD \u05D2\u05D1\u05D5\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05DE\u05D5\u05E4\u05D9\u05E2 \u05D0\u05D7\u05E8\u05D9 \u05E2\u05E8\u05DA \u05DE\u05DE\u05DC\u05D0 \u05DE\u05E7\u05D5\u05DD \u05E0\u05DE\u05D5\u05DA \u05D1-fixedCharCodeAt()\u200E",exception_string_length:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05D7\u05D5\u05E7\u05D9\u05EA. \u05D4\u05D0\u05D5\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DB\u05E4\u05D5\u05DC\u05D4 \u05E9\u05DC 4",exception_key_nonobject:"\u05D1\u05D5\u05E6\u05E2\u05D4 \u05E7\u05E8\u05D9\u05D0\u05D4 \u05D0\u05DC Object.keys \u05D1\u05E8\u05DB\u05D9\u05D1 \u05E9\u05D0\u05D9\u05E0\u05D5 \u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",exception_null_or_undefined:" \u05D4\u05D5\u05D0 Null \u05D0\u05D5 \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8",exception_not_function:"\u05D0\u05D9\u05E0\u05E0\u05D4 \u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",exception_invalid_date_format:"\u05EA\u05E1\u05D3\u05D9\u05E8 \u05EA\u05D0\u05E8\u05D9\u05DA \u05D0\u05D9\u05E0\u05D5 \u05EA\u05E7\u05D9\u05DF : ",exception_casting:"\u05DC\u05D0 \u05E0\u05D9\u05EA\u05DF \u05DC\u05D4\u05DE\u05D9\u05E8 ",exception_casting_to:" \u05DC "},hr={latex:"LaTeX",cancel:"Poni\u0161ti",accept:"Umetni",manual:"Priru\u010Dnik",insert_math:"Umetnite matemati\u010Dku formulu - MathType",insert_chem:"Umetnite kemijsku formulu - ChemType",minimize:"Minimiziraj",maximize:"Maksimiziraj",fullscreen:"Cijeli zaslon",exit_fullscreen:"Izlaz iz prikaza na cijelom zaslonu",close:"Zatvori",mathtype:"MathType",title_modalwindow:"MathType modalni prozor",close_modal_warning:"Sigurno \u017Eelite zatvoriti? Izgubit \u0107e se unesene promjene.",latex_name_label:"Latex formula",browser_no_compatible:"Va\u0161 preglednik nije kompatibilan s AJAX tehnologijom. Upotrijebite najnoviju verziju Mozilla Firefoxa.",error_convert_accessibility:"Pogre\u0161ka konverzije iz MathML-a u dostupni tekst.",exception_cross_site:"Skriptiranje na razli\u010Ditim web-mjestima dopu\u0161teno je samo za HTTP.",exception_high_surrogate:"Iza visoke zamjene ne slijedi niska zamjena u fixedCharCodeAt()",exception_string_length:"Neva\u017Ee\u0107i niz. Duljina mora biti vi\u0161ekratnik broja 4",exception_key_nonobject:"Object.keys pozvano na ne-objekt",exception_null_or_undefined:" ovo je nula ili nije definirano",exception_not_function:" nije funkcija",exception_invalid_date_format:"Neva\u017Ee\u0107i format datuma : ",exception_casting:"Ne mo\u017Ee se poslati ",exception_casting_to:" na "},hu={latex:"LaTeX",cancel:"M\xE9gsem",accept:"Besz\xFAr\xE1s",manual:"K\xE9zik\xF6nyv",insert_math:"Matematikai k\xE9plet besz\xFAr\xE1sa - MathType",insert_chem:"K\xE9miai k\xE9pet beilleszt\xE9se - ChemType",minimize:"Kis m\xE9ret",maximize:"Nagy m\xE9ret",fullscreen:"Teljes k\xE9perny\u0151",exit_fullscreen:"Teljes k\xE9perny\u0151 elhagy\xE1sa",close:"Bez\xE1r\xE1s",mathtype:"MathType",title_modalwindow:"MathType mod\xE1lis ablak",close_modal_warning:"Biztosan kil\xE9p? A m\xF3dos\xEDt\xE1sok el fognak veszni.",latex_name_label:"Latex k\xE9plet",browser_no_compatible:"A b\xF6ng\xE9sz\u0151je nem kompatibilis az AJAX technol\xF3gi\xE1val. Haszn\xE1lja a Mozilla Firefox leg\xFAjabb verzi\xF3j\xE1t.",error_convert_accessibility:"Hiba l\xE9pett fel a MathML sz\xF6vegg\xE9 t\xF6rt\xE9n\u0151 konvert\xE1l\xE1sa sor\xE1n.",exception_cross_site:"Az oldalak k\xF6zti scriptel\xE9s csak HTTP eset\xE9n enged\xE9lyezett.",exception_high_surrogate:"A magas helyettes\xEDt\u0151 karaktert nem alacsony helyettes\xEDt\u0151 karakter k\xF6veti a fixedCharCodeAt() eset\xE9ben",exception_string_length:"\xC9rv\xE9nytelen karakterl\xE1nc. A hossznak a 4 t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie",exception_key_nonobject:"Az Object.keys egy nem objektumra ker\xFClt megh\xEDv\xE1sra",exception_null_or_undefined:" null vagy nem defini\xE1lt",exception_not_function:" nem f\xFCggv\xE9ny",exception_invalid_date_format:"\xC9rv\xE9nytelen d\xE1tumform\xE1tum: ",exception_casting:"Nem alkalmazhat\xF3 ",exception_casting_to:" erre "},id={latex:"LaTeX",cancel:"Membatalkan",accept:"Masukkan",manual:"Manual",insert_math:"Masukkan rumus matematika - MathType",insert_chem:"Masukkan rumus kimia - ChemType",minimize:"Minikan",maximize:"Perbesar",fullscreen:"Layar penuh",exit_fullscreen:"Keluar layar penuh",close:"Tutup",mathtype:"MathType",title_modalwindow:"Jendela modal MathType",close_modal_warning:"Anda yakin ingin keluar? Anda akan kehilangan perubahan yang Anda buat.",latex_name_label:"Rumus Latex",browser_no_compatible:"Penjelajah Anda tidak kompatibel dengan teknologi AJAX. Harap gunakan Mozilla Firefox versi terbaru.",error_convert_accessibility:"Kesalahan konversi dari MathML menjadi teks yang dapat diakses.",exception_cross_site:"Skrip lintas situs hanya diizinkan untuk HTTP.",exception_high_surrogate:"Pengganti tinggi tidak diikuti oleh pengganti rendah di fixedCharCodeAt()",exception_string_length:"String tidak valid. Panjang harus kelipatan 4",exception_key_nonobject:"Object.keys meminta nonobjek",exception_null_or_undefined:" ini tidak berlaku atau tidak didefinisikan",exception_not_function:" bukan sebuah fungsi",exception_invalid_date_format:"Format tanggal tidak valid : ",exception_casting:"Tidak dapat mentransmisikan ",exception_casting_to:" untuk "},it={latex:"LaTeX",cancel:"Annulla",accept:"Inserisci",manual:"Manuale",insert_math:"Inserisci una formula matematica - MathType",insert_chem:"Inserisci una formula chimica - ChemType",minimize:"Riduci a icona",maximize:"Ingrandisci",fullscreen:"Schermo intero",exit_fullscreen:"Esci da schermo intero",close:"Chiudi",mathtype:"MathType",title_modalwindow:"Finestra modale di MathType",close_modal_warning:"Confermi di voler uscire? Le modifiche effettuate andranno perse.",latex_name_label:"Formula LaTeX",browser_no_compatible:"Il tuo browser non \xE8 compatibile con la tecnologia AJAX. Utilizza la versione pi\xF9 recente di Mozilla Firefox.",error_convert_accessibility:"Errore durante la conversione da MathML in testo accessibile.",exception_cross_site:"Lo scripting tra siti \xE8 consentito solo per HTTP.",exception_high_surrogate:"Surrogato alto non seguito da surrogato basso in fixedCharCodeAt()",exception_string_length:"Stringa non valida. La lunghezza deve essere un multiplo di 4",exception_key_nonobject:"Metodo Object.keys richiamato in un elemento non oggetto",exception_null_or_undefined:" questo \xE8 un valore null o non definito",exception_not_function:" non \xE8 una funzione",exception_invalid_date_format:"Formato di data non valido: ",exception_casting:"Impossibile eseguire il cast ",exception_casting_to:" a "},ja={latex:"LaTeX",cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",accept:"\u633F\u5165",manual:"\u30DE\u30CB\u30E5\u30A2\u30EB",insert_math:"\u6570\u5F0F\u3092\u633F\u5165 - MathType",insert_chem:"\u5316\u5B66\u5F0F\u3092\u633F\u5165 - ChemType",minimize:"\u6700\u5C0F\u5316",maximize:"\u6700\u5927\u5316",fullscreen:"\u5168\u753B\u9762\u8868\u793A",exit_fullscreen:"\u5168\u753B\u9762\u8868\u793A\u3092\u89E3\u9664",close:"\u9589\u3058\u308B",mathtype:"MathType",title_modalwindow:"MathType \u30E2\u30FC\u30C9\u30A6\u30A3\u30F3\u30C9\u30A6",close_modal_warning:"\u3053\u306E\u30DA\u30FC\u30B8\u304B\u3089\u79FB\u52D5\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F\u5909\u66F4\u5185\u5BB9\u306F\u5931\u308F\u308C\u307E\u3059\u3002",latex_name_label:"LaTeX \u6570\u5F0F",browser_no_compatible:"\u304A\u4F7F\u3044\u306E\u30D6\u30E9\u30A6\u30B6\u306F\u3001AJAX \u6280\u8853\u3068\u4E92\u63DB\u6027\u304C\u3042\u308A\u307E\u305B\u3093\u3002Mozilla Firefox \u306E\u6700\u65B0\u30D0\u30FC\u30B8\u30E7\u30F3\u3092\u3054\u4F7F\u7528\u304F\u3060\u3055\u3044\u3002",error_convert_accessibility:"MathML \u304B\u3089\u30A2\u30AF\u30BB\u30B7\u30D6\u30EB\u306A\u30C6\u30AD\u30B9\u30C8\u3078\u306E\u5909\u63DB\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002",exception_cross_site:"\u30AF\u30ED\u30B9\u30B5\u30A4\u30C8\u30B9\u30AF\u30EA\u30D7\u30C6\u30A3\u30F3\u30B0\u306F\u3001HTTP \u306E\u307F\u306B\u8A31\u53EF\u3055\u308C\u3066\u3044\u307E\u3059\u3002",exception_high_surrogate:"fixedCharCodeAt\uFF08\uFF09\u3067\u4E0A\u4F4D\u30B5\u30ED\u30B2\u30FC\u30C8\u306E\u5F8C\u306B\u4E0B\u4F4D\u30B5\u30ED\u30B2\u30FC\u30C8\u304C\u3042\u308A\u307E\u305B\u3093",exception_string_length:"\u7121\u52B9\u306A\u6587\u5B57\u5217\u3067\u3059\u3002\u9577\u3055\u306F4\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059",exception_key_nonobject:"Object.keys \u304C\u975E\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3067\u547C\u3073\u51FA\u3055\u308C\u307E\u3057\u305F",exception_null_or_undefined:" null \u3067\u3042\u308B\u304B\u3001\u5B9A\u7FA9\u3055\u308C\u3066\u3044\u307E\u305B\u3093",exception_not_function:" \u306F\u95A2\u6570\u3067\u306F\u3042\u308A\u307E\u305B\u3093",exception_invalid_date_format:"\u7121\u52B9\u306A\u65E5\u4ED8\u5F62\u5F0F: ",exception_casting:"\u6B21\u306B\u30AD\u30E3\u30B9\u30C8 ",exception_casting_to:" \u3067\u304D\u307E\u305B\u3093 "},ko={latex:"LaTeX",cancel:"\uCDE8\uC18C",accept:"\uC0BD\uC785",manual:"\uC124\uBA85\uC11C",insert_math:"\uC218\uD559 \uACF5\uC2DD \uC0BD\uC785 - MathType",insert_chem:"\uD654\uD559 \uACF5\uC2DD \uC785\uB825\uD558\uAE30 - ChemType",minimize:"\uCD5C\uC18C\uD654",maximize:"\uCD5C\uB300\uD654",fullscreen:"\uC804\uCCB4 \uD654\uBA74",exit_fullscreen:"\uC804\uCCB4 \uD654\uBA74 \uB098\uAC00\uAE30",close:"\uB2EB\uAE30",mathtype:"MathType",title_modalwindow:"MathType \uBAA8\uB2EC \uCC3D",close_modal_warning:"\uC815\uB9D0\uB85C \uB098\uAC00\uC2DC\uACA0\uC2B5\uB2C8\uAE4C? \uBCC0\uACBD \uC0AC\uD56D\uC774 \uC190\uC2E4\uB429\uB2C8\uB2E4.",latex_name_label:"Latex \uACF5\uC2DD",browser_no_compatible:"\uC0AC\uC6A9\uC790\uC758 \uBE0C\uB77C\uC6B0\uC800\uB294 AJAX \uAE30\uC220\uACFC \uD638\uD658\uB418\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. Mozilla Firefox \uCD5C\uC2E0 \uBC84\uC804\uC744 \uC0AC\uC6A9\uD558\uC2ED\uC2DC\uC624.",error_convert_accessibility:"MathML\uB85C\uBD80\uD130 \uC811\uADFC \uAC00\uB2A5\uD55C \uD14D\uC2A4\uD2B8\uB85C \uC624\uB958 \uBCC0\uD658.",exception_cross_site:"\uC0AC\uC774\uD2B8 \uAD50\uCC28 \uC2A4\uD06C\uB9BD\uD305\uC740 HTTP \uD658\uACBD\uC5D0\uC11C\uB9CC \uC0AC\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.",exception_high_surrogate:"fixedCharCodeAt()\uC5D0\uC11C\uB294 \uC0C1\uC704 \uC11C\uB7EC\uAC8C\uC774\uD2B8 \uB4A4\uC5D0 \uD558\uC704 \uC11C\uB7EC\uAC8C\uC774\uD2B8\uAC00 \uBD99\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4",exception_string_length:"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC2A4\uD2B8\uB9C1\uC785\uB2C8\uB2E4. \uAE38\uC774\uB294 4\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4",exception_key_nonobject:"Object.keys\uAC00 non-object\uB97C \uC694\uCCAD\uD558\uC600\uC2B5\uB2C8\uB2E4",exception_null_or_undefined:" Null\uAC12\uC774\uAC70\uB098 \uC815\uC758\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4",exception_not_function:" \uD568\uC218\uAC00 \uC544\uB2D9\uB2C8\uB2E4",exception_invalid_date_format:"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uB0A0\uC9DC \uD3EC\uB9F7 : ",exception_casting:"\uCE90\uC2A4\uD305\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4 ",exception_casting_to:" (\uC73C)\uB85C "},nl={latex:"LaTeX",cancel:"Annuleren",insert_chem:"Een scheikundige formule invoegen - ChemType",minimize:"Minimaliseer",maximize:"Maximaliseer",fullscreen:"Schermvullend",exit_fullscreen:"Verlaat volledig scherm",close:"Sluit",mathtype:"MathType",title_modalwindow:"Modaal venster MathType",close_modal_warning:"Weet je zeker dat je de app wilt sluiten? De gemaakte wijzigingen gaan verloren.",latex_name_label:"LaTeX-formule",browser_no_compatible:"Je browser is niet compatibel met AJAX-technologie. Gebruik de meest recente versie van Mozilla Firefox.",error_convert_accessibility:"Fout bij conversie van MathML naar toegankelijke tekst.",exception_cross_site:"Cross-site scripting is alleen toegestaan voor HTTP.",exception_high_surrogate:"Hoog surrogaat niet gevolgd door laag surrogaat in fixedCharCodeAt()",exception_string_length:"Ongeldige tekenreeks. Lengte moet een veelvoud van 4 zijn",exception_key_nonobject:"Object.keys opgeroepen voor niet-object",exception_null_or_undefined:" dit is nul of niet gedefinieerd",exception_not_function:" is geen functie",exception_invalid_date_format:"Ongeldige datumnotatie: ",exception_casting:"Kan niet weergeven ",exception_casting_to:" op "},no={latex:"LaTeX",cancel:"Avbryt",accept:"Set inn",manual:"H\xE5ndbok",insert_math:"Sett inn matematikkformel - MathType",insert_chem:"Set inn ein kjemisk formel \u2013 ChemType",minimize:"Minimer",maximize:"Maksimer",fullscreen:"Fullskjerm",exit_fullscreen:"Avslutt fullskjerm",close:"Lukk",mathtype:"MathType",title_modalwindow:"Modalt MathType-vindu",close_modal_warning:"Er du sikker p\xE5 at du vil g\xE5 ut? Endringane du har gjort, vil g\xE5 tapt.",latex_name_label:"LaTeX-formel",browser_no_compatible:"Nettlesaren er ikkje kompatibel med AJAX-teknologien. Bruk den nyaste versjonen av Mozilla Firefox.",error_convert_accessibility:"Feil under konvertering fr\xE5 MathML til tilgjengeleg tekst.",exception_cross_site:"Skripting p\xE5 tvers av nettstadar er bere tillaten med HTTP.",exception_high_surrogate:"H\xF8gt surrogat er ikkje etterf\xF8lgt av l\xE5gt surrogat i fixedCharCodeAt()",exception_string_length:"Ugyldig streng. Lengda m\xE5 vera deleleg p\xE5 4",exception_key_nonobject:"Object.keys kalla p\xE5 eit ikkje-objekt",exception_null_or_undefined:" dette er null eller ikkje definert",exception_not_function:" er ikkje ein funksjon",exception_invalid_date_format:"Ugyldig datoformat: ",exception_casting:"Kan ikkje bruka casting ",exception_casting_to:" til "},nb={latex:"LaTeX",cancel:"Avbryt",accept:"Insert",manual:"H\xE5ndbok",insert_math:"Sett inn matematikkformel - MathType",insert_chem:"Sett inn en kjemisk formel \u2013 ChemType",minimize:"Minimer",maximize:"Maksimer",fullscreen:"Fullskjerm",exit_fullscreen:"Avslutt fullskjerm",close:"Lukk",mathtype:"MathType",title_modalwindow:"Modalt MathType-vindu",close_modal_warning:"Er du sikker p\xE5 at du vil g\xE5 ut? Endringene du har gjort, vil g\xE5 tapt.",latex_name_label:"LaTeX-formel",browser_no_compatible:"Nettleseren er ikke kompatibel med AJAX-teknologien. Bruk den nyeste versjonen av Mozilla Firefox.",error_convert_accessibility:"Feil under konvertering fra MathML til tilgjengelig tekst.",exception_cross_site:"Skripting p\xE5 tvers av nettsteder er bare tillatt med HTTP.",exception_high_surrogate:"H\xF8yt surrogat etterf\xF8lges ikke av lavt surrogat i fixedCharCodeAt()",exception_string_length:"Ugyldig streng. Lengden m\xE5 v\xE6re delelig p\xE5 4",exception_key_nonobject:"Object.keys kalte p\xE5 et ikke-objekt",exception_null_or_undefined:" dette er null eller ikke definert",exception_not_function:" er ikke en funksjon",exception_invalid_date_format:"Ugyldig datoformat: ",exception_casting:"Kan ikke bruke casting ",exception_casting_to:" til "},nn={latex:"LaTeX",cancel:"Avbryt",accept:"Set inn",manual:"H\xE5ndbok",insert_math:"Sett inn matematikkformel - MathType",insert_chem:"Set inn ein kjemisk formel \u2013 ChemType",minimize:"Minimer",maximize:"Maksimer",fullscreen:"Fullskjerm",exit_fullscreen:"Avslutt fullskjerm",close:"Lukk",mathtype:"MathType",title_modalwindow:"Modalt MathType-vindu",close_modal_warning:"Er du sikker p\xE5 at du vil g\xE5 ut? Endringane du har gjort, vil g\xE5 tapt.",latex_name_label:"LaTeX-formel",browser_no_compatible:"Nettlesaren er ikkje kompatibel med AJAX-teknologien. Bruk den nyaste versjonen av Mozilla Firefox.",error_convert_accessibility:"Feil under konvertering fr\xE5 MathML til tilgjengeleg tekst.",exception_cross_site:"Skripting p\xE5 tvers av nettstadar er bere tillaten med HTTP.",exception_high_surrogate:"H\xF8gt surrogat er ikkje etterf\xF8lgt av l\xE5gt surrogat i fixedCharCodeAt()",exception_string_length:"Ugyldig streng. Lengda m\xE5 vera deleleg p\xE5 4",exception_key_nonobject:"Object.keys kalla p\xE5 eit ikkje-objekt",exception_null_or_undefined:" dette er null eller ikkje definert",exception_not_function:" er ikkje ein funksjon",exception_invalid_date_format:"Ugyldig datoformat: ",exception_casting:"Kan ikkje bruka casting ",exception_casting_to:" til "},pl={latex:"LaTeX",cancel:"Anuluj",accept:"Wstaw",manual:"Instrukcja",insert_math:"Wstaw formu\u0142\u0119 matematyczn\u0105 - MathType",insert_chem:"Wstaw wz\xF3r chemiczny\xA0\u2014 ChemType",minimize:"Minimalizuj",maximize:"Maksymalizuj",fullscreen:"Pe\u0142ny ekran",exit_fullscreen:"Opu\u015B\u0107 tryb pe\u0142noekranowy",close:"Zamknij",mathtype:"MathType",title_modalwindow:"Okno modalne MathType",close_modal_warning:"Czy na pewno chcesz zamkn\u0105\u0107? Wprowadzone zmiany zostan\u0105 utracone.",latex_name_label:"Wz\xF3r Latex",browser_no_compatible:"Twoja przegl\u0105darka jest niezgodna z\xA0technologi\u0105 AJAX U\u017Cyj najnowszej wersji Mozilla Firefox.",error_convert_accessibility:"B\u0142\u0105d podczas konwertowania z\xA0formatu MathML na dost\u0119pny tekst.",exception_cross_site:"Krzy\u017Cowanie skrypt\xF3w witryny jest dozwolone tylko dla HTTP.",exception_high_surrogate:"Brak niskiego surogatu po wysokim surogacie w\xA0fixedCharCodeAt()",exception_string_length:"Niew\u0142a\u015Bciwy ci\u0105g znak\xF3w. D\u0142ugo\u015B\u0107 musi by\u0107 wielokrotno\u015Bci\u0105 liczby 4.",exception_key_nonobject:"Argumentem wywo\u0142anej funkcji Object.key nie jest obiekt.",exception_null_or_undefined:" jest zerowy lub niezdefiniowany",exception_not_function:" nie jest funkcj\u0105",exception_invalid_date_format:"Nieprawid\u0142owy format daty: ",exception_casting:"Nie mo\u017Cna rzutowa\u0107 ",exception_casting_to:" na "},pt={latex:"LaTeX",cancel:"Cancelar",accept:"Inserir",manual:"Manual",insert_math:"Inserir f\xF3rmula matem\xE1tica - MathType",insert_chem:"Inserir uma f\xF3rmula qu\xEDmica - ChemType",minimize:"Minimizar",maximize:"Maximizar",fullscreen:"Ecr\xE3 completo",exit_fullscreen:"Sair do ecr\xE3 completo",close:"Fechar",mathtype:"MathType",title_modalwindow:"Janela modal do MathType",close_modal_warning:"Pretende sair? As altera\xE7\xF5es efetuadas ser\xE3o perdidas.",latex_name_label:"F\xF3rmula Latex",browser_no_compatible:"O seu navegador n\xE3o \xE9 compat\xEDvel com a tecnologia AJAX. Utilize a vers\xE3o mais recente do Mozilla Firefox.",error_convert_accessibility:"Erro ao converter de MathML para texto acess\xEDvel.",exception_cross_site:"O processamento de scripts em v\xE1rios sites s\xF3 \xE9 permitido para HTTP.",exception_high_surrogate:"Substituto alto n\xE3o seguido por um substituto baixo em fixedCharCodeAt()",exception_string_length:"Cadeia inv\xE1lida. O comprimento tem de ser um m\xFAltiplo de 4",exception_key_nonobject:"Object.keys chamou um n\xE3o-objeto",exception_null_or_undefined:" \xE9 nulo ou n\xE3o est\xE1 definido",exception_not_function:" n\xE3o \xE9 uma fun\xE7\xE3o",exception_invalid_date_format:"Formato de data inv\xE1lido: ",exception_casting:"N\xE3o \xE9 poss\xEDvel adicionar ",exception_casting_to:" at\xE9 "},pt_br={latex:"LaTeX",cancel:"Cancelar",accept:"Inserir",manual:"Manual",insert_math:"Inserir f\xF3rmula matem\xE1tica - MathType",insert_chem:"Insira uma f\xF3rmula qu\xEDmica - ChemType",minimize:"Minimizar",maximize:"Maximizar",fullscreen:"Tela cheia",exit_fullscreen:"Sair de tela cheia",close:"Fechar",mathtype:"MathType",title_modalwindow:"Janela modal do MathType",close_modal_warning:"Tem certeza de que deseja sair? Todas as altera\xE7\xF5es ser\xE3o perdidas.",latex_name_label:"F\xF3rmula LaTeX",browser_no_compatible:"O navegador n\xE3o \xE9 compat\xEDvel com a tecnologia AJAX. Use a vers\xE3o mais recente do Mozilla Firefox.",error_convert_accessibility:"Erro ao converter de MathML para texto acess\xEDvel.",exception_cross_site:"O uso de scripts entre sites s\xF3 \xE9 permitido para HTTP.",exception_high_surrogate:"High surrogate n\xE3o seguido de low surrogate em fixedCharCodeAt()",exception_string_length:"String inv\xE1lida. O comprimento deve ser um m\xFAltiplo de 4",exception_key_nonobject:"Object.keys chamados em n\xE3o objeto",exception_null_or_undefined:" isto \xE9 nulo ou n\xE3o definido",exception_not_function:" n\xE3o \xE9 uma fun\xE7\xE3o",exception_invalid_date_format:"Formato de data inv\xE1lido: ",exception_casting:"N\xE3o \xE9 poss\xEDvel transmitir ",exception_casting_to:" para "},ro={latex:"LaTeX",cancel:"Anulare",accept:"Insera\u021Bi",manual:"Ghid",insert_math:"Insera\u021Bi o formul\u0103 matematic\u0103 - MathType",insert_chem:"Insera\u021Bi o formul\u0103 chimic\u0103 - ChemType",minimize:"Minimiza\u021Bi",maximize:"Maximiza\u021Bi",fullscreen:"Afi\u0219a\u021Bi pe tot ecranul",exit_fullscreen:"Opri\u021Bi afi\u0219area pe tot ecranul",close:"\xCEnchide\u021Bi",mathtype:"MathType",title_modalwindow:"Fereastr\u0103 modal\u0103 MathType",close_modal_warning:"Sigur dori\u021Bi s\u0103 ie\u0219i\u021Bi? Modific\u0103rile realizate se vor pierde.",latex_name_label:"Formul\u0103 Latex",browser_no_compatible:"Browserul dvs. nu este compatibil cu tehnologia AJAX. Utiliza\u021Bi cea mai recent\u0103 versiune de Mozilla Firefox.",error_convert_accessibility:"Eroare la convertirea din MathML \xEEn text accesibil.",exception_cross_site:"Scriptarea \xEEntre site\u2011uri este permis\u0103 doar pentru HTTP.",exception_high_surrogate:"Surogatul superior nu este urmat de un surogat inferior \xEEn fixedCharCodeAt()",exception_string_length:"\u0218ir nevalid. Lungimea trebuie s\u0103 fie multiplu de 4",exception_key_nonobject:"Object.keys a apelat un non-obiect",exception_null_or_undefined:" este null sau nu este definit",exception_not_function:" nu este func\u021Bie",exception_invalid_date_format:"Format de dat\u0103 nevalid: ",exception_casting:"nu se poate difuza ",exception_casting_to:" c\u0103tre "},ru={latex:"LaTeX",cancel:"\u043E\u0442\u043C\u0435\u043D\u0430",accept:"\u0412\u0441\u0442\u0430\u0432\u043A\u0430",manual:"\u0432\u0440\u0443\u0447\u043D\u0443\u044E",insert_math:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0442\u0435\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0443\u044E \u0444\u043E\u0440\u043C\u0443\u043B\u0443: WIRIS",insert_chem:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u0445\u0438\u043C\u0438\u0447\u0435\u0441\u043A\u0443\u044E \u0444\u043E\u0440\u043C\u0443\u043B\u0443\xA0\u2014 ChemType",minimize:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C",maximize:"\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C",fullscreen:"\u041D\u0430 \u0432\u0435\u0441\u044C \u044D\u043A\u0440\u0430\u043D",exit_fullscreen:"\u0412\u044B\u0439\u0442\u0438 \u0438\u0437 \u043F\u043E\u043B\u043D\u043E\u044D\u043A\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u0440\u0435\u0436\u0438\u043C\u0430",close:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",mathtype:"MathType",title_modalwindow:"\u0420\u0435\u0436\u0438\u043C\u043D\u043E\u0435 \u043E\u043A\u043D\u043E MathType",close_modal_warning:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0432\u044B\u0439\u0442\u0438? \u0412\u0441\u0435 \u0432\u043D\u0435\u0441\u0435\u043D\u043D\u044B\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0431\u0443\u0434\u0443\u0442 \u0443\u0442\u0440\u0430\u0447\u0435\u043D\u044B.",latex_name_label:"\u0424\u043E\u0440\u043C\u0443\u043B\u0430 Latex",browser_no_compatible:"\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043D\u0435\u0441\u043E\u0432\u043C\u0435\u0441\u0442\u0438\u043C \u0441 \u0442\u0435\u0445\u043D\u043E\u043B\u043E\u0433\u0438\u0435\u0439 AJAX. \u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u044E\u044E \u0432\u0435\u0440\u0441\u0438\u044E Mozilla\xA0Firefox.",error_convert_accessibility:"\u041F\u0440\u0438 \u043F\u0440\u0435\u043E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\u0438\u0438 \u0444\u043E\u0440\u043C\u0443\u043B\u044B \u0432 \u0442\u0435\u043A\u0441\u0442 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u043E\u0433\u043E \u0444\u043E\u0440\u043C\u0430\u0442\u0430 \u043F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430.",exception_cross_site:"\u041C\u0435\u0436\u0441\u0430\u0439\u0442\u043E\u0432\u044B\u0435 \u0441\u0446\u0435\u043D\u0430\u0440\u0438\u0438 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F HTTP.",exception_high_surrogate:"\u041C\u043B\u0430\u0434\u0448\u0438\u0439 \u0441\u0438\u043C\u0432\u043E\u043B-\u0437\u0430\u043C\u0435\u0441\u0442\u0438\u0442\u0435\u043B\u044C \u043D\u0435 \u0441\u043E\u043F\u0440\u043E\u0432\u043E\u0436\u0434\u0430\u0435\u0442 \u0441\u0442\u0430\u0440\u0448\u0438\u0439 \u0441\u0438\u043C\u0432\u043E\u043B-\u0437\u0430\u043C\u0435\u0441\u0442\u0438\u0442\u0435\u043B\u044C \u0432 \u0438\u0441\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043D\u043E\u043C \u043C\u0435\u0442\u043E\u0434\u0435 CharCodeAt()",exception_string_length:"\u041D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430. \u0414\u043B\u0438\u043D\u043D\u0430 \u0434\u043E\u043B\u0436\u043D\u0430 \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u043E\u0439 4.",exception_key_nonobject:"\u041C\u0435\u0442\u043E\u0434 Object.keys \u0432\u044B\u0437\u0432\u0430\u043D \u043D\u0435 \u0434\u043B\u044F \u043E\u0431\u044A\u0435\u043A\u0442\u0430",exception_null_or_undefined:" \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u0443\u0441\u0442\u043E\u0435 \u0438\u043B\u0438 \u043D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u043E",exception_not_function:" \u043D\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u044F",exception_invalid_date_format:"\u041D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0434\u0430\u0442\u044B: ",exception_casting:"\u041D\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044F \u043F\u0440\u0438\u0432\u0435\u0441\u0442\u0438 ",exception_casting_to:" \u043A "},sv={latex:"LaTeX",cancel:"Avbryt",accept:"Infoga",manual:"Bruksanvisning",insert_math:"Infoga matematisk formel - MathType",insert_chem:"Infoga en kemiformel \u2013 ChemType",minimize:"Minimera",maximize:"Maximera",fullscreen:"Helsk\xE4rm",exit_fullscreen:"St\xE4ng helsk\xE4rm",close:"St\xE4ng",mathtype:"MathType",title_modalwindow:"MathType modulf\xF6nster",close_modal_warning:"Vill du avsluta? Inga \xE4ndringar kommer att sparas.",latex_name_label:"Latex-formel",browser_no_compatible:"Din webbl\xE4sare \xE4r inte kompatibel med AJAX-teknik. Anv\xE4nd den senaste versionen av Mozilla Firefox.",error_convert_accessibility:"Det uppstod ett fel vid konvertering fr\xE5n MathML till \xE5tkomlig text.",exception_cross_site:"Skriptk\xF6rning \xF6ver flera sajter \xE4r endast till\xE5tet f\xF6r HTTP.",exception_high_surrogate:"H\xF6g surrogat f\xF6ljs inte av l\xE5g surrogat i fixedCharCodeAt()",exception_string_length:"Ogiltig str\xE4ng. L\xE4ngden m\xE5ste vara en multipel av 4",exception_key_nonobject:"Object.keys anropade icke-objekt",exception_null_or_undefined:" det \xE4r null eller inte definierat",exception_not_function:" \xE4r inte en funktion",exception_invalid_date_format:"Ogiltigt datumformat: ",exception_casting:"G\xE5r inte att konvertera ",exception_casting_to:" till "},tr={latex:"LaTeX",cancel:"Vazge\xE7",accept:"Ekle",manual:"K\u0131lavuz",insert_math:"Matematik form\xFCl\xFC ekle - MathType",insert_chem:"Kimya form\xFCl\xFC ekleyin - ChemType",minimize:"Simge Durumuna K\xFC\xE7\xFClt",maximize:"Ekran\u0131 Kapla",fullscreen:"Tam Ekran",exit_fullscreen:"Tam Ekrandan \xC7\u0131k",close:"Kapat",mathtype:"MathType",title_modalwindow:"MathType kal\u0131c\u0131 penceresi",close_modal_warning:"\xC7\u0131kmak istedi\u011Finizden emin misiniz? Yapt\u0131\u011F\u0131n\u0131z de\u011Fi\u015Fiklikler kaybolacak.",latex_name_label:"Latex Form\xFCl\xFC",browser_no_compatible:"Taray\u0131c\u0131n\u0131z AJAX teknolojisiyle uyumlu de\u011Fil. L\xFCtfen en g\xFCncel Mozilla Firefox s\xFCr\xFCm\xFCn\xFC kullan\u0131n.",error_convert_accessibility:"MathML bi\xE7iminden eri\u015Filebilir metne d\xF6n\xFC\u015Ft\xFCrme hatas\u0131.",exception_cross_site:"Siteler aras\u0131 komut dosyas\u0131 yazma i\u015Flemine yaln\u0131zca HTTP i\xE7in izin verilir.",exception_high_surrogate:"fixedCharCodeAt() fonksiyonunda \xFCst vekilin ard\u0131ndan alt vekil gelmiyor",exception_string_length:"Ge\xE7ersiz dizgi. Uzunluk, 4'\xFCn katlar\u0131ndan biri olmal\u0131d\u0131r",exception_key_nonobject:"Nesne olmayan \xF6\u011Fe \xFCzerinde Object.keys \xE7a\u011Fr\u0131ld\u0131",exception_null_or_undefined:" bu de\u011Fer bo\u015F veya tan\u0131mlanmam\u0131\u015F",exception_not_function:" bir fonksiyon de\u011Fil",exception_invalid_date_format:"Ge\xE7ersiz tarih bi\xE7imi: ",exception_casting:"T\xFCr d\xF6n\xFC\u015Ft\xFCr\xFClemiyor ",exception_casting_to:" hedef: "},zh={latex:"LaTeX",cancel:"\u53D6\u6D88",accept:"\u63D2\u5165",manual:"\u624B\u518C",insert_math:"\u63D2\u5165\u6570\u5B66\u516C\u5F0F - MathType",insert_chem:"\u63D2\u5165\u5316\u5B66\u5206\u5B50\u5F0F - ChemType",minimize:"\u6700\u5C0F\u5316",maximize:"\u6700\u5927\u5316",fullscreen:"\u5168\u5C4F\u5E55",exit_fullscreen:"\u9000\u51FA\u5168\u5C4F\u5E55",close:"\u5173\u95ED",mathtype:"MathType",title_modalwindow:"MathType \u6A21\u5F0F\u7A97\u53E3",close_modal_warning:"\u60A8\u786E\u5B9A\u8981\u79BB\u5F00\u5417\uFF1F\u60A8\u6240\u505A\u7684\u4FEE\u6539\u5C06\u4E22\u5931\u3002",latex_name_label:"Latex \u5206\u5B50\u5F0F",browser_no_compatible:"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u517C\u5BB9 AJAX \u6280\u672F\u3002\u8BF7\u4F7F\u7528\u6700\u65B0\u7248 Mozilla Firefox\u3002",error_convert_accessibility:"\u5C06 MathML \u8F6C\u6362\u4E3A\u53EF\u8BBF\u95EE\u6587\u672C\u65F6\u51FA\u9519\u3002",exception_cross_site:"\u4EC5 HTTP \u5141\u8BB8\u8DE8\u7AD9\u811A\u672C\u3002",exception_high_surrogate:"fixedCharCodeAt() \u4E2D\u7684\u9AD8\u4F4D\u4EE3\u7406\u4E4B\u540E\u672A\u8DDF\u968F\u4F4E\u4F4D\u4EE3\u7406",exception_string_length:"\u65E0\u6548\u5B57\u7B26\u4E32\u3002\u957F\u5EA6\u5FC5\u987B\u662F 4 \u7684\u500D\u6570",exception_key_nonobject:"\u975E\u5BF9\u8C61\u8C03\u7528\u4E86 Object.keys",exception_null_or_undefined:" \u8BE5\u503C\u4E3A\u7A7A\u6216\u672A\u5B9A\u4E49",exception_not_function:" \u4E0D\u662F\u4E00\u4E2A\u51FD\u6570",exception_invalid_date_format:"\u65E0\u6548\u65E5\u671F\u683C\u5F0F\uFF1A ",exception_casting:"\u65E0\u6CD5\u8F6C\u6362 ",exception_casting_to:" \u4E3A "},translations={ar,ca,cs,da,de,el,en,es,et,eu,fi,fr,gl,he,hr,hu,id,it,ja,ko,nl,no,nb,nn,pl,pt,pt_br,ro,ru,sv,tr,zh,"":{}};class StringManager{constructor(){throw new Error("Static class StringManager can not be instantiated.")}static get(e,t){let{language:i}=this;return t&&(i=t),i&&i.length>2&&(i=i.slice(0,2)),this.strings.hasOwnProperty(i)||(console.warn(`Unknown language ${i} set in StringManager.`),i="en"),this.strings[i].hasOwnProperty(e)?this.strings[i][e]:(console.warn(`Unknown key ${e} for language ${i} in StringManager.`),e)}}StringManager.strings=translations;StringManager.language="en";class Util{static fireEvent(e,t){if(document.createEvent){const n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!0),!e.dispatchEvent(n)}const i=document.createEventObject();return e.fireEvent(`on${t}`,i)}static addEvent(e,t,i){e.addEventListener?e.addEventListener(t,i,!0):e.attachEvent&&e.attachEvent(`on${t}`,i)}static removeEvent(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!0):e.detachEvent&&e.detachEvent(`on${t}`,i)}static addElementEvents(e,t,i,n){t&&(this.callbackDblclick=r=>{const o=r||window.event,l=o.srcElement?o.srcElement:o.target;t(l,o)},Util.addEvent(e,"dblclick",this.callbackDblclick)),i&&(this.callbackMousedown=r=>{const o=r||window.event,l=o.srcElement?o.srcElement:o.target;i(l,o)},Util.addEvent(e,"mousedown",this.callbackMousedown)),n&&(this.callbackMouseup=r=>{const o=r||window.event,l=o.srcElement?o.srcElement:o.target;n(l,o)},Util.addEvent(document,"mouseup",this.callbackMouseup),Util.addEvent(e,"mouseup",this.callbackMouseup))}static removeElementEvents(e){Util.removeEvent(e,"dblclick",this.callbackDblclick),Util.removeEvent(e,"mousedown",this.callbackMousedown),Util.removeEvent(document,"mouseup",this.callbackMouseup),Util.removeEvent(e,"mouseup",this.callbackMouseup)}static addClass(e,t){Util.containsClass(e,t)||(e.className+=` ${t}`)}static containsClass(e,t){if(e==null||!("className"in e))return!1;const i=e.className.split(" ");for(let n=i.length-1;n>=0;n-=1)if(i[n]===t)return!0;return!1}static removeClass(e,t){let i="";const n=e.className.split(" ");for(let r=0;r<n.length;r+=1)n[r]!==t&&(i+=`${n[r]} `);e.className=i.trim()}static convertOldXmlinitialtextAttribute(e){const t="value=",i=e.indexOf("xmlinitialtext"),n=e.indexOf(t,i),r=e.charAt(n+t.length),o=n+t.length+1,l=e.indexOf(r,o),c=e.substring(o,l);let d=c.split("\xAB").join("\xA7lt;");return d=d.split("\xBB").join("\xA7gt;"),d=d.split("&").join("\xA7"),d=d.split("\xA8").join("\xA7quot;"),e=e.split(c).join(d),e}static convertStringToObject(e){return!e||typeof e!="string"?{}:e.split(",").map(t=>t.trim().split("=")).reduce((t,[i,n])=>(i&&n&&(t[i]=n),t),{})}static createElement(e,t,i){t===void 0&&(t={}),i===void 0&&(i=document);let n;try{let r=`<${e}`;Object.keys(t).forEach(o=>{r+=` ${o}="${Util.htmlEntities(t[o])}"`}),r+=">",n=i.createElement(r)}catch{n=i.createElement(e),Object.keys(t).forEach(o=>{n.setAttribute(o,t[o])})}return n}static createObject(e,t){t===void 0&&(t=document),e=e.split("<applet ").join('<span wirisObject="WirisApplet" ').split("<APPLET ").join('<span wirisObject="WirisApplet" '),e=e.split("</applet>").join("</span>").split("</APPLET>").join("</span>"),e=e.split("<param ").join('<br wirisObject="WirisParam" ').split("<PARAM ").join('<br wirisObject="WirisParam" '),e=e.split("</param>").join("</br>").split("</PARAM>").join("</br>");const i=Util.createElement("div",{},t);i.innerHTML=e;function n(r){if(r.getAttribute&&r.getAttribute("wirisObject")==="WirisParam"){const o={};for(let c=0;c<r.attributes.length;c+=1)r.attributes[c].nodeValue!==null&&(o[r.attributes[c].nodeName]=r.attributes[c].nodeValue);const l=Util.createElement("param",o,t);l.NAME&&(l.name=l.NAME,l.value=l.VALUE),l.removeAttribute("wirisObject"),r.parentNode.replaceChild(l,r)}else if(r.getAttribute&&r.getAttribute("wirisObject")==="WirisApplet"){const o={};for(let c=0;c<r.attributes.length;c+=1)r.attributes[c].nodeValue!==null&&(o[r.attributes[c].nodeName]=r.attributes[c].nodeValue);const l=Util.createElement("applet",o,t);l.removeAttribute("wirisObject");for(let c=0;c<r.childNodes.length;c+=1)n(r.childNodes[c]),r.childNodes[c].nodeName.toLowerCase()==="param"&&(l.appendChild(r.childNodes[c]),c-=1);r.parentNode.replaceChild(l,r)}else for(let o=0;o<r.childNodes.length;o+=1)n(r.childNodes[o])}return n(i),i.firstChild}static createObjectCode(e){if(typeof e>"u"||e===null)return null;if(e.nodeType===1){let t=`<${e.tagName}`;for(let i=0;i<e.attributes.length;i+=1)e.attributes[i].specified&&(t+=` ${e.attributes[i].name}="${Util.htmlEntities(e.attributes[i].value)}"`);if(e.childNodes.length>0){t+=">";for(let i=0;i<e.childNodes.length;i+=1)t+=Util.createObject(e.childNodes[i]);t+=`</${e.tagName}>`}else e.nodeName==="DIV"||e.nodeName==="SCRIPT"?t+=`></${e.tagName}>`:t+="/>";return t}return e.nodeType===3?Util.htmlEntities(e.nodeValue):""}static concatenateUrl(e,t){let i="";return e.indexOf("/")!==e.length&&t.indexOf("/")!==0&&(i="/"),(e+i+t).replace(/([^:]\/)\/+/g,"$1")}static htmlEntities(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")}static htmlSanitize(e){let t=/\<annotation.+\<\/annotation\>/,i=e.match(t);return e=purify.sanitize(e,{ADD_TAGS:["semantics","annotation","mstack","msline","msrow"],ADD_ATTR:["linebreak","charalign","stackalign"]}),e.replace(t,i)}static htmlEntitiesDecode(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}static createHttpRequest(){if(window.location.toString().substr(0,window.location.toString().lastIndexOf("/")+1).substr(0,7)==="file://")throw StringManager.get("exception_cross_site");if(typeof XMLHttpRequest<"u")return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{return null}}}static httpBuildQuery(e){let t="";return Object.keys(e).forEach(i=>{e[i]!=null&&(t+=`${Util.urlEncode(i)}=${Util.urlEncode(e[i])}&`)}),t.substring(t.length-1)==="&"&&(t=t.substring(0,t.length-1)),t}static propertiesToString(e){const t=[];Object.keys(e).forEach(r=>{Object.prototype.hasOwnProperty.call(e,r)&&t.push(r)});const i=t.length;for(let r=0;r<i;r+=1)for(let o=r+1;o<i;o+=1){const l=t[r],c=t[o];Util.compareStrings(l,c)>0&&(t[r]=c,t[o]=l)}let n="";for(let r=0;r<i;r+=1){const o=t[r];n+=o,n+="=";let l=e[o];l=l.replace("\\","\\\\"),l=l.replace(`
`,"\\n"),l=l.replace("\r","\\r"),l=l.replace("	","\\t"),n+=l,n+=`
`}return n}static compareStrings(e,t){let i;const n=e.length,r=t.length,o=n>r?r:n;for(i=0;i<o;i+=1){const l=Util.fixedCharCodeAt(e,i)-Util.fixedCharCodeAt(t,i);if(l!==0)return l}return e.length-t.length}static fixedCharCodeAt(e,t){t=t||0;const i=e.charCodeAt(t);let n,r;if(i>=55296&&i<=56319){if(n=i,r=e.charCodeAt(t+1),Number.isNaN(r))throw StringManager.get("exception_high_surrogate");return(n-55296)*1024+(r-56320)+65536}return i>=56320&&i<=57343?!1:i}static urlToAssArray(e){let t;if(t=e.indexOf("?"),t>0){const n=e.substring(t+1).split("&"),r={};for(t=0;t<n.length;t+=1){const l=n[t].split("=");l.length>1&&(r[l[0]]=decodeURIComponent(l[1].replace(/\+/g," ")))}return r}return{}}static urlEncode(e){let t="";return t=encodeURIComponent(e),t}static getWIRISImageOutput(e,t,i){const n=Util.createObject(e);if(n&&(n.className===Configuration.get("imageClassName")||n.getAttribute(Configuration.get("imageMathmlAttribute")))){if(!t)return e;const r=n.getAttribute(Configuration.get("imageMathmlAttribute"));let o=MathML.safeXmlDecode(r);return Configuration.get("saveHandTraces")||(o=MathML.removeAnnotation(o,"application/json")),o==null&&(o=n.getAttribute("alt")),i?MathML.safeXmlEncode(o):o}return e}static getNodeLength(e){const t={IMG:1,BR:1};if(e.nodeType===3)return e.nodeValue.length;if(e.nodeType===1){let i=t[e.nodeName.toUpperCase()];i===void 0&&(i=0);for(let n=0;n<e.childNodes.length;n+=1)i+=Util.getNodeLength(e.childNodes[n]);return i}return 0}static getSelectedItem(e,t,i){var o,l,c;let n;if(t?(n=e.contentWindow,n.focus()):(n=window,e.focus()),document.selection&&!i){const d=n.document.selection.createRange();if(d.parentElement){if(d.htmlText.length>0)return d.text.length===0?Util.getSelectedItem(e,t,!0):null;n.document.execCommand("InsertImage",!1,"#");let a=d.parentElement();a.nodeName.toUpperCase()!=="IMG"&&(d.pasteHTML('<span id="wrs_openEditorWindow_temporalObject"></span>'),a=n.document.getElementById("wrs_openEditorWindow_temporalObject"));let m,h;return a.nextSibling&&a.nextSibling.nodeType===3?(m=a.nextSibling,h=0):a.previousSibling&&a.previousSibling.nodeType===3?(m=a.previousSibling,h=m.nodeValue.length):(m=n.document.createTextNode(""),a.parentNode.insertBefore(m,a),h=0),a.parentNode.removeChild(a),{node:m,caretPosition:h}}return d.length>1?null:{node:d.item(0)}}if(n.getSelection){let d;const a=n.getSelection();try{d=a.getRangeAt(0)}catch{d=n.document.createRange()}const m=d.startContainer;if(m.nodeType===3)return{node:m,caretPosition:d.startOffset};if(m!==d.endContainer)return null;if(m.nodeType===1){const h=d.startOffset;if(m.childNodes[h]){if(d.startOffset===d.endOffset){if(h!==0&&m.childNodes[h-1].localName==="span"&&((o=m.childNodes[h].classList)==null?void 0:o.contains("Wirisformula")))return m.childNodes[h-1].remove(),Util.getSelectedItem(e,t,i);if((l=m.childNodes[h].classList)!=null&&l.contains("Wirisformula")&&(h>0&&((c=m.childNodes[h-1].classList)==null?void 0:c.contains("Wirisformula"))||h===0)){var r=document.createElement("span");return m.insertBefore(r,m.childNodes[h]),{node:m.childNodes[h]}}}return{node:m.childNodes[h]}}}}return null}static getSelectedItemOnTextarea(e){const t=document.createTextNode(e.value),i=Latex.getLatexFromTextNode(t,e.selectionStart);return i===null?null:{node:t,caretPosition:e.selectionStart,startPosition:i.startPosition,endPosition:i.endPosition}}static getElementsByNameFromString(e,t,i){const n=[];e=e.toLowerCase(),t=t.toLowerCase();let r=e.indexOf(`<${t} `);for(;r!==-1;){let o;i?o=">":o=`</${t}>`;let l=e.indexOf(o,r);l!==-1?(l+=o.length,n.push({start:r,end:l})):l=r+1,r=e.indexOf(`<${t} `,l)}return n}static decode64(e){const t="+".charCodeAt(0),i="/".charCodeAt(0),n="0".charCodeAt(0),r="a".charCodeAt(0),o="A".charCodeAt(0),l="-".charCodeAt(0),c="_".charCodeAt(0),d=e.charCodeAt(0);return d===t||d===l?62:d===i||d===c?63:d<n?-1:d<n+10?d-n+26+26:d<o+26?d-o:d<r+26?d-r+26:null}static b64ToByteArray(e,t){let i;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");const n=[];let r,o;t?r=t:(e.charAt(e.length-2)==="="?o=2:e.charAt(e.length-1)==="="?o=1:o=0,r=o>0?e.length-4:e.length);let l;for(l=0;l<r;l+=4)i=Util.decode64(e.charAt(l))<<18|Util.decode64(e.charAt(l+1))<<12|Util.decode64(e.charAt(l+2))<<6|Util.decode64(e.charAt(l+3)),n.push(i>>16&255),n.push(i>>8&255),n.push(i&255);return o&&(o===2?(i=Util.decode64(e.charAt(l))<<2|Util.decode64(e.charAt(l+1))>>4,n.push(i&255)):o===1&&(i=Util.decode64(e.charAt(l))<<10|Util.decode64(e.charAt(l+1))<<4|Util.decode64(e.charAt(l+2))>>2,n.push(i>>8&255),n.push(i&255))),n}static readInt32(e){if(e.length<4)return!1;const t=e.splice(0,4);return t[0]<<24|t[1]<<16|t[2]<<8|t[3]<<0}static readByte(e){return e.shift()<<0}static readBytes(e,t,i){return e.splice(t,i)}static updateTextArea(e,t){if(e&&t)if(e.focus(),e.selectionStart!=null){const{selectionEnd:i}=e,n=e.value.substring(0,e.selectionStart),r=e.value.substring(i,e.value.length);e.value=n+t+r,e.selectionEnd=i+t.length}else{const i=document.selection.createRange();i.text=t}}static updateExistingTextOnTextarea(e,t,i,n){e.focus();const r=e.value.substring(0,i);e.value=r+t+e.value.substring(n,e.value.length),e.selectionEnd=i+t.length}static addArgument(e,t,i){let n;return e.indexOf("?")>0?n="&":n="?",`${e+n+t}=${i}`}}class Image{static removeImgDataAttributes(e){const t=[],{attributes:i}=e;Object.keys(i).forEach(n=>{const r=i[n];r!==void 0&&r.name!==void 0&&r.name.indexOf("data-")===0&&t.push(r.name)}),t.forEach(n=>{e.removeAttribute(n)})}static clone(e,t){const i=Configuration.get("imageCustomEditorName");e.hasAttribute(i)||t.removeAttribute(i),[Configuration.get("imageMathmlAttribute"),i,"alt","height","width","style","src","role"].forEach(o=>{const l=e.getAttribute(o);l&&t.setAttribute(o,l)})}static isSvg(e){return e.src.startsWith("data:image/svg+xml;")}static isBase64(e){return e.src.startsWith("data:image/svg+xml;base64,")||e.src.startsWith("data:image/png;base64,")}static setImgSize(e,t,i){let n,r,o,l;if(i)if(Image.isSvg(e))if(!Image.isBase64(e))n=Image.getMetricsFromSvgString(t);else{r=e.src.substr(e.src.indexOf("base64,")+7,e.src.length),l="",o=Util.b64ToByteArray(r,r.length);for(let h=0;h<o.length;h+=1)l+=String.fromCharCode(o[h]);n=Image.getMetricsFromSvgString(l)}else r=e.src.substr(e.src.indexOf("base64,")+7,e.src.length),o=Util.b64ToByteArray(r,88),n=Image.getMetricsFromBytes(o);else n=Util.urlToAssArray(t);let c=n.cw;if(!c)return;let d=n.ch,a=n.cb;const{dpi:m}=n;m&&(c=c*96/m,d=d*96/m,a=a*96/m),e.width=c,e.height=d,e.style.verticalAlign=`-${d-a}px`}static fixAfterResize(e){e.removeAttribute("style"),e.removeAttribute("width"),e.removeAttribute("height"),e.style.maxWidth="none";const t=i=>{if(i.src.indexOf("data:image")!==-1)if(i.src.indexOf("data:image/svg+xml")!==-1)if(i.src.indexOf("data:image/svg+xml;base64,")!==-1){const n=i.getAttribute("src").substring(26),r=window.atob(n),o=encodeURIComponent(r);i.setAttribute("src",`data:image/svg+xml;charset=utf8,${o}`);const l=decodeURIComponent(i.src.substring(32,i.src.length));Image.setImgSize(i,l,!0),i.setAttribute("src",`data:image/svg+xml;base64,${n}`)}else{const n=decodeURIComponent(i.src.substring(32,i.src.length));Image.setImgSize(i,n,!0)}else{const n=i.src.substring(22,i.src.length);Image.setImgSize(i,n,!0)}else Image.setImgSize(i,i.src)};if(e.src.indexOf("blob:")===-1)t(e);else{let i=new FileReader;i.onload=function(){e.setAttribute("src",i.result),t(e)},fetch(e.src).then(n=>n.blob()).then(n=>{i.readAsDataURL(n)})}}static getMetricsFromSvgString(e){let t=e.indexOf('height="'),i=e.indexOf('"',t+8,e.length);const n=e.substring(t+8,i);t=e.indexOf('width="'),i=e.indexOf('"',t+7,e.length);const r=e.substring(t+7,i);t=e.indexOf('wrs:baseline="'),i=e.indexOf('"',t+14,e.length);const o=e.substring(t+14,i);if(typeof r<"u"){const l=[];return l.cw=r,l.ch=n,typeof o<"u"&&(l.cb=o),l}return[]}static getMetricsFromBytes(e){Util.readBytes(e,0,8);let t,i,n,r,o;for(;e.length>=4;)n=Util.readInt32(e),n===1229472850?(t=Util.readInt32(e),i=Util.readInt32(e),Util.readInt32(e),Util.readByte(e)):n===1650545477?r=Util.readInt32(e):n===1883789683&&(o=Util.readInt32(e),o=Math.round(o/39.37),Util.readInt32(e),Util.readByte(e)),Util.readInt32(e);if(typeof t<"u"){const l=[];return l.cw=t,l.ch=i,l.dpi=o,r&&(l.cb=r),l}return[]}}class Accessibility{static get cache(){return Accessibility._cache}static set cache(e){Accessibility._cache=e}static mathMLToAccessible(e,t,i){typeof t>"u"&&(t="en"),MathML.containClass(e,"wrs_chemistry")&&(i.mode="chemistry"),i.ignoreStyles=!0;let n="";if(Accessibility.cache.get(e))n=Accessibility.cache.get(e);else{i.service="mathml2accessible",i.lang=t;const r=JSON.parse(ServiceProvider.getService("service",i));r.status!=="error"?(n=r.result.text,Accessibility.cache.populate(e,n)):n=StringManager.get("error_convert_accessibility")}return n}}Accessibility._cache=new TextCache;(function(){var HxOverrides=function(){};HxOverrides.__name__=!0,HxOverrides.dateStr=function(s){var e=s.getMonth()+1,t=s.getDate(),i=s.getHours(),n=s.getMinutes(),r=s.getSeconds();return s.getFullYear()+"-"+(e<10?"0"+e:""+e)+"-"+(t<10?"0"+t:""+t)+" "+(i<10?"0"+i:""+i)+":"+(n<10?"0"+n:""+n)+":"+(r<10?"0"+r:""+r)},HxOverrides.strDate=function(s){switch(s.length){case 8:var t=s.split(":"),e=new Date;return e.setTime(0),e.setUTCHours(t[0]),e.setUTCMinutes(t[1]),e.setUTCSeconds(t[2]),e;case 10:var t=s.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var t=s.split(" "),i=t[0].split("-"),n=t[1].split(":");return new Date(i[0],i[1]-1,i[2],n[0],n[1],n[2]);default:throw"Invalid date format : "+s}},HxOverrides.cca=function(s,e){var t=s.charCodeAt(e);if(t==t)return t},HxOverrides.substr=function(s,e,t){return e!=null&&e!=0&&t!=null&&t<0?"":(t==null&&(t=s.length),e<0?(e=s.length+e,e<0&&(e=0)):t<0&&(t=s.length+t-e),s.substr(e,t))},HxOverrides.remove=function(s,e){for(var t=0,i=s.length;t<i;){if(s[t]==e)return s.splice(t,1),!0;t++}return!1},HxOverrides.iter=function(s){return{cur:0,arr:s,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var IntIter=function(s,e){this.min=s,this.max=e};IntIter.__name__=!0,IntIter.prototype={next:function(){return this.min++},hasNext:function(){return this.min<this.max},__class__:IntIter};var Std=function(){};Std.__name__=!0,Std.is=function(s,e){return js.Boot.__instanceof(s,e)},Std.string=function(s){return js.Boot.__string_rec(s,"")},Std.int=function(s){return s|0},Std.parseInt=function(s){var e=parseInt(s,10);return e==0&&(HxOverrides.cca(s,1)==120||HxOverrides.cca(s,1)==88)&&(e=parseInt(s)),isNaN(e)?null:e},Std.parseFloat=function(s){return parseFloat(s)},Std.random=function(s){return Math.floor(Math.random()*s)};var com=com||{};com.wiris||(com.wiris={}),com.wiris.js||(com.wiris.js={}),com.wiris.js.JsPluginTools=function(){this.tryReady()},com.wiris.js.JsPluginTools.__name__=!0,com.wiris.js.JsPluginTools.main=function(){var s;s=com.wiris.js.JsPluginTools.getInstance(),haxe.Timer.delay($bind(s,s.tryReady),100)},com.wiris.js.JsPluginTools.getInstance=function(){return com.wiris.js.JsPluginTools.instance==null&&(com.wiris.js.JsPluginTools.instance=new com.wiris.js.JsPluginTools),com.wiris.js.JsPluginTools.instance},com.wiris.js.JsPluginTools.bypassEncapsulation=function(){window.com==null&&(window.com={}),window.com.wiris==null&&(window.com.wiris={}),window.com.wiris.js==null&&(window.com.wiris.js={}),window.com.wiris.js.JsPluginTools==null&&(window.com.wiris.js.JsPluginTools=com.wiris.js.JsPluginTools.getInstance())},com.wiris.js.JsPluginTools.prototype={md5encode:function(s){return haxe.Md5.encode(s)},doLoad:function(){this.ready=!0,com.wiris.js.JsPluginTools.instance=this,com.wiris.js.JsPluginTools.bypassEncapsulation()},tryReady:function(){this.ready=!1,js.Lib.document.readyState&&(this.doLoad(),this.ready=!0),this.ready||haxe.Timer.delay($bind(this,this.tryReady),100)},__class__:com.wiris.js.JsPluginTools};var haxe=haxe||{};haxe.Log=function(){},haxe.Log.__name__=!0,haxe.Log.trace=function(s,e){js.Boot.__trace(s,e)},haxe.Log.clear=function(){js.Boot.__clear_trace()},haxe.Md5=function(){},haxe.Md5.__name__=!0,haxe.Md5.encode=function(s){return new haxe.Md5().doEncode(s)},haxe.Md5.prototype={doEncode:function(s){for(var e=this.str2blks(s),t=1732584193,i=-271733879,n=-1732584194,r=271733878,o=0;o<e.length;){var l=t,c=i,d=n,a=r;t=this.ff(t,i,n,r,e[o],7,-680876936),r=this.ff(r,t,i,n,e[o+1],12,-389564586),n=this.ff(n,r,t,i,e[o+2],17,606105819),i=this.ff(i,n,r,t,e[o+3],22,-1044525330),t=this.ff(t,i,n,r,e[o+4],7,-176418897),r=this.ff(r,t,i,n,e[o+5],12,1200080426),n=this.ff(n,r,t,i,e[o+6],17,-1473231341),i=this.ff(i,n,r,t,e[o+7],22,-45705983),t=this.ff(t,i,n,r,e[o+8],7,1770035416),r=this.ff(r,t,i,n,e[o+9],12,-1958414417),n=this.ff(n,r,t,i,e[o+10],17,-42063),i=this.ff(i,n,r,t,e[o+11],22,-1990404162),t=this.ff(t,i,n,r,e[o+12],7,1804603682),r=this.ff(r,t,i,n,e[o+13],12,-40341101),n=this.ff(n,r,t,i,e[o+14],17,-1502002290),i=this.ff(i,n,r,t,e[o+15],22,1236535329),t=this.gg(t,i,n,r,e[o+1],5,-165796510),r=this.gg(r,t,i,n,e[o+6],9,-1069501632),n=this.gg(n,r,t,i,e[o+11],14,643717713),i=this.gg(i,n,r,t,e[o],20,-373897302),t=this.gg(t,i,n,r,e[o+5],5,-701558691),r=this.gg(r,t,i,n,e[o+10],9,38016083),n=this.gg(n,r,t,i,e[o+15],14,-660478335),i=this.gg(i,n,r,t,e[o+4],20,-405537848),t=this.gg(t,i,n,r,e[o+9],5,568446438),r=this.gg(r,t,i,n,e[o+14],9,-1019803690),n=this.gg(n,r,t,i,e[o+3],14,-187363961),i=this.gg(i,n,r,t,e[o+8],20,1163531501),t=this.gg(t,i,n,r,e[o+13],5,-1444681467),r=this.gg(r,t,i,n,e[o+2],9,-51403784),n=this.gg(n,r,t,i,e[o+7],14,1735328473),i=this.gg(i,n,r,t,e[o+12],20,-1926607734),t=this.hh(t,i,n,r,e[o+5],4,-378558),r=this.hh(r,t,i,n,e[o+8],11,-2022574463),n=this.hh(n,r,t,i,e[o+11],16,1839030562),i=this.hh(i,n,r,t,e[o+14],23,-35309556),t=this.hh(t,i,n,r,e[o+1],4,-1530992060),r=this.hh(r,t,i,n,e[o+4],11,1272893353),n=this.hh(n,r,t,i,e[o+7],16,-155497632),i=this.hh(i,n,r,t,e[o+10],23,-1094730640),t=this.hh(t,i,n,r,e[o+13],4,681279174),r=this.hh(r,t,i,n,e[o],11,-358537222),n=this.hh(n,r,t,i,e[o+3],16,-722521979),i=this.hh(i,n,r,t,e[o+6],23,76029189),t=this.hh(t,i,n,r,e[o+9],4,-640364487),r=this.hh(r,t,i,n,e[o+12],11,-421815835),n=this.hh(n,r,t,i,e[o+15],16,530742520),i=this.hh(i,n,r,t,e[o+2],23,-995338651),t=this.ii(t,i,n,r,e[o],6,-198630844),r=this.ii(r,t,i,n,e[o+7],10,1126891415),n=this.ii(n,r,t,i,e[o+14],15,-1416354905),i=this.ii(i,n,r,t,e[o+5],21,-57434055),t=this.ii(t,i,n,r,e[o+12],6,1700485571),r=this.ii(r,t,i,n,e[o+3],10,-1894986606),n=this.ii(n,r,t,i,e[o+10],15,-1051523),i=this.ii(i,n,r,t,e[o+1],21,-2054922799),t=this.ii(t,i,n,r,e[o+8],6,1873313359),r=this.ii(r,t,i,n,e[o+15],10,-30611744),n=this.ii(n,r,t,i,e[o+6],15,-1560198380),i=this.ii(i,n,r,t,e[o+13],21,1309151649),t=this.ii(t,i,n,r,e[o+4],6,-145523070),r=this.ii(r,t,i,n,e[o+11],10,-1120210379),n=this.ii(n,r,t,i,e[o+2],15,718787259),i=this.ii(i,n,r,t,e[o+9],21,-343485551),t=this.addme(t,l),i=this.addme(i,c),n=this.addme(n,d),r=this.addme(r,a),o+=16}return this.rhex(t)+this.rhex(i)+this.rhex(n)+this.rhex(r)},ii:function(s,e,t,i,n,r,o){return this.cmn(this.bitXOR(t,this.bitOR(e,~i)),s,e,n,r,o)},hh:function(s,e,t,i,n,r,o){return this.cmn(this.bitXOR(this.bitXOR(e,t),i),s,e,n,r,o)},gg:function(s,e,t,i,n,r,o){return this.cmn(this.bitOR(this.bitAND(e,i),this.bitAND(t,~i)),s,e,n,r,o)},ff:function(s,e,t,i,n,r,o){return this.cmn(this.bitOR(this.bitAND(e,t),this.bitAND(~e,i)),s,e,n,r,o)},cmn:function(s,e,t,i,n,r){return this.addme(this.rol(this.addme(this.addme(e,s),this.addme(i,r)),n),t)},rol:function(s,e){return s<<e|s>>>32-e},str2blks:function(s){for(var e=(s.length+8>>6)+1,t=new Array,i=0,n=e*16;i<n;){var r=i++;t[r]=0}for(var r=0;r<s.length;)t[r>>2]|=HxOverrides.cca(s,r)<<(s.length*8+r)%4*8,r++;t[r>>2]|=128<<(s.length*8+r)%4*8;var o=s.length*8,l=e*16-2;return t[l]=o&255,t[l]|=(o>>>8&255)<<8,t[l]|=(o>>>16&255)<<16,t[l]|=(o>>>24&255)<<24,t},rhex:function(s){for(var e="",t="0123456789abcdef",i=0;i<4;){var n=i++;e+=t.charAt(s>>n*8+4&15)+t.charAt(s>>n*8&15)}return e},addme:function(s,e){var t=(s&65535)+(e&65535),i=(s>>16)+(e>>16)+(t>>16);return i<<16|t&65535},bitAND:function(s,e){var t=s&1&(e&1),i=s>>>1&e>>>1;return i<<1|t},bitXOR:function(s,e){var t=s&1^e&1,i=s>>>1^e>>>1;return i<<1|t},bitOR:function(s,e){var t=s&1|e&1,i=s>>>1|e>>>1;return i<<1|t},__class__:haxe.Md5},haxe.Timer=function(s){var e=this;this.id=window.setInterval(function(){e.run()},s)},haxe.Timer.__name__=!0,haxe.Timer.delay=function(s,e){var t=new haxe.Timer(e);return t.run=function(){t.stop(),s()},t},haxe.Timer.measure=function(s,e){var t=haxe.Timer.stamp(),i=s();return haxe.Log.trace(haxe.Timer.stamp()-t+"s",e),i},haxe.Timer.stamp=function(){return new Date().getTime()/1e3},haxe.Timer.prototype={run:function(){},stop:function(){this.id!=null&&(window.clearInterval(this.id),this.id=null)},__class__:haxe.Timer};var js=js||{};js.Boot=function(){},js.Boot.__name__=!0,js.Boot.__unhtml=function(s){return s.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},js.Boot.__trace=function(s,e){var t=e!=null?e.fileName+":"+e.lineNumber+": ":"";t+=js.Boot.__string_rec(s,"");var i;typeof document<"u"&&(i=document.getElementById("haxe:trace"))!=null?i.innerHTML+=js.Boot.__unhtml(t)+"<br/>":typeof console<"u"&&console.log!=null&&console.log(t)},js.Boot.__clear_trace=function(){var s=document.getElementById("haxe:trace");s!=null&&(s.innerHTML="")},js.Boot.isClass=function(s){return s.__name__},js.Boot.isEnum=function(s){return s.__ename__},js.Boot.getClass=function(s){return s.__class__},js.Boot.__string_rec=function(s,e){if(s==null)return"null";if(e.length>=5)return"<...>";var t=typeof s;switch(t=="function"&&(s.__name__||s.__ename__)&&(t="object"),t){case"object":if(s instanceof Array){if(s.__enum__){if(s.length==2)return s[0];var m=s[0]+"(";e+="	";for(var i=2,o=s.length;i<o;){var r=i++;r!=2?m+=","+js.Boot.__string_rec(s[r],e):m+=js.Boot.__string_rec(s[r],e)}return m+")"}var n=s.length,r,m="[";e+="	";for(var o=0;o<n;){var l=o++;m+=(l>0?",":"")+js.Boot.__string_rec(s[l],e)}return m+="]",m}var c;try{c=s.toString}catch{return"???"}if(c!=null&&c!=Object.toString){var d=s.toString();if(d!="[object Object]")return d}var a=null,m=`{
`;e+="	";var h=s.hasOwnProperty!=null;for(var a in s)h&&!s.hasOwnProperty(a)||a=="prototype"||a=="__class__"||a=="__super__"||a=="__interfaces__"||a=="__properties__"||(m.length!=2&&(m+=`, 
`),m+=e+a+" : "+js.Boot.__string_rec(s[a],e));return e=e.substring(1),m+=`
`+e+"}",m;case"function":return"<function>";case"string":return s;default:return String(s)}},js.Boot.__interfLoop=function(s,e){if(s==null)return!1;if(s==e)return!0;var t=s.__interfaces__;if(t!=null)for(var i=0,n=t.length;i<n;){var r=i++,o=t[r];if(o==e||js.Boot.__interfLoop(o,e))return!0}return js.Boot.__interfLoop(s.__super__,e)},js.Boot.__instanceof=function(s,e){try{if(s instanceof e)return e==Array?s.__enum__==null:!0;if(js.Boot.__interfLoop(s.__class__,e))return!0}catch{if(e==null)return!1}switch(e){case Int:return Math.ceil(s%2147483648)===s;case Float:return typeof s=="number";case Bool:return s===!0||s===!1;case String:return typeof s=="string";case Dynamic:return!0;default:return s==null?!1:e==Class&&s.__name__!=null||e==Enum&&s.__ename__!=null?!0:s.__enum__==e}},js.Boot.__cast=function(s,e){if(js.Boot.__instanceof(s,e))return s;throw"Cannot cast "+Std.string(s)+" to "+Std.string(e)},js.Lib=function(){},js.Lib.__name__=!0,js.Lib.debug=function(){debugger},js.Lib.alert=function(s){alert(js.Boot.__string_rec(s,""))},js.Lib.eval=function(code){return eval(code)},js.Lib.setErrorHandler=function(s){js.Lib.onerror=s};function $bind(s,e){var t=function(){return t.method.apply(t.scope,arguments)};return t.scope=s,t.method=e,t}Array.prototype.indexOf&&(HxOverrides.remove=function(s,e){var t=s.indexOf(e);return t==-1?!1:(s.splice(t,1),!0)}),Math.__name__=["Math"],Math.NaN=Number.NaN,Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,Math.isFinite=function(s){return isFinite(s)},Math.isNaN=function(s){return isNaN(s)},String.prototype.__class__=String,String.__name__=!0,Array.prototype.__class__=Array,Array.__name__=!0,Date.prototype.__class__=Date,Date.__name__=["Date"];var Int={__name__:["Int"]},Dynamic={__name__:["Dynamic"]},Float=Number;Float.__name__=["Float"];var Bool=Boolean;Bool.__ename__=["Bool"];var Class={__name__:["Class"]},Enum={};typeof document<"u"&&(js.Lib.document=document),typeof window<"u"&&(js.Lib.window=window,js.Lib.window.onerror=function(s,e,t){var i=js.Lib.onerror;return i==null?!1:i(s,[e+":"+t])}),com.wiris.js.JsPluginTools.main(),delete Array.prototype.__class__})();(function(){var HxOverrides=function(){};HxOverrides.__name__=!0,HxOverrides.dateStr=function(s){var e=s.getMonth()+1,t=s.getDate(),i=s.getHours(),n=s.getMinutes(),r=s.getSeconds();return s.getFullYear()+"-"+(e<10?"0"+e:""+e)+"-"+(t<10?"0"+t:""+t)+" "+(i<10?"0"+i:""+i)+":"+(n<10?"0"+n:""+n)+":"+(r<10?"0"+r:""+r)},HxOverrides.strDate=function(s){switch(s.length){case 8:var t=s.split(":"),e=new Date;return e.setTime(0),e.setUTCHours(t[0]),e.setUTCMinutes(t[1]),e.setUTCSeconds(t[2]),e;case 10:var t=s.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var t=s.split(" "),i=t[0].split("-"),n=t[1].split(":");return new Date(i[0],i[1]-1,i[2],n[0],n[1],n[2]);default:throw"Invalid date format : "+s}},HxOverrides.cca=function(s,e){var t=s.charCodeAt(e);if(t==t)return t},HxOverrides.substr=function(s,e,t){return e!=null&&e!=0&&t!=null&&t<0?"":(t==null&&(t=s.length),e<0?(e=s.length+e,e<0&&(e=0)):t<0&&(t=s.length+t-e),s.substr(e,t))},HxOverrides.remove=function(s,e){for(var t=0,i=s.length;t<i;){if(s[t]==e)return s.splice(t,1),!0;t++}return!1},HxOverrides.iter=function(s){return{cur:0,arr:s,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var IntIter=function(s,e){this.min=s,this.max=e};IntIter.__name__=!0,IntIter.prototype={next:function(){return this.min++},hasNext:function(){return this.min<this.max},__class__:IntIter};var Std=function(){};Std.__name__=!0,Std.is=function(s,e){return js.Boot.__instanceof(s,e)},Std.string=function(s){return js.Boot.__string_rec(s,"")},Std.int=function(s){return s|0},Std.parseInt=function(s){var e=parseInt(s,10);return e==0&&(HxOverrides.cca(s,1)==120||HxOverrides.cca(s,1)==88)&&(e=parseInt(s)),isNaN(e)?null:e},Std.parseFloat=function(s){return parseFloat(s)},Std.random=function(s){return Math.floor(Math.random()*s)};var com=com||{};com.wiris||(com.wiris={}),com.wiris.js||(com.wiris.js={}),com.wiris.js.JsPluginTools=function(){this.tryReady()},com.wiris.js.JsPluginTools.__name__=!0,com.wiris.js.JsPluginTools.main=function(){var s;s=com.wiris.js.JsPluginTools.getInstance(),haxe.Timer.delay($bind(s,s.tryReady),100)},com.wiris.js.JsPluginTools.getInstance=function(){return com.wiris.js.JsPluginTools.instance==null&&(com.wiris.js.JsPluginTools.instance=new com.wiris.js.JsPluginTools),com.wiris.js.JsPluginTools.instance},com.wiris.js.JsPluginTools.bypassEncapsulation=function(){window.com==null&&(window.com={}),window.com.wiris==null&&(window.com.wiris={}),window.com.wiris.js==null&&(window.com.wiris.js={}),window.com.wiris.js.JsPluginTools==null&&(window.com.wiris.js.JsPluginTools=com.wiris.js.JsPluginTools.getInstance())},com.wiris.js.JsPluginTools.prototype={md5encode:function(s){return haxe.Md5.encode(s)},doLoad:function(){this.ready=!0,com.wiris.js.JsPluginTools.instance=this,com.wiris.js.JsPluginTools.bypassEncapsulation()},tryReady:function(){this.ready=!1,js.Lib.document.readyState&&(this.doLoad(),this.ready=!0),this.ready||haxe.Timer.delay($bind(this,this.tryReady),100)},__class__:com.wiris.js.JsPluginTools};var haxe=haxe||{};haxe.Log=function(){},haxe.Log.__name__=!0,haxe.Log.trace=function(s,e){js.Boot.__trace(s,e)},haxe.Log.clear=function(){js.Boot.__clear_trace()},haxe.Md5=function(){},haxe.Md5.__name__=!0,haxe.Md5.encode=function(s){return new haxe.Md5().doEncode(s)},haxe.Md5.prototype={doEncode:function(s){for(var e=this.str2blks(s),t=1732584193,i=-271733879,n=-1732584194,r=271733878,o=0;o<e.length;){var l=t,c=i,d=n,a=r;t=this.ff(t,i,n,r,e[o],7,-680876936),r=this.ff(r,t,i,n,e[o+1],12,-389564586),n=this.ff(n,r,t,i,e[o+2],17,606105819),i=this.ff(i,n,r,t,e[o+3],22,-1044525330),t=this.ff(t,i,n,r,e[o+4],7,-176418897),r=this.ff(r,t,i,n,e[o+5],12,1200080426),n=this.ff(n,r,t,i,e[o+6],17,-1473231341),i=this.ff(i,n,r,t,e[o+7],22,-45705983),t=this.ff(t,i,n,r,e[o+8],7,1770035416),r=this.ff(r,t,i,n,e[o+9],12,-1958414417),n=this.ff(n,r,t,i,e[o+10],17,-42063),i=this.ff(i,n,r,t,e[o+11],22,-1990404162),t=this.ff(t,i,n,r,e[o+12],7,1804603682),r=this.ff(r,t,i,n,e[o+13],12,-40341101),n=this.ff(n,r,t,i,e[o+14],17,-1502002290),i=this.ff(i,n,r,t,e[o+15],22,1236535329),t=this.gg(t,i,n,r,e[o+1],5,-165796510),r=this.gg(r,t,i,n,e[o+6],9,-1069501632),n=this.gg(n,r,t,i,e[o+11],14,643717713),i=this.gg(i,n,r,t,e[o],20,-373897302),t=this.gg(t,i,n,r,e[o+5],5,-701558691),r=this.gg(r,t,i,n,e[o+10],9,38016083),n=this.gg(n,r,t,i,e[o+15],14,-660478335),i=this.gg(i,n,r,t,e[o+4],20,-405537848),t=this.gg(t,i,n,r,e[o+9],5,568446438),r=this.gg(r,t,i,n,e[o+14],9,-1019803690),n=this.gg(n,r,t,i,e[o+3],14,-187363961),i=this.gg(i,n,r,t,e[o+8],20,1163531501),t=this.gg(t,i,n,r,e[o+13],5,-1444681467),r=this.gg(r,t,i,n,e[o+2],9,-51403784),n=this.gg(n,r,t,i,e[o+7],14,1735328473),i=this.gg(i,n,r,t,e[o+12],20,-1926607734),t=this.hh(t,i,n,r,e[o+5],4,-378558),r=this.hh(r,t,i,n,e[o+8],11,-2022574463),n=this.hh(n,r,t,i,e[o+11],16,1839030562),i=this.hh(i,n,r,t,e[o+14],23,-35309556),t=this.hh(t,i,n,r,e[o+1],4,-1530992060),r=this.hh(r,t,i,n,e[o+4],11,1272893353),n=this.hh(n,r,t,i,e[o+7],16,-155497632),i=this.hh(i,n,r,t,e[o+10],23,-1094730640),t=this.hh(t,i,n,r,e[o+13],4,681279174),r=this.hh(r,t,i,n,e[o],11,-358537222),n=this.hh(n,r,t,i,e[o+3],16,-722521979),i=this.hh(i,n,r,t,e[o+6],23,76029189),t=this.hh(t,i,n,r,e[o+9],4,-640364487),r=this.hh(r,t,i,n,e[o+12],11,-421815835),n=this.hh(n,r,t,i,e[o+15],16,530742520),i=this.hh(i,n,r,t,e[o+2],23,-995338651),t=this.ii(t,i,n,r,e[o],6,-198630844),r=this.ii(r,t,i,n,e[o+7],10,1126891415),n=this.ii(n,r,t,i,e[o+14],15,-1416354905),i=this.ii(i,n,r,t,e[o+5],21,-57434055),t=this.ii(t,i,n,r,e[o+12],6,1700485571),r=this.ii(r,t,i,n,e[o+3],10,-1894986606),n=this.ii(n,r,t,i,e[o+10],15,-1051523),i=this.ii(i,n,r,t,e[o+1],21,-2054922799),t=this.ii(t,i,n,r,e[o+8],6,1873313359),r=this.ii(r,t,i,n,e[o+15],10,-30611744),n=this.ii(n,r,t,i,e[o+6],15,-1560198380),i=this.ii(i,n,r,t,e[o+13],21,1309151649),t=this.ii(t,i,n,r,e[o+4],6,-145523070),r=this.ii(r,t,i,n,e[o+11],10,-1120210379),n=this.ii(n,r,t,i,e[o+2],15,718787259),i=this.ii(i,n,r,t,e[o+9],21,-343485551),t=this.addme(t,l),i=this.addme(i,c),n=this.addme(n,d),r=this.addme(r,a),o+=16}return this.rhex(t)+this.rhex(i)+this.rhex(n)+this.rhex(r)},ii:function(s,e,t,i,n,r,o){return this.cmn(this.bitXOR(t,this.bitOR(e,~i)),s,e,n,r,o)},hh:function(s,e,t,i,n,r,o){return this.cmn(this.bitXOR(this.bitXOR(e,t),i),s,e,n,r,o)},gg:function(s,e,t,i,n,r,o){return this.cmn(this.bitOR(this.bitAND(e,i),this.bitAND(t,~i)),s,e,n,r,o)},ff:function(s,e,t,i,n,r,o){return this.cmn(this.bitOR(this.bitAND(e,t),this.bitAND(~e,i)),s,e,n,r,o)},cmn:function(s,e,t,i,n,r){return this.addme(this.rol(this.addme(this.addme(e,s),this.addme(i,r)),n),t)},rol:function(s,e){return s<<e|s>>>32-e},str2blks:function(s){for(var e=(s.length+8>>6)+1,t=new Array,i=0,n=e*16;i<n;){var r=i++;t[r]=0}for(var r=0;r<s.length;)t[r>>2]|=HxOverrides.cca(s,r)<<(s.length*8+r)%4*8,r++;t[r>>2]|=128<<(s.length*8+r)%4*8;var o=s.length*8,l=e*16-2;return t[l]=o&255,t[l]|=(o>>>8&255)<<8,t[l]|=(o>>>16&255)<<16,t[l]|=(o>>>24&255)<<24,t},rhex:function(s){for(var e="",t="0123456789abcdef",i=0;i<4;){var n=i++;e+=t.charAt(s>>n*8+4&15)+t.charAt(s>>n*8&15)}return e},addme:function(s,e){var t=(s&65535)+(e&65535),i=(s>>16)+(e>>16)+(t>>16);return i<<16|t&65535},bitAND:function(s,e){var t=s&1&(e&1),i=s>>>1&e>>>1;return i<<1|t},bitXOR:function(s,e){var t=s&1^e&1,i=s>>>1^e>>>1;return i<<1|t},bitOR:function(s,e){var t=s&1|e&1,i=s>>>1|e>>>1;return i<<1|t},__class__:haxe.Md5},haxe.Timer=function(s){var e=this;this.id=window.setInterval(function(){e.run()},s)},haxe.Timer.__name__=!0,haxe.Timer.delay=function(s,e){var t=new haxe.Timer(e);return t.run=function(){t.stop(),s()},t},haxe.Timer.measure=function(s,e){var t=haxe.Timer.stamp(),i=s();return haxe.Log.trace(haxe.Timer.stamp()-t+"s",e),i},haxe.Timer.stamp=function(){return new Date().getTime()/1e3},haxe.Timer.prototype={run:function(){},stop:function(){this.id!=null&&(window.clearInterval(this.id),this.id=null)},__class__:haxe.Timer};var js=js||{};js.Boot=function(){},js.Boot.__name__=!0,js.Boot.__unhtml=function(s){return s.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},js.Boot.__trace=function(s,e){var t=e!=null?e.fileName+":"+e.lineNumber+": ":"";t+=js.Boot.__string_rec(s,"");var i;typeof document<"u"&&(i=document.getElementById("haxe:trace"))!=null?i.innerHTML+=js.Boot.__unhtml(t)+"<br/>":typeof console<"u"&&console.log!=null&&console.log(t)},js.Boot.__clear_trace=function(){var s=document.getElementById("haxe:trace");s!=null&&(s.innerHTML="")},js.Boot.isClass=function(s){return s.__name__},js.Boot.isEnum=function(s){return s.__ename__},js.Boot.getClass=function(s){return s.__class__},js.Boot.__string_rec=function(s,e){if(s==null)return"null";if(e.length>=5)return"<...>";var t=typeof s;switch(t=="function"&&(s.__name__||s.__ename__)&&(t="object"),t){case"object":if(s instanceof Array){if(s.__enum__){if(s.length==2)return s[0];var m=s[0]+"(";e+="	";for(var i=2,o=s.length;i<o;){var r=i++;r!=2?m+=","+js.Boot.__string_rec(s[r],e):m+=js.Boot.__string_rec(s[r],e)}return m+")"}var n=s.length,r,m="[";e+="	";for(var o=0;o<n;){var l=o++;m+=(l>0?",":"")+js.Boot.__string_rec(s[l],e)}return m+="]",m}var c;try{c=s.toString}catch{return"???"}if(c!=null&&c!=Object.toString){var d=s.toString();if(d!="[object Object]")return d}var a=null,m=`{
`;e+="	";var h=s.hasOwnProperty!=null;for(var a in s)h&&!s.hasOwnProperty(a)||a=="prototype"||a=="__class__"||a=="__super__"||a=="__interfaces__"||a=="__properties__"||(m.length!=2&&(m+=`, 
`),m+=e+a+" : "+js.Boot.__string_rec(s[a],e));return e=e.substring(1),m+=`
`+e+"}",m;case"function":return"<function>";case"string":return s;default:return String(s)}},js.Boot.__interfLoop=function(s,e){if(s==null)return!1;if(s==e)return!0;var t=s.__interfaces__;if(t!=null)for(var i=0,n=t.length;i<n;){var r=i++,o=t[r];if(o==e||js.Boot.__interfLoop(o,e))return!0}return js.Boot.__interfLoop(s.__super__,e)},js.Boot.__instanceof=function(s,e){try{if(s instanceof e)return e==Array?s.__enum__==null:!0;if(js.Boot.__interfLoop(s.__class__,e))return!0}catch{if(e==null)return!1}switch(e){case Int:return Math.ceil(s%2147483648)===s;case Float:return typeof s=="number";case Bool:return s===!0||s===!1;case String:return typeof s=="string";case Dynamic:return!0;default:return s==null?!1:e==Class&&s.__name__!=null||e==Enum&&s.__ename__!=null?!0:s.__enum__==e}},js.Boot.__cast=function(s,e){if(js.Boot.__instanceof(s,e))return s;throw"Cannot cast "+Std.string(s)+" to "+Std.string(e)},js.Lib=function(){},js.Lib.__name__=!0,js.Lib.debug=function(){debugger},js.Lib.alert=function(s){alert(js.Boot.__string_rec(s,""))},js.Lib.eval=function(code){return eval(code)},js.Lib.setErrorHandler=function(s){js.Lib.onerror=s};function $bind(s,e){var t=function(){return t.method.apply(t.scope,arguments)};return t.scope=s,t.method=e,t}Array.prototype.indexOf&&(HxOverrides.remove=function(s,e){var t=s.indexOf(e);return t==-1?!1:(s.splice(t,1),!0)}),Math.__name__=["Math"],Math.NaN=Number.NaN,Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,Math.isFinite=function(s){return isFinite(s)},Math.isNaN=function(s){return isNaN(s)},String.prototype.__class__=String,String.__name__=!0,Array.prototype.__class__=Array,Array.__name__=!0,Date.prototype.__class__=Date,Date.__name__=["Date"];var Int={__name__:["Int"]},Dynamic={__name__:["Dynamic"]},Float=Number;Float.__name__=["Float"];var Bool=Boolean;Bool.__ename__=["Bool"];var Class={__name__:["Class"]},Enum={};typeof document<"u"&&(js.Lib.document=document),typeof window<"u"&&(js.Lib.window=window,js.Lib.window.onerror=function(s,e,t){var i=js.Lib.onerror;return i==null?!1:i(s,[e+":"+t])}),com.wiris.js.JsPluginTools.main()})();delete Array.prototype.__class__;class Parser{static mathmlToImgObject(e,t,i,n){const r=e.createElement("img");r.align="middle",r.style.maxWidth="none";let o=i||{};if(o={...Configuration.get("editorParameters"),...o},o.mml=t,o.lang=n,o.metrics="true",o.centerbaseline="false",Configuration.get("saveMode")==="base64"&&Configuration.get("base64savemode")==="default"&&(o.base64=!0),r.className=Configuration.get("imageClassName"),t.indexOf('class="')!==-1){let c=t.substring(t.indexOf('class="')+7,t.length);c=c.substring(0,c.indexOf('"')),c=c.substring(4,c.length),r.setAttribute(Configuration.get("imageCustomEditorName"),c)}if(Configuration.get("wirisPluginPerformance")&&(Configuration.get("saveMode")==="xml"||Configuration.get("saveMode")==="safeXml")){let c=JSON.parse(Parser.createShowImageSrc(o,n));if(c.status==="warning")try{c=JSON.parse(ServiceProvider.getService("showimage",o))}catch{return null}({result:c}=c),c.format==="png"?r.src=`data:image/png;base64,${c.content}`:r.src=`data:image/svg+xml;charset=utf8,${Util.urlEncode(c.content)}`,r.setAttribute(Configuration.get("imageMathmlAttribute"),MathML.safeXmlEncode(t)),Image.setImgSize(r,c.content,!0),Configuration.get("enableAccessibility")&&(typeof c.alt>"u"?r.alt=Accessibility.mathMLToAccessible(t,n,o):r.alt=c.alt)}else{const c=Parser.createImageSrc(t,o);r.setAttribute(Configuration.get("imageMathmlAttribute"),MathML.safeXmlEncode(t)),r.src=c,Image.setImgSize(r,c,Configuration.get("saveMode")==="base64"&&Configuration.get("base64savemode")==="default"),Configuration.get("enableAccessibility")&&(r.alt=Accessibility.mathMLToAccessible(t,n,o))}return typeof Parser.observer<"u"&&Parser.observer.observe(r),r.setAttribute("role","math"),r}static createImageSrc(e,t){Configuration.get("saveMode")==="base64"&&Configuration.get("base64savemode")==="default"&&(t.base64=!0);let i=ServiceProvider.getService("createimage",t);if(i.indexOf("@BASE@")!==-1){const n=ServiceProvider.getServicePath("createimage").split("/");n.pop(),i=i.split("@BASE@").join(n.join("/"))}return i}static initParse(e,t){return e=Parser.initParseSaveMode(e,t),Parser.initParseEditMode(e)}static initParseSaveMode(e,t){return Configuration.get("saveMode")&&(e=Latex.parseMathmlToLatex(e,Constants.safeXmlCharacters),e=Latex.parseMathmlToLatex(e,Constants.xmlCharacters),e=Parser.parseMathmlToImg(e,Constants.safeXmlCharacters,t),e=Parser.parseMathmlToImg(e,Constants.xmlCharacters,t),Configuration.get("saveMode")==="base64"&&Configuration.get("base64savemode")==="image"&&(e=Parser.codeImgTransform(e,"base642showimage"))),e}static initParseEditMode(e){if(Configuration.get("parseModes").indexOf("latex")!==-1){const t=Util.getElementsByNameFromString(e,"img",!0),i='encoding="LaTeX">';let n=0;for(let r=0;r<t.length;r+=1){const o=e.substring(t[r].start+n,t[r].end+n);if(o.indexOf(` class="${Configuration.get("imageClassName")}"`)!==-1){let l=` ${Configuration.get("imageMathmlAttribute")}="`,c=o.indexOf(l);if(c===-1&&(l=' alt="',c=o.indexOf(l)),c!==-1){c+=l.length;const d=o.indexOf('"',c),a=Util.htmlSanitize(MathML.safeXmlDecode(o.substring(c,d)));let m=a.indexOf(i);if(m!==-1){m+=i.length;const h=a.indexOf("</annotation>",m),f=a.substring(m,h),_=`$$${Util.htmlEntitiesDecode(f)}$$`,w=e.substring(0,t[r].start+n),z=e.substring(t[r].end+n);e=w+_+z,n+=_.length-(t[r].end-t[r].start)}}}}}return e}static endParse(e){const t=Parser.endParseEditMode(e);return Parser.endParseSaveMode(t)}static endParseEditMode(e){if(Configuration.get("parseModes").indexOf("latex")!==-1){let t="",i=0,n=e.indexOf("$$");for(;n!==-1;){if(t+=e.substring(i,n),i=e.indexOf("$$",n+2),i!==-1){const r=e.substring(n+2,i),o=Util.htmlEntitiesDecode(r);let l=Util.htmlSanitize(Latex.getMathMLFromLatex(o,!0));Configuration.get("saveHandTraces")||(l=MathML.removeAnnotation(l,"application/json")),t+=l,i+=2}else t+="$$",i=n+2;n=e.indexOf("$$",i)}t+=e.substring(i,e.length),e=t}return e}static endParseSaveMode(e){return Configuration.get("saveMode")&&(Configuration.get("saveMode")==="safeXml"||Configuration.get("saveMode")==="xml"?e=Parser.codeImgTransform(e,"img2mathml"):Configuration.get("saveMode")==="base64"&&Configuration.get("base64savemode")==="image"&&(e=Parser.codeImgTransform(e,"img264"))),e}static createShowImageSrcData(e,t){const i={};["mml","color","centerbaseline","zoom","dpi","fontSize","fontFamily","defaultStretchy","backgroundColor","format"].forEach(o=>{typeof e[o]<"u"&&(i[o]=e[o])});const r={};return Object.keys(e).forEach(o=>{o!=="mml"&&(r[o]=e[o])}),r.formula=com.wiris.js.JsPluginTools.md5encode(Util.propertiesToString(i)),r.lang=typeof t>"u"?"en":t,r.version=Configuration.get("version"),r}static createShowImageSrc(e,t){const i=this.createShowImageSrcData(e,t);return ServiceProvider.getService("showimage",Util.httpBuildQuery(i),!0)}static codeImgTransform(e,t){let i="",n=0;const r=/<img/gi,o=r.source.length;for(;r.test(e);){const l=r.lastIndex-o;i+=e.substring(n,l);let c=l+1;for(;c<e.length&&n<=l;){const _=e.charAt(c);if(_==='"'||_==="'"){const w=e.indexOf(_,c+1);w===-1?c=e.length:c=w}else _===">"&&(n=c+1);c+=1}if(n<l)return i+=e.substring(l,e.length),i;let d=e.substring(l,n);const a=Util.createObject(d);let m=a.getAttribute(Configuration.get("imageMathmlAttribute")),h,f;if(t==="base642showimage")m==null&&(m=a.getAttribute("alt")),m=MathML.safeXmlDecode(m),d=Parser.mathmlToImgObject(document,m,null,null),i+=Util.createObjectCode(d);else if(t==="img2mathml")Configuration.get("saveMode")&&(Configuration.get("saveMode")==="safeXml"?(h=!0,f=!0):Configuration.get("saveMode")==="xml"&&(h=!0,f=!1)),i+=Util.getWIRISImageOutput(d,h,f);else if(t==="img264"){m===null&&(m=a.getAttribute("alt")),m=MathML.safeXmlDecode(m);const _={};_.base64="true",d=Parser.mathmlToImgObject(document,m,_,null),Image.setImgSize(d,d.src,!0),i+=Util.createObjectCode(d)}}return i+=e.substring(n,e.length),i}static parseMathmlToImg(e,t,i){let n="";const r=`${t.tagOpener}math`,o=`${t.tagOpener}/math${t.tagCloser}`;let l=e.indexOf(r),c=0;for(;l!==-1;){n+=e.substring(c,l);const d=e.indexOf(Configuration.get("imageMathmlAttribute"));if(c=e.indexOf(o,l),c===-1?c=e.length-1:d!==-1?c+=e.indexOf("/>",l):c+=o.length,!MathML.isMathmlInAttribute(e,l)&&d===-1){let a=e.substring(l,c);a=t.id===Constants.safeXmlCharacters.id?MathML.safeXmlDecode(a):MathML.mathMLEntities(a),n+=Util.createObjectCode(Parser.mathmlToImgObject(document,a,null,i))}else n+=e.substring(l,c);l=e.indexOf(r,c)}return n+=e.substring(c,e.length),n}}if(typeof MutationObserver<"u"){const s=new MutationObserver(e=>{e.forEach(t=>{t.oldValue===Configuration.get("imageClassName")&&t.attributeName==="class"&&t.target.className.indexOf(Configuration.get("imageClassName"))===-1&&(t.target.className=Configuration.get("imageClassName"))})});Parser.observer=Object.create(s),Parser.observer.Config={attributes:!0,attributeOldValue:!0},Parser.observer.observe=function(e){Object.getPrototypeOf(this).observe(e,this.Config)}}class EditorListener{constructor(){this.isContentChanged=!1,this.waitingForChanges=!1}setIsContentChanged(e){this.isContentChanged=e}getIsContentChanged(){return this.isContentChanged}setWaitingForChanges(e){this.waitingForChanges=e}caretPositionChanged(e){}clipboardChanged(e){}contentChanged(e){this.waitingForChanges===!0&&this.isContentChanged===!1&&(this.isContentChanged=!0)}styleChanged(e){}transformationReceived(e){}}let wasm;const cachedTextDecoder=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&cachedTextDecoder.decode();let cachedUint8Memory0=null;function getUint8Memory0(){return(cachedUint8Memory0===null||cachedUint8Memory0.byteLength===0)&&(cachedUint8Memory0=new Uint8Array(wasm.memory.buffer)),cachedUint8Memory0}function getStringFromWasm0(s,e){return s=s>>>0,cachedTextDecoder.decode(getUint8Memory0().subarray(s,s+e))}const heap=new Array(128).fill(void 0);heap.push(void 0,null,!0,!1);let heap_next=heap.length;function addHeapObject(s){heap_next===heap.length&&heap.push(heap.length+1);const e=heap_next;return heap_next=heap[e],heap[e]=s,e}function getObject(s){return heap[s]}function dropObject(s){s<132||(heap[s]=heap_next,heap_next=s)}function takeObject(s){const e=getObject(s);return dropObject(s),e}let WASM_VECTOR_LEN=0;const cachedTextEncoder=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},encodeString=typeof cachedTextEncoder.encodeInto=="function"?function(s,e){return cachedTextEncoder.encodeInto(s,e)}:function(s,e){const t=cachedTextEncoder.encode(s);return e.set(t),{read:s.length,written:t.length}};function passStringToWasm0(s,e,t){if(t===void 0){const l=cachedTextEncoder.encode(s),c=e(l.length,1)>>>0;return getUint8Memory0().subarray(c,c+l.length).set(l),WASM_VECTOR_LEN=l.length,c}let i=s.length,n=e(i,1)>>>0;const r=getUint8Memory0();let o=0;for(;o<i;o++){const l=s.charCodeAt(o);if(l>127)break;r[n+o]=l}if(o!==i){o!==0&&(s=s.slice(o)),n=t(n,i,i=o+s.length*3,1)>>>0;const l=getUint8Memory0().subarray(n+o,n+i),c=encodeString(s,l);o+=c.written}return WASM_VECTOR_LEN=o,n}function isLikeNone(s){return s==null}let cachedInt32Memory0=null;function getInt32Memory0(){return(cachedInt32Memory0===null||cachedInt32Memory0.byteLength===0)&&(cachedInt32Memory0=new Int32Array(wasm.memory.buffer)),cachedInt32Memory0}let cachedFloat64Memory0=null;function getFloat64Memory0(){return(cachedFloat64Memory0===null||cachedFloat64Memory0.byteLength===0)&&(cachedFloat64Memory0=new Float64Array(wasm.memory.buffer)),cachedFloat64Memory0}let cachedBigInt64Memory0=null;function getBigInt64Memory0(){return(cachedBigInt64Memory0===null||cachedBigInt64Memory0.byteLength===0)&&(cachedBigInt64Memory0=new BigInt64Array(wasm.memory.buffer)),cachedBigInt64Memory0}function debugString(s){const e=typeof s;if(e=="number"||e=="boolean"||s==null)return`${s}`;if(e=="string")return`"${s}"`;if(e=="symbol"){const n=s.description;return n==null?"Symbol":`Symbol(${n})`}if(e=="function"){const n=s.name;return typeof n=="string"&&n.length>0?`Function(${n})`:"Function"}if(Array.isArray(s)){const n=s.length;let r="[";n>0&&(r+=debugString(s[0]));for(let o=1;o<n;o++)r+=", "+debugString(s[o]);return r+="]",r}const t=/\[object ([^\]]+)\]/.exec(toString.call(s));let i;if(t.length>1)i=t[1];else return toString.call(s);if(i=="Object")try{return"Object("+JSON.stringify(s)+")"}catch{return"Object"}return s instanceof Error?`${s.name}: ${s.message}
${s.stack}`:i}function makeClosure(s,e,t,i){const n={a:s,b:e,cnt:1,dtor:t},r=(...o)=>{n.cnt++;try{return i(n.a,n.b,...o)}finally{--n.cnt===0&&(wasm.__wbindgen_export_2.get(n.dtor)(n.a,n.b),n.a=0)}};return r.original=n,r}function __wbg_adapter_46(s,e,t){wasm.__wbindgen_export_3(s,e,addHeapObject(t))}function makeMutClosure(s,e,t,i){const n={a:s,b:e,cnt:1,dtor:t},r=(...o)=>{n.cnt++;const l=n.a;n.a=0;try{return i(l,n.b,...o)}finally{--n.cnt===0?wasm.__wbindgen_export_2.get(n.dtor)(l,n.b):n.a=l}};return r.original=n,r}function __wbg_adapter_49(s,e){wasm.__wbindgen_export_4(s,e)}function __wbg_adapter_52(s,e,t){wasm.__wbindgen_export_5(s,e,addHeapObject(t))}function handleError(s,e){try{return s.apply(this,e)}catch(t){wasm.__wbindgen_export_6(addHeapObject(t))}}function __wbg_adapter_103(s,e,t,i){wasm.__wbindgen_export_7(s,e,addHeapObject(t),addHeapObject(i))}function getArrayU8FromWasm0(s,e){return s=s>>>0,getUint8Memory0().subarray(s/1,s/1+e)}Object.freeze({Err:0,0:"Err",Warn:1,1:"Warn",Info:2,2:"Info",Debug:3,3:"Debug"});class Telemeter$1{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();wasm.__wbg_telemeter_free(e)}constructor(e,t,i){try{const l=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.telemeter_new(l,addHeapObject(e),addHeapObject(t),addHeapObject(i));var n=getInt32Memory0()[l/4+0],r=getInt32Memory0()[l/4+1],o=getInt32Memory0()[l/4+2];if(o)throw takeObject(r);return this.__wbg_ptr=n>>>0,this}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}identify(e){const t=passStringToWasm0(e,wasm.__wbindgen_export_0,wasm.__wbindgen_export_1),i=WASM_VECTOR_LEN,n=wasm.telemeter_identify(this.__wbg_ptr,t,i);return takeObject(n)}track(e,t){const i=passStringToWasm0(e,wasm.__wbindgen_export_0,wasm.__wbindgen_export_1),n=WASM_VECTOR_LEN,r=wasm.telemeter_track(this.__wbg_ptr,i,n,addHeapObject(t));return takeObject(r)}log(e,t,i){const n=passStringToWasm0(t,wasm.__wbindgen_export_0,wasm.__wbindgen_export_1),r=WASM_VECTOR_LEN,o=wasm.telemeter_log(this.__wbg_ptr,addHeapObject(e),n,r,addHeapObject(i));return takeObject(o)}finish(){const e=this.__destroy_into_raw(),t=wasm.telemeter_finish(e);return takeObject(t)}debug(e){wasm.telemeter_debug(this.__wbg_ptr,isLikeNone(e)?16777215:e?1:0)}}async function __wbg_load(s,e){if(typeof Response=="function"&&s instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(s,e)}catch(i){if(s.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}const t=await s.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(s,e);return t instanceof WebAssembly.Instance?{instance:t,module:s}:t}}function __wbg_get_imports(){const s={};return s.wbg={},s.wbg.__wbindgen_string_new=function(e,t){const i=getStringFromWasm0(e,t);return addHeapObject(i)},s.wbg.__wbg_new_c728d68b8b34487e=function(){const e=new Object;return addHeapObject(e)},s.wbg.__wbg_status_7841bb47be2a8f16=function(e){return getObject(e).status},s.wbg.__wbg_headers_ea7ef583d1564b08=function(e){const t=getObject(e).headers;return addHeapObject(t)},s.wbg.__wbg_new0_ad75dd38f92424e2=function(){const e=new Date;return addHeapObject(e)},s.wbg.__wbg_getTime_ed6ee333b702f8fc=function(e){return getObject(e).getTime()},s.wbg.__wbindgen_object_drop_ref=function(e){takeObject(e)},s.wbg.__wbindgen_is_object=function(e){const t=getObject(e);return typeof t=="object"&&t!==null},s.wbg.__wbg_crypto_58f13aa23ffcb166=function(e){const t=getObject(e).crypto;return addHeapObject(t)},s.wbg.__wbg_process_5b786e71d465a513=function(e){const t=getObject(e).process;return addHeapObject(t)},s.wbg.__wbg_versions_c2ab80650590b6a2=function(e){const t=getObject(e).versions;return addHeapObject(t)},s.wbg.__wbg_node_523d7bd03ef69fba=function(e){const t=getObject(e).node;return addHeapObject(t)},s.wbg.__wbindgen_is_string=function(e){return typeof getObject(e)=="string"},s.wbg.__wbg_msCrypto_abcb1295e768d1f2=function(e){const t=getObject(e).msCrypto;return addHeapObject(t)},s.wbg.__wbg_require_2784e593a4674877=function(){return handleError(function(){const e=module.require;return addHeapObject(e)},arguments)},s.wbg.__wbg_newwithlength_13b5319ab422dcf6=function(e){const t=new Uint8Array(e>>>0);return addHeapObject(t)},s.wbg.__wbg_get_4a9aa5157afeb382=function(e,t){const i=getObject(e)[t>>>0];return addHeapObject(i)},s.wbg.__wbg_next_1989a20442400aaa=function(){return handleError(function(e){const t=getObject(e).next();return addHeapObject(t)},arguments)},s.wbg.__wbg_done_bc26bf4ada718266=function(e){return getObject(e).done},s.wbg.__wbg_value_0570714ff7d75f35=function(e){const t=getObject(e).value;return addHeapObject(t)},s.wbg.__wbg_iterator_7ee1a391d310f8e4=function(){return addHeapObject(Symbol.iterator)},s.wbg.__wbg_get_2aff440840bb6202=function(){return handleError(function(e,t){const i=Reflect.get(getObject(e),getObject(t));return addHeapObject(i)},arguments)},s.wbg.__wbg_next_15da6a3df9290720=function(e){const t=getObject(e).next;return addHeapObject(t)},s.wbg.__wbindgen_is_function=function(e){return typeof getObject(e)=="function"},s.wbg.__wbg_call_669127b9d730c650=function(){return handleError(function(e,t){const i=getObject(e).call(getObject(t));return addHeapObject(i)},arguments)},s.wbg.__wbindgen_object_clone_ref=function(e){const t=getObject(e);return addHeapObject(t)},s.wbg.__wbg_self_3fad056edded10bd=function(){return handleError(function(){const e=self.self;return addHeapObject(e)},arguments)},s.wbg.__wbg_window_a4f46c98a61d4089=function(){return handleError(function(){const e=window.window;return addHeapObject(e)},arguments)},s.wbg.__wbg_globalThis_17eff828815f7d84=function(){return handleError(function(){const e=globalThis.globalThis;return addHeapObject(e)},arguments)},s.wbg.__wbg_global_46f939f6541643c5=function(){return handleError(function(){const e=global.global;return addHeapObject(e)},arguments)},s.wbg.__wbindgen_is_undefined=function(e){return getObject(e)===void 0},s.wbg.__wbg_newnoargs_ccdcae30fd002262=function(e,t){const i=new Function(getStringFromWasm0(e,t));return addHeapObject(i)},s.wbg.__wbg_isArray_38525be7442aa21e=function(e){return Array.isArray(getObject(e))},s.wbg.__wbg_call_53fc3abd42e24ec8=function(){return handleError(function(e,t,i){const n=getObject(e).call(getObject(t),getObject(i));return addHeapObject(n)},arguments)},s.wbg.__wbg_isSafeInteger_c38b0a16d0c7cef7=function(e){return Number.isSafeInteger(getObject(e))},s.wbg.__wbg_new_feb65b865d980ae2=function(e,t){try{var i={a:e,b:t},n=(o,l)=>{const c=i.a;i.a=0;try{return __wbg_adapter_103(c,i.b,o,l)}finally{i.a=c}};const r=new Promise(n);return addHeapObject(r)}finally{i.a=i.b=0}},s.wbg.__wbindgen_memory=function(){const e=wasm.memory;return addHeapObject(e)},s.wbg.__wbg_buffer_344d9b41efe96da7=function(e){const t=getObject(e).buffer;return addHeapObject(t)},s.wbg.__wbg_new_d8a000788389a31e=function(e){const t=new Uint8Array(getObject(e));return addHeapObject(t)},s.wbg.__wbg_set_dcfd613a3420f908=function(e,t,i){getObject(e).set(getObject(t),i>>>0)},s.wbg.__wbg_length_a5587d6cd79ab197=function(e){return getObject(e).length},s.wbg.__wbindgen_string_get=function(e,t){const i=getObject(t),n=typeof i=="string"?i:void 0;var r=isLikeNone(n)?0:passStringToWasm0(n,wasm.__wbindgen_export_0,wasm.__wbindgen_export_1),o=WASM_VECTOR_LEN;getInt32Memory0()[e/4+1]=o,getInt32Memory0()[e/4+0]=r},s.wbg.__wbg_stringify_4039297315a25b00=function(){return handleError(function(e){const t=JSON.stringify(getObject(e));return addHeapObject(t)},arguments)},s.wbg.__wbg_set_40f7786a25a9cc7e=function(){return handleError(function(e,t,i){return Reflect.set(getObject(e),getObject(t),getObject(i))},arguments)},s.wbg.__wbg_has_cdf8b85f6e903c80=function(){return handleError(function(e,t){return Reflect.has(getObject(e),getObject(t))},arguments)},s.wbg.__wbg_fetch_701fcd2bde06379a=function(e,t){const i=getObject(e).fetch(getObject(t));return addHeapObject(i)},s.wbg.__wbg_fetch_b5d6bebed1e6c2d2=function(e){const t=fetch(getObject(e));return addHeapObject(t)},s.wbg.__wbg_newwithbyteoffsetandlength_2dc04d99088b15e3=function(e,t,i){const n=new Uint8Array(getObject(e),t>>>0,i>>>0);return addHeapObject(n)},s.wbg.__wbg_new_e4960143e41697a4=function(){return handleError(function(){const e=new AbortController;return addHeapObject(e)},arguments)},s.wbg.__wbg_signal_1ed842bebd6ae322=function(e){const t=getObject(e).signal;return addHeapObject(t)},s.wbg.__wbg_abort_8355f201f30300bb=function(e){getObject(e).abort()},s.wbg.__wbindgen_error_new=function(e,t){const i=new Error(getStringFromWasm0(e,t));return addHeapObject(i)},s.wbg.__wbindgen_jsval_loose_eq=function(e,t){return getObject(e)==getObject(t)},s.wbg.__wbindgen_boolean_get=function(e){const t=getObject(e);return typeof t=="boolean"?t?1:0:2},s.wbg.__wbindgen_number_get=function(e,t){const i=getObject(t),n=typeof i=="number"?i:void 0;getFloat64Memory0()[e/8+1]=isLikeNone(n)?0:n,getInt32Memory0()[e/4+0]=!isLikeNone(n)},s.wbg.__wbg_instanceof_Uint8Array_19e6f142a5e7e1e1=function(e){let t;try{t=getObject(e)instanceof Uint8Array}catch{t=!1}return t},s.wbg.__wbg_instanceof_ArrayBuffer_c7cc317e5c29cc0d=function(e){let t;try{t=getObject(e)instanceof ArrayBuffer}catch{t=!1}return t},s.wbg.__wbg_entries_6d727b73ee02b7ce=function(e){const t=Object.entries(getObject(e));return addHeapObject(t)},s.wbg.__wbg_String_917f38a1211cf44b=function(e,t){const i=String(getObject(t)),n=passStringToWasm0(i,wasm.__wbindgen_export_0,wasm.__wbindgen_export_1),r=WASM_VECTOR_LEN;getInt32Memory0()[e/4+1]=r,getInt32Memory0()[e/4+0]=n},s.wbg.__wbg_warn_ade8d3b7ecee11ff=function(e,t){console.warn(getObject(e),getObject(t))},s.wbg.__wbg_readyState_13e55da5ad6d64e2=function(e){return getObject(e).readyState},s.wbg.__wbg_warn_4affe1093892a4ef=function(e){console.warn(getObject(e))},s.wbg.__wbg_close_f4135085ec3fc8f0=function(){return handleError(function(e){getObject(e).close()},arguments)},s.wbg.__wbg_new_b9b318679315404f=function(){return handleError(function(e,t){const i=new WebSocket(getStringFromWasm0(e,t));return addHeapObject(i)},arguments)},s.wbg.__wbg_setbinaryType_dcb62e0f2b346301=function(e,t){getObject(e).binaryType=takeObject(t)},s.wbg.__wbg_log_7811587c4c6d2844=function(e){console.log(getObject(e))},s.wbg.__wbg_error_f0a6627f4b23c19d=function(e){console.error(getObject(e))},s.wbg.__wbg_info_3ca7870690403fee=function(e){console.info(getObject(e))},s.wbg.__wbg_document_183cf1eecfdbffee=function(e){const t=getObject(e).document;return isLikeNone(t)?0:addHeapObject(t)},s.wbg.__wbg_visibilityState_9721703a5ef75faf=function(e){const t=getObject(e).visibilityState;return addHeapObject(t)},s.wbg.__wbg_getwithrefkey_3b3c46ba20582127=function(e,t){const i=getObject(e)[getObject(t)];return addHeapObject(i)},s.wbg.__wbg_length_cace2e0b3ddc0502=function(e){return getObject(e).length},s.wbg.__wbg_addEventListener_0f2891b0794e07fa=function(){return handleError(function(e,t,i,n){getObject(e).addEventListener(getStringFromWasm0(t,i),getObject(n))},arguments)},s.wbg.__wbg_removeEventListener_104d11302bb212d1=function(){return handleError(function(e,t,i,n){getObject(e).removeEventListener(getStringFromWasm0(t,i),getObject(n))},arguments)},s.wbg.__wbindgen_is_bigint=function(e){return typeof getObject(e)=="bigint"},s.wbg.__wbindgen_bigint_from_i64=function(e){return addHeapObject(e)},s.wbg.__wbindgen_in=function(e,t){return getObject(e)in getObject(t)},s.wbg.__wbindgen_bigint_from_u64=function(e){const t=BigInt.asUintN(64,e);return addHeapObject(t)},s.wbg.__wbindgen_jsval_eq=function(e,t){return getObject(e)===getObject(t)},s.wbg.__wbg_localStorage_e11f72e996a4f5d9=function(){return handleError(function(e){const t=getObject(e).localStorage;return isLikeNone(t)?0:addHeapObject(t)},arguments)},s.wbg.__wbg_getItem_c81cd3ae30cd579a=function(){return handleError(function(e,t,i,n){const r=getObject(t).getItem(getStringFromWasm0(i,n));var o=isLikeNone(r)?0:passStringToWasm0(r,wasm.__wbindgen_export_0,wasm.__wbindgen_export_1),l=WASM_VECTOR_LEN;getInt32Memory0()[e/4+1]=l,getInt32Memory0()[e/4+0]=o},arguments)},s.wbg.__wbg_navigator_7078da62d92ff5ad=function(e){const t=getObject(e).navigator;return addHeapObject(t)},s.wbg.__wbg_mediaDevices_e00b1f64d2b9939f=function(){return handleError(function(e){const t=getObject(e).mediaDevices;return addHeapObject(t)},arguments)},s.wbg.__wbg_enumerateDevices_619d52f5eef34c2f=function(){return handleError(function(e){const t=getObject(e).enumerateDevices();return addHeapObject(t)},arguments)},s.wbg.__wbg_setItem_fe04f524052a3839=function(){return handleError(function(e,t,i,n,r){getObject(e).setItem(getStringFromWasm0(t,i),getStringFromWasm0(n,r))},arguments)},s.wbg.__wbindgen_cb_drop=function(e){const t=takeObject(e).original;return t.cnt--==1?(t.a=0,!0):!1},s.wbg.__wbg_deviceId_58f7da2228a26c02=function(e,t){const i=getObject(t).deviceId,n=passStringToWasm0(i,wasm.__wbindgen_export_0,wasm.__wbindgen_export_1),r=WASM_VECTOR_LEN;getInt32Memory0()[e/4+1]=r,getInt32Memory0()[e/4+0]=n},s.wbg.__wbg_instanceof_Response_944e2745b5db71f5=function(e){let t;try{t=getObject(e)instanceof Response}catch{t=!1}return t},s.wbg.__wbg_randomFillSync_a0d98aa11c81fe89=function(){return handleError(function(e,t){getObject(e).randomFillSync(takeObject(t))},arguments)},s.wbg.__wbg_subarray_6ca5cfa7fbb9abbe=function(e,t,i){const n=getObject(e).subarray(t>>>0,i>>>0);return addHeapObject(n)},s.wbg.__wbg_getRandomValues_504510b5564925af=function(){return handleError(function(e,t){getObject(e).getRandomValues(getObject(t))},arguments)},s.wbg.__wbindgen_bigint_get_as_i64=function(e,t){const i=getObject(t),n=typeof i=="bigint"?i:void 0;getBigInt64Memory0()[e/8+1]=isLikeNone(n)?BigInt(0):n,getInt32Memory0()[e/4+0]=!isLikeNone(n)},s.wbg.__wbindgen_debug_string=function(e,t){const i=debugString(getObject(t)),n=passStringToWasm0(i,wasm.__wbindgen_export_0,wasm.__wbindgen_export_1),r=WASM_VECTOR_LEN;getInt32Memory0()[e/4+1]=r,getInt32Memory0()[e/4+0]=n},s.wbg.__wbindgen_throw=function(e,t){throw new Error(getStringFromWasm0(e,t))},s.wbg.__wbg_then_89e1c559530b85cf=function(e,t){const i=getObject(e).then(getObject(t));return addHeapObject(i)},s.wbg.__wbg_queueMicrotask_e5949c35d772a669=function(e){queueMicrotask(getObject(e))},s.wbg.__wbg_then_1bbc9edafd859b06=function(e,t,i){const n=getObject(e).then(getObject(t),getObject(i));return addHeapObject(n)},s.wbg.__wbg_queueMicrotask_2be8b97a81fe4d00=function(e){const t=getObject(e).queueMicrotask;return addHeapObject(t)},s.wbg.__wbg_resolve_a3252b2860f0a09e=function(e){const t=Promise.resolve(getObject(e));return addHeapObject(t)},s.wbg.__wbg_url_1f609e63ff1a7983=function(e,t){const i=getObject(t).url,n=passStringToWasm0(i,wasm.__wbindgen_export_0,wasm.__wbindgen_export_1),r=WASM_VECTOR_LEN;getInt32Memory0()[e/4+1]=r,getInt32Memory0()[e/4+0]=n},s.wbg.__wbg_send_2860805104507701=function(){return handleError(function(e,t,i){getObject(e).send(getArrayU8FromWasm0(t,i))},arguments)},s.wbg.__wbg_instanceof_Window_cde2416cf5126a72=function(e){let t;try{t=getObject(e)instanceof Window}catch{t=!1}return t},s.wbg.__wbg_new_19676474aa414d62=function(){return handleError(function(){const e=new Headers;return addHeapObject(e)},arguments)},s.wbg.__wbg_append_feec4143bbf21904=function(){return handleError(function(e,t,i,n,r){getObject(e).append(getStringFromWasm0(t,i),getStringFromWasm0(n,r))},arguments)},s.wbg.__wbg_newwithstrandinit_29038da14d09e330=function(){return handleError(function(e,t,i){const n=new Request(getStringFromWasm0(e,t),getObject(i));return addHeapObject(n)},arguments)},s.wbg.__wbindgen_closure_wrapper1532=function(e,t,i){const n=makeClosure(e,t,76,__wbg_adapter_46);return addHeapObject(n)},s.wbg.__wbindgen_closure_wrapper1602=function(e,t,i){const n=makeMutClosure(e,t,76,__wbg_adapter_49);return addHeapObject(n)},s.wbg.__wbindgen_closure_wrapper1834=function(e,t,i){const n=makeMutClosure(e,t,76,__wbg_adapter_52);return addHeapObject(n)},s}function __wbg_finalize_init(s,e){return wasm=s.exports,__wbg_init.__wbindgen_wasm_module=e,cachedBigInt64Memory0=null,cachedFloat64Memory0=null,cachedInt32Memory0=null,cachedUint8Memory0=null,wasm.__wbindgen_start(),wasm}async function __wbg_init(s){if(wasm!==void 0)return wasm;typeof s>"u"&&(s=new URL("/build/assets/telemeter_wasm_bg.443ced7e.wasm",self.location));const e=__wbg_get_imports();(typeof s=="string"||typeof Request=="function"&&s instanceof Request||typeof URL=="function"&&s instanceof URL)&&(s=fetch(s));const{instance:t,module:i}=await __wbg_load(await s,e);return __wbg_finalize_init(t,i)}class Telemeter{static init(e){!this.telemeter&&!this.waitingForInit&&(this.waitingForInit=!0,__wbg_init(e.url).then(()=>{this.telemeter=new Telemeter$1(e.solution,e.hosts,e.config)}).catch(t=>{console.log(t)}).finally(()=>this.waitingForInit=!1))}static async finish(){if(!!this.telemeter)try{let e=this.telemeter;this.telemeter=void 0,await e.finish()}catch(e){console.error(e)}}}class ContentManager{constructor(e){if(this.editorAttributes={},"editorAttributes"in e)this.editorAttributes=e.editorAttributes;else throw new Error("ContentManager constructor error: editorAttributes property missed.");if(this.customEditors=null,"customEditors"in e&&(this.customEditors=e.customEditors),this.environment={},"environment"in e)this.environment=e.environment;else throw new Error("ContentManager constructor error: environment property missed");if(this.language="","language"in e)this.language=e.language;else throw new Error("ContentManager constructor error: language property missed");this.editorListener=new EditorListener,this.editor=null,this.ua=navigator.userAgent.toLowerCase(),this.deviceProperties={},this.deviceProperties.isAndroid=this.ua.indexOf("android")>-1,this.deviceProperties.isIOS=ContentManager.isIOS(),this.toolbar=null,this.dbclick=null,this.modalDialogInstance=null,this.listeners=new Listeners,this.mathML=null,this.isNewElement=!0,this.integrationModel=null}addListener(e){this.listeners.add(e)}setIntegrationModel(e){this.integrationModel=e}setModalDialogInstance(e){this.modalDialogInstance=e}insert(){this.updateTitle(this.modalDialogInstance),this.insertEditor(this.modalDialogInstance)}insertEditor(){if(ContentManager.isEditorLoaded()){if(this.editor=window.com.wiris.jsEditor.JsEditor.newInstance(this.editorAttributes),this.editor.insertInto(this.modalDialogInstance.contentContainer),this.editor.focus(),this.modalDialogInstance.rtl&&this.editor.action("rtl"),this.editor.getEditorModel().isRTL()&&(this.editor.element.style.direction="rtl"),this.editor.getEditorModel().addEditorListener(this.editorListener),this.modalDialogInstance.deviceProperties.isIOS){setTimeout(function(){this.hasOwnProperty("modalDialogInstance")&&this.modalDialogInstance.hideKeyboard()},400);const e=document.getElementsByClassName("wrs_formulaDisplay")[0];Util.addEvent(e,"focus",this.modalDialogInstance.handleOpenedIosSoftkeyboard),Util.addEvent(e,"blur",this.modalDialogInstance.handleClosedIosSoftkeyboard)}this.listeners.fire("onLoad",{})}else setTimeout(ContentManager.prototype.insertEditor.bind(this),100)}init(){ContentManager.isEditorLoaded()||this.addEditorAsExternalDependency()}addEditorAsExternalDependency(){const e=document.createElement("script");e.type="text/javascript";let t=Configuration.get("editorUrl");const i=document.createElement("a");ContentManager.setHrefToAnchorElement(i,t),ContentManager.setProtocolToAnchorElement(i),t=ContentManager.getURLFromAnchorElement(i);const n=this.getEditorStats();e.src=`${t}?lang=${this.language}&stats-editor=${n.editor}&stats-mode=${n.mode}&stats-version=${n.version}`,document.getElementsByTagName("head")[0].appendChild(e)}static setHrefToAnchorElement(e,t){e.href=t}static setProtocolToAnchorElement(e){window.location.href.indexOf("https://")===0&&e.protocol==="http:"&&(e.protocol="https:")}static getURLFromAnchorElement(e){const t=e.port==="80"||e.port==="443"||e.port==="";return`${e.protocol}//${e.hostname}${t?"":`:${e.port}`}${e.pathname.startsWith("/")?e.pathname:`/${e.pathname}`}`}getEditorStats(){const e={};return"editor"in this.environment?e.editor=this.environment.editor:e.editor="unknown","mode"in this.environment?e.mode=this.environment.mode:e.mode=Configuration.get("saveMode"),"version"in this.environment?e.version=this.environment.version:e.version=Configuration.get("version"),e}static isIOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}static isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}static isEditorLoaded(){return window.com&&window.com.wiris&&window.com.wiris.jsEditor&&window.com.wiris.jsEditor.JsEditor&&window.com.wiris.jsEditor.JsEditor.newInstance}setInitialContent(){this.isNewElement||this.setMathML(this.mathML)}setMathML(e,t){typeof t>"u"&&(t=!1),this.editor.setMathMLWithCallback(e,()=>{this.editorListener.setWaitingForChanges(!0)}),setTimeout(()=>{this.editorListener.setIsContentChanged(!1)},500),t||this.onFocus()}onFocus(){typeof this.editor<"u"&&this.editor!=null&&(this.editor.focus(),setTimeout(()=>{this.editor.focus()},100))}submitAction(){if(this.editor.isFormulaEmpty())this.integrationModel.updateFormula(null);else{let e=this.editor.getMathMLWithSemantics();if(this.customEditors.getActiveEditor()!==null){const{toolbar:i}=this.customEditors.getActiveEditor();e=MathML.addCustomEditorClassAttribute(e,i)}else Object.keys(this.customEditors.editors).forEach(i=>{e=MathML.removeCustomEditorClassAttribute(e,i)});const t=MathML.mathMLEntities(e);this.integrationModel.updateFormula(t)}this.customEditors.disable(),this.integrationModel.notifyWindowClosed(),this.setEmptyMathML(),this.customEditors.disable()}setEmptyMathML(){const e=this.deviceProperties.isAndroid||this.deviceProperties.isIOS,t=this.editor.getEditorModel().isRTL();if(e||this.integrationModel.forcedHandMode){const i=`<math${t?' dir="rtl"':""}><semantics><annotation encoding="application/json">[]</annotation></semantics></math>`;this.setMathML(i,!0)}else{const i=`<math${t?' dir="rtl"':""}/>`;this.setMathML(i,!0)}}onOpen(){this.isNewElement?this.setEmptyMathML():this.setMathML(this.mathML);let e=this.updateToolbar();this.onFocus(),this.deviceProperties.isIOS&&document.documentElement.clientWidth/window.innerWidth!==1&&this.setKeyboardMode();let t=this.dbclick?"formula":"button";try{Telemeter.telemeter.track("OPENED_MTCT_EDITOR",{toolbar:e,trigger:t})}catch(i){console.error("Error tracking OPENED_MTCT_EDITOR",i)}Core.globalListeners.fire("onModalOpen",{}),this.integrationModel.forcedHandMode&&(this.hideHandModeButton(),this.mathML&&!this.mathML.includes('<annotation encoding="application/json">')&&!this.isNewElement&&this.openHandOnKeyboardMathML(this.mathML,this.editor))}setKeyboardMode(){const e=document.getElementsByClassName("wrs_handOpen wrs_disablePalette")[0];e?(e.classList.remove("wrs_handOpen"),e.classList.remove("wrs_disablePalette")):setTimeout(ContentManager.prototype.setKeyboardMode.bind(this),100)}hideHandModeButton(e=!0){if(this.handSwitchHidden)return;const t="div.wrs_editor.wrs_flexEditor.wrs_withHand.wrs_animated .wrs_handWrapper input[type=button]";if(e){const i=new MutationObserver(n=>{const r=document.querySelector(t);r&&(r.hidden=!0,this.handSwitchHidden=!0,i.disconnect())});i.observe(document.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}}async openHandOnKeyboardMathML(e,t){await new Promise(r=>{t.setMathMLWithCallback(e,r)}),await this.waitForHand(t);const i=t.hand;t.handTemporalMathML=t.getMathML();const n=t.editorModel.getHandStrokes();i.setStrokes(n),i.fitStrokes(!0),t.openHand()}async waitForHand(e){for(;!e.hand;)await new Promise(t=>setTimeout(t,100))}updateToolbar(){this.updateTitle(this.modalDialogInstance);const e=this.customEditors.getActiveEditor();let t;return e?(t=e.toolbar?e.toolbar:_wrs_int_wirisProperties.toolbar,(this.toolbar==null||this.toolbar!==t)&&this.setToolbar(t)):(t=this.getToolbar(),(this.toolbar==null||this.toolbar!==t)&&(this.setToolbar(t),this.customEditors.disable())),t}updateTitle(){const e=this.customEditors.getActiveEditor();e?this.modalDialogInstance.setTitle(e.title):this.modalDialogInstance.setTitle("MathType")}getToolbar(){let e="general";return"toolbar"in this.editorAttributes&&({toolbar:e}=this.editorAttributes),e==="general"&&(e=typeof _wrs_int_wirisProperties>"u"||typeof _wrs_int_wirisProperties.toolbar>"u"?"general":_wrs_int_wirisProperties.toolbar),e}setToolbar(e){this.toolbar=e,this.editor.setParams({toolbar:this.toolbar})}setCustomHeaders(e){let t={};return typeof e=="object"?t=e:typeof e=="string"&&(t=Util.convertStringToObject(e)),this.editor.setParams({customHeaders:t}),t}hasChanges(){return!this.editor.isFormulaEmpty()&&this.editorListener.getIsContentChanged()}onKeyDown(e){if(e.key!==void 0&&e.repeat===!1)if(e.key==="Escape"||e.key==="Esc"){let t=document.getElementsByClassName("wrs_expandButton wrs_expandButtonFor3RowsLayout wrs_pressed");t.length===0&&(t=document.getElementsByClassName("wrs_expandButton wrs_expandButtonFor2RowsLayout wrs_pressed"),t.length===0&&(t=document.getElementsByClassName("wrs_select wrs_pressed"),t.length===0&&(this.modalDialogInstance.cancelAction(),e.stopPropagation(),e.preventDefault())))}else e.shiftKey&&e.key==="Tab"?document.activeElement===this.modalDialogInstance.submitButton?(this.editor.focus(),e.stopPropagation(),e.preventDefault()):document.querySelector('[title="Manual"]')===document.activeElement?(this.modalDialogInstance.closeDiv.focus(),e.stopPropagation(),e.preventDefault()):document.activeElement===this.modalDialogInstance.minimizeDiv&&this.modalDialogInstance.properties.state!=="minimized"&&(this.modalDialogInstance.cancelButton.focus(),e.stopPropagation(),e.preventDefault()):e.key==="Tab"&&(document.activeElement===this.modalDialogInstance.cancelButton?(this.modalDialogInstance.minimizeDiv.focus(),e.stopPropagation(),e.preventDefault()):document.activeElement===this.modalDialogInstance.closeDiv?this.modalDialogInstance.properties.state!=="minimized"&&(document.querySelector('[title="Manual"]').focus(),e.stopPropagation(),e.preventDefault()):document.getElementsByClassName("wrs_formulaDisplay")[0].getAttribute("class")==="wrs_formulaDisplay wrs_focused"&&(this.modalDialogInstance.submitButton.focus(),e.stopPropagation(),e.preventDefault()))}}class CustomEditors{constructor(){this.editors=[],this.activeEditor="default"}addEditor(e,t){const i={};i.name=t.name,i.toolbar=t.toolbar,i.icon=t.icon,i.confVariable=t.confVariable,i.title=t.title,i.tooltip=t.tooltip,this.editors[e]=i}enable(e){this.activeEditor=e}disable(){this.activeEditor="default"}getActiveEditor(){return this.activeEditor!=="default"?this.editors[this.activeEditor]:null}}const jsProperties={imageCustomEditorName:"data-custom-editor",imageClassName:"Wirisformula",CASClassName:"Wiriscas"};class Event{constructor(){this.cancelled=!1,this.defaultPrevented=!1}cancel(){this.cancelled=!0}preventDefault(){this.defaultPrevented=!0}}class PopUpMessage{constructor(e){this.overlayElement=e.overlayElement,this.callbacks=e.callbacks,this.overlayWrapper=this.overlayElement.appendChild(document.createElement("div")),this.overlayWrapper.setAttribute("class","wrs_popupmessage_overlay_envolture"),this.message=this.overlayWrapper.appendChild(document.createElement("div")),this.message.id="wrs_popupmessage",this.message.setAttribute("class","wrs_popupmessage_panel"),this.message.setAttribute("role","dialog"),this.message.setAttribute("aria-describedby","description_txt");const t=document.createElement("p"),i=document.createTextNode(e.strings.message);t.appendChild(i),t.id="description_txt",this.message.appendChild(t);const n=this.overlayWrapper.appendChild(document.createElement("div"));n.setAttribute("class","wrs_popupmessage_overlay"),n.addEventListener("click",this.cancelAction.bind(this)),this.buttonArea=this.message.appendChild(document.createElement("div")),this.buttonArea.setAttribute("class","wrs_popupmessage_button_area"),this.buttonArea.id="wrs_popup_button_area";const r={class:"wrs_button_accept",innerHTML:e.strings.submitString,id:"wrs_popup_accept_button","data-testid":"mtcteditor-cd-close-button"};this.closeButton=this.createButton(r,this.closeAction.bind(this)),this.buttonArea.appendChild(this.closeButton);const o={class:"wrs_button_cancel",innerHTML:e.strings.cancelString,id:"wrs_popup_cancel_button","data-testid":"mtcteditor-cd-cancel-button"};this.cancelButton=this.createButton(o,this.cancelAction.bind(this)),this.buttonArea.appendChild(this.cancelButton)}createButton(e,t){let i={};return i=document.createElement("button"),i.setAttribute("id",e.id),i.setAttribute("class",e.class),i.innerHTML=e.innerHTML,i.addEventListener("click",t),e["data-testid"]&&i.setAttribute("data-testid",e["data-testid"]),i}show(){this.overlayWrapper.style.display!=="block"?(document.activeElement.blur(),this.overlayWrapper.style.display="block",this.closeButton.focus()):this.overlayWrapper.style.display="none"}cancelAction(){this.overlayWrapper.style.display="none",typeof this.callbacks.cancelCallback<"u"&&this.callbacks.cancelCallback()}closeAction(){this.cancelAction(),typeof this.callbacks.closeCallback<"u"&&this.callbacks.closeCallback(),IntegrationModel.setActionsOnCancelButtons()}onKeyDown(e){e.key!==void 0&&(e.key==="Escape"||e.key==="Esc"?(this.cancelAction(),e.stopPropagation(),e.preventDefault()):e.key==="Tab"&&(document.activeElement===this.closeButton?this.cancelButton.focus():this.closeButton.focus(),e.stopPropagation(),e.preventDefault()))}}const closeIcon="/build/assets/close_icon.6c293038.svg",closeHoverIcon="/build/assets/close_icon_h.5594af63.svg",fullsIcon="/build/assets/fulls_icon.cad691e3.svg",fullsHoverIcon="/build/assets/fulls_icon_h.a13b9c25.svg",minIcon="/build/assets/min_icon.770d388a.svg",minHoverIcon="/build/assets/min_icon_h.7ea449b0.svg",minsIcon="/build/assets/mins_icon.c249159a.svg",minsHoverIcon="/build/assets/mins_icon_h.73b934d5.svg",maxIcon="/build/assets/max_icon.50fa1d69.svg",maxHoverIcon="/build/assets/max_icon_h.eecdaee0.svg";class ModalDialog{constructor(e){this.attributes=e;const t=navigator.userAgent.toLowerCase(),i=t.indexOf("android")>-1,n=ContentManager.isIOS();this.iosSoftkeyboardOpened=!1,this.iosMeasureUnit=t.indexOf("crios")===-1?"%":"vh",this.iosDivHeight=`100%${this.iosMeasureUnit}`;const r=window.outerWidth,o=window.outerHeight,l=r>o,c=r<o;l&&this.attributes.height>o,c&&this.attributes.width>r;const d=ContentManager.isMobile();this.instanceId=document.getElementsByClassName("wrs_modal_dialogContainer").length,this.deviceProperties={orientation:l?"landscape":"portrait",isAndroid:i,isIOS:n,isMobile:d,isDesktop:!d&&!n&&!i},this.properties={created:!1,state:"",previousState:"",position:{bottom:0,right:10},size:{height:338,width:580}},this.websiteBeforeLockParameters=null;let a={};a.class="wrs_modal_overlay",a.id=this.getElementId(a.class),this.overlay=Util.createElement("div",a),a={},a.class="wrs_modal_title_bar",a.id=this.getElementId(a.class),this.titleBar=Util.createElement("div",a),a={},a.class="wrs_modal_title",a.id=this.getElementId(a.class),this.title=Util.createElement("div",a),this.title.innerHTML="offline",a={},a.class="wrs_modal_close_button",a.id=this.getElementId(a.class),a.title=StringManager.get("close"),a.style={},this.closeDiv=Util.createElement("a",a),this.closeDiv.setAttribute("role","button"),this.closeDiv.setAttribute("tabindex",3);let m=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(closeIcon)})`,h=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(closeHoverIcon)})`;this.closeDiv.setAttribute("style",m),this.closeDiv.setAttribute("onmouseover",`this.style = "${h}";`),this.closeDiv.setAttribute("onmouseout",`this.style = "${m}";`),this.closeDiv.setAttribute("data-testid","mtcteditor-close-button"),a={},a.class="wrs_modal_stack_button",a.id=this.getElementId(a.class),a.title=StringManager.get("exit_fullscreen"),this.stackDiv=Util.createElement("a",a),this.stackDiv.setAttribute("role","button"),this.stackDiv.setAttribute("tabindex",2),m=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(minsIcon)})`,h=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(minsHoverIcon)})`,this.stackDiv.setAttribute("style",m),this.stackDiv.setAttribute("onmouseover",`this.style = "${h}";`),this.stackDiv.setAttribute("onmouseout",`this.style = "${m}";`),this.stackDiv.setAttribute("data-testid","mtcteditor-fullscreen-disable-button"),a={},a.class="wrs_modal_maximize_button",a.id=this.getElementId(a.class),a.title=StringManager.get("fullscreen"),this.maximizeDiv=Util.createElement("a",a),this.maximizeDiv.setAttribute("role","button"),this.maximizeDiv.setAttribute("tabindex",2),m=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(fullsIcon)})`,h=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(fullsHoverIcon)})`,this.maximizeDiv.setAttribute("style",m),this.maximizeDiv.setAttribute("onmouseover",`this.style = "${h}";`),this.maximizeDiv.setAttribute("onmouseout",`this.style = "${m}";`),this.maximizeDiv.setAttribute("data-testid","mtcteditor-fullscreen-enable-button"),a={},a.class="wrs_modal_minimize_button",a.id=this.getElementId(a.class),a.title=StringManager.get("minimize"),this.minimizeDiv=Util.createElement("a",a),this.minimizeDiv.setAttribute("role","button"),this.minimizeDiv.setAttribute("tabindex",1),m=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(minIcon)})`,h=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(minHoverIcon)})`,this.minimizeDiv.setAttribute("style",m),this.minimizeDiv.setAttribute("onmouseover",`this.style = "${h}";`),this.minimizeDiv.setAttribute("onmouseout",`this.style = "${m}";`),this.minimizeDiv.setAttribute("data-testid","mtcteditor-minimize-button"),a={},a.class="wrs_modal_dialogContainer",a.id=this.getElementId(a.class),a.role="dialog",this.container=Util.createElement("div",a),this.container.setAttribute("aria-labeledby","wrs_modal_title[0]"),a={},a.class="wrs_modal_wrapper",a.id=this.getElementId(a.class),this.wrapper=Util.createElement("div",a),a={},a.class="wrs_content_container",a.id=this.getElementId(a.class),this.contentContainer=Util.createElement("div",a),a={},a.class="wrs_modal_controls",a.id=this.getElementId(a.class),this.controls=Util.createElement("div",a),a={},a.class="wrs_modal_buttons_container",a.id=this.getElementId(a.class),this.buttonContainer=Util.createElement("div",a),this.submitButton=this.createSubmitButton({id:this.getElementId("wrs_modal_button_accept"),class:"wrs_modal_button_accept",innerHTML:StringManager.get("accept"),"data-testid":"mtcteditor-insert-button"},this.submitAction.bind(this)),this.cancelButton=this.createSubmitButton({id:this.getElementId("wrs_modal_button_cancel"),class:"wrs_modal_button_cancel",innerHTML:StringManager.get("cancel"),"data-testid":"mtcteditor-cancel-button"},this.cancelAction.bind(this)),this.contentManager=null;const f={cancelString:StringManager.get("cancel"),submitString:StringManager.get("close"),message:StringManager.get("close_modal_warning")},_={closeCallback:()=>{this.close("mtc_close")},cancelCallback:()=>{this.focus()}},w={overlayElement:this.container,callbacks:_,strings:f};this.popup=new PopUpMessage(w),this.rtl=!1,"rtl"in this.attributes&&(this.rtl=this.attributes.rtl),this.handleOpenedIosSoftkeyboard=this.handleOpenedIosSoftkeyboard.bind(this),this.handleClosedIosSoftkeyboard=this.handleClosedIosSoftkeyboard.bind(this)}setContentManager(e){this.contentManager=e}getContentManager(){return this.contentManager}async submitAction(){typeof this.contentManager.submitAction<"u"&&this.contentManager.submitAction(),await this.close("mtc_insert")}async cancelAction(){typeof this.contentManager.hasChanges>"u"||!this.contentManager.hasChanges()?(IntegrationModel.setActionsOnCancelButtons(),await this.close("mtc_close")):this.showPopUpMessage()}createSubmitButton(e,t){class i{constructor(){this.element=document.createElement("button"),this.element.id=e.id,this.element.className=e.class,this.element.innerHTML=e.innerHTML,this.element.dataset.testid=e["data-testid"],Util.addEvent(this.element,"click",t)}getElement(){return this.element}}return new i(e,t).getElement()}create(){this.titleBar.appendChild(this.closeDiv),this.titleBar.appendChild(this.stackDiv),this.titleBar.appendChild(this.maximizeDiv),this.titleBar.appendChild(this.minimizeDiv),this.titleBar.appendChild(this.title),this.deviceProperties.isDesktop&&this.container.appendChild(this.titleBar),this.wrapper.appendChild(this.contentContainer),this.wrapper.appendChild(this.controls),this.controls.appendChild(this.buttonContainer),this.buttonContainer.appendChild(this.submitButton),this.buttonContainer.appendChild(this.cancelButton),this.container.appendChild(this.wrapper),this.recalculateScrollBar(),document.body.appendChild(this.container),document.body.appendChild(this.overlay),this.deviceProperties.isDesktop?(this.createModalWindowDesktop(),this.createResizeButtons(),this.addListeners(),Configuration.get("modalWindowFullScreen")&&this.maximize()):this.deviceProperties.isAndroid?this.createModalWindowAndroid():this.deviceProperties.isIOS&&this.createModalWindowIos(),this.contentManager!=null&&this.contentManager.insert(this),this.properties.open=!0,this.properties.created=!0,this.isRTL()&&(this.container.style.right=`${window.innerWidth-this.scrollbarWidth-this.container.offsetWidth}px`,this.container.className+=" wrs_modal_rtl")}createResizeButtons(){this.resizerBR=document.createElement("div"),this.resizerBR.className="wrs_bottom_right_resizer",this.resizerBR.innerHTML="\u25E2",this.resizerBR.dataset.testid="mtcteditor-resize-button-right",this.resizerTL=document.createElement("div"),this.resizerTL.className="wrs_bottom_left_resizer",this.resizerTL.dataset.testid="mtcteditor-resize-button-left",this.container.appendChild(this.resizerBR),this.titleBar.appendChild(this.resizerTL),Util.addEvent(this.resizerBR,"mousedown",this.activateResizeStateBR.bind(this)),Util.addEvent(this.resizerTL,"mousedown",this.activateResizeStateTL.bind(this))}activateResizeStateBR(e){this.initializeResizeProperties(e,!1)}activateResizeStateTL(e){this.initializeResizeProperties(e,!0)}initializeResizeProperties(e,t){Util.addClass(document.body,"wrs_noselect"),Util.addClass(this.overlay,"wrs_overlay_active"),this.resizeDataObject={x:this.eventClient(e).X,y:this.eventClient(e).Y},this.initialWidth=parseInt(this.container.style.width,10),this.initialHeight=parseInt(this.container.style.height,10),t?this.leftScale=!0:(this.initialRight=parseInt(this.container.style.right,10),this.initialBottom=parseInt(this.container.style.bottom,10)),this.initialRight||(this.initialRight=0),this.initialBottom||(this.initialBottom=0),document.body.style["user-select"]="none"}open(){this.removeClass("wrs_closed");const{isIOS:e}=this.deviceProperties,{isAndroid:t}=this.deviceProperties,{isMobile:i}=this.deviceProperties;if((e||t||i)&&(this.restoreWebsiteScale(),this.lockWebsiteScroll(),setTimeout(()=>{this.hideKeyboard()},400)),this.properties.created?(this.properties.open||(this.properties.open=!0,!this.deviceProperties.isAndroid&&!this.deviceProperties.isIOS&&this.restoreState()),this.deviceProperties.isDesktop&&Configuration.get("modalWindowFullScreen")&&this.maximize(),this.deviceProperties.isIOS&&(this.iosSoftkeyboardOpened=!1,this.setContainerHeight(`${100+this.iosMeasureUnit}`))):this.create(),ContentManager.isEditorLoaded())this.contentManager.onOpen(this);else{const n=Listeners.newListener("onLoad",()=>{this.contentManager.onOpen(this)});this.contentManager.addListener(n)}}async close(e){if(this.removeClass("wrs_maximized"),this.removeClass("wrs_minimized"),this.removeClass("wrs_stack"),this.addClass("wrs_closed"),this.saveModalProperties(),this.unlockWebsiteScroll(),this.properties.open=!1,e)try{await Telemeter.telemeter.track("CLOSED_MTCT_EDITOR",{toolbar:this.contentManager.toolbar,trigger:e})}catch(t){console.error("Error tracking CLOSED_MTCT_EDITOR",t)}Core.globalListeners.fire("onModalClose",{})}destroy(){this.close(),this.removeListeners(),this.overlay.remove(),this.container.remove(),this.properties.created=!1}restoreWebsiteScale(){let e=document.querySelector("meta[name=viewport]");const t=["initial-scale=","minimum-scale=","maximum-scale="],i=["1.0","1.0","1.0"],n=(r,o)=>{const l=r.getAttribute("content");if(l){const c=l.split(",");let d="";const a=[];for(let m=0;m<c.length;m+=1){let h=!1,f=0;for(;!h&&f<o.length;)c[m].indexOf(o[f])&&(h=!0),f+=1;h||a.push(c[m])}for(let m=0;m<o.length;m+=1){const h=o[m]+i[m];d+=m===0?h:`,${h}`}for(let m=0;m<a.length;m+=1)d+=`,${a[m]}`;r.setAttribute("content",d),r.setAttribute("content",""),r.setAttribute("content",l)}else r.setAttribute("content","initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"),r.removeAttribute("content")};e?n(e,t):(e=document.createElement("meta"),document.getElementsByTagName("head")[0].appendChild(e),n(e,t),e.remove())}lockWebsiteScroll(){this.websiteBeforeLockParameters={bodyStylePosition:document.body.style.position?document.body.style.position:"",bodyStyleOverflow:document.body.style.overflow?document.body.style.overflow:"",htmlStyleOverflow:document.documentElement.style.overflow?document.documentElement.style.overflow:"",windowScrollX:window.scrollX,windowScrollY:window.scrollY}}unlockWebsiteScroll(){if(this.websiteBeforeLockParameters){document.body.style.position=this.websiteBeforeLockParameters.bodyStylePosition,document.body.style.overflow=this.websiteBeforeLockParameters.bodyStyleOverflow,document.documentElement.style.overflow=this.websiteBeforeLockParameters.htmlStyleOverflow;const{windowScrollX:e}=this.websiteBeforeLockParameters,{windowScrollY:t}=this.websiteBeforeLockParameters;window.scrollTo(e,t),this.websiteBeforeLockParameters=null}}isIE11(){return navigator.userAgent.search("Msie/")>=0||navigator.userAgent.search("Trident/")>=0||navigator.userAgent.search("Edge/")>=0}isRTL(){return this.attributes.language==="ar"||this.attributes.language==="he"?!0:this.rtl}addClass(e){Util.addClass(this.overlay,e),Util.addClass(this.titleBar,e),Util.addClass(this.overlay,e),Util.addClass(this.container,e),Util.addClass(this.contentContainer,e),Util.addClass(this.stackDiv,e),Util.addClass(this.minimizeDiv,e),Util.addClass(this.maximizeDiv,e),Util.addClass(this.wrapper,e)}removeClass(e){Util.removeClass(this.overlay,e),Util.removeClass(this.titleBar,e),Util.removeClass(this.overlay,e),Util.removeClass(this.container,e),Util.removeClass(this.contentContainer,e),Util.removeClass(this.stackDiv,e),Util.removeClass(this.minimizeDiv,e),Util.removeClass(this.maximizeDiv,e),Util.removeClass(this.wrapper,e)}createModalWindowDesktop(){this.addClass("wrs_modal_desktop"),this.stack()}createModalWindowAndroid(){this.addClass("wrs_modal_android"),window.addEventListener("resize",this.orientationChangeAndroidSoftkeyboard.bind(this))}createModalWindowIos(){this.addClass("wrs_modal_ios"),window.addEventListener("resize",this.orientationChangeIosSoftkeyboard.bind(this))}restoreState(){this.properties.state==="maximized"?this.maximize():this.properties.state==="minimized"?(this.properties.state=this.properties.previousState,this.properties.previousState="",this.minimize()):this.stack()}stack(){this.properties.previousState=this.properties.state,this.properties.state="stack",this.removeClass("wrs_maximized"),this.minimizeDiv.title=StringManager.get("minimize"),this.removeClass("wrs_minimized"),this.addClass("wrs_stack");const e=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(minIcon)})`,t=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(minHoverIcon)})`;this.minimizeDiv.setAttribute("style",e),this.minimizeDiv.setAttribute("onmouseover",`this.style = "${t}";`),this.minimizeDiv.setAttribute("onmouseout",`this.style = "${e}";`),this.restoreModalProperties(),typeof this.resizerBR<"u"&&typeof this.resizerTL<"u"&&this.setResizeButtonsVisibility(),this.recalculateScrollBar(),this.recalculatePosition(),this.recalculateScale(),this.focus()}minimize(){if(this.saveModalProperties(),this.title.style.cursor="pointer",this.properties.state==="minimized"&&this.properties.previousState==="stack")this.stack();else if(this.properties.state==="minimized"&&this.properties.previousState==="maximized")this.maximize();else{this.container.style.height="30px",this.container.style.width="250px",this.container.style.bottom="0px",this.container.style.right="10px",this.removeListeners(),this.properties.previousState=this.properties.state,this.properties.state="minimized",this.setResizeButtonsVisibility(),this.minimizeDiv.title=StringManager.get("maximize"),Util.containsClass(this.overlay,"wrs_stack")?this.removeClass("wrs_stack"):this.removeClass("wrs_maximized"),this.addClass("wrs_minimized");const e=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(maxIcon)})`,t=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(maxHoverIcon)})`;this.minimizeDiv.setAttribute("style",e),this.minimizeDiv.setAttribute("onmouseover",`this.style = "${t}";`),this.minimizeDiv.setAttribute("onmouseout",`this.style = "${e}";`)}}maximize(){this.saveModalProperties(),this.properties.state!=="maximized"&&(this.properties.previousState=this.properties.state,this.properties.state="maximized"),this.setResizeButtonsVisibility(),Util.containsClass(this.overlay,"wrs_minimized")?(this.minimizeDiv.title=StringManager.get("minimize"),this.removeClass("wrs_minimized")):Util.containsClass(this.overlay,"wrs_stack")&&(this.container.style.left=null,this.container.style.top=null,this.removeClass("wrs_stack")),this.addClass("wrs_maximized");const e=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(minIcon)})`,t=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(minHoverIcon)})`;this.minimizeDiv.setAttribute("style",e),this.minimizeDiv.setAttribute("onmouseover",`this.style = "${t}";`),this.minimizeDiv.setAttribute("onmouseout",`this.style = "${e}";`),this.setSize(parseInt(window.innerHeight*.8,10),parseInt(window.innerWidth*.8,10)),this.container.clientHeight>700&&(this.container.style.height="700px"),this.container.clientWidth>1200&&(this.container.style.width="1200px");const{innerHeight:i}=window,{innerWidth:n}=window,{offsetHeight:r}=this.container,{offsetWidth:o}=this.container,l=i/2-r/2,c=n/2-o/2;this.setPosition(l,c),this.recalculateScale(),this.recalculatePosition(),this.recalculateSize(),this.focus()}reExpand(){this.properties.state==="minimized"&&(this.properties.previousState==="maximized"?this.maximize():this.stack(),this.title.style.cursor="")}setSize(e,t){this.container.style.height=`${e}px`,this.container.style.width=`${t}px`,this.recalculateSize()}setPosition(e,t){this.container.style.bottom=`${e}px`,this.container.style.right=`${t}px`}saveModalProperties(){this.properties.state==="stack"&&(this.properties.position.bottom=parseInt(this.container.style.bottom,10),this.properties.position.right=parseInt(this.container.style.right,10),this.properties.size.width=parseInt(this.container.style.width,10),this.properties.size.height=parseInt(this.container.style.height,10))}restoreModalProperties(){this.properties.state==="stack"&&(this.setPosition(this.properties.position.bottom,this.properties.position.right),this.setSize(this.properties.size.height,this.properties.size.width))}recalculateSize(){this.wrapper.style.width=`${this.container.clientWidth-12}px`,this.wrapper.style.height=`${this.container.clientHeight-38}px`,this.contentContainer.style.height=`${parseInt(this.wrapper.offsetHeight-50,10)}px`}setResizeButtonsVisibility(){this.properties.state==="stack"?(this.resizerTL.style.visibility="visible",this.resizerBR.style.visibility="visible"):(this.resizerTL.style.visibility="hidden",this.resizerBR.style.visibility="hidden")}addListeners(){this.maximizeDiv.addEventListener("click",this.maximize.bind(this),!0),this.stackDiv.addEventListener("click",this.stack.bind(this),!0),this.minimizeDiv.addEventListener("click",this.minimize.bind(this),!0),this.closeDiv.addEventListener("click",this.cancelAction.bind(this)),this.maximizeDiv.addEventListener("keypress",function(e){(e.key==="Enter"||e.key===" "||e.keyCode===13||e.keyCode===32)&&e.target.click()},!0),this.stackDiv.addEventListener("keypress",function(e){(e.key==="Enter"||e.key===" "||e.keyCode===13||e.keyCode===32)&&(e.target.click(),e.preventDefault())},!0),this.minimizeDiv.addEventListener("keypress",function(e){(e.key==="Enter"||e.key===" "||e.keyCode===13||e.keyCode===32)&&(e.target.click(),e.preventDefault())},!0),this.closeDiv.addEventListener("keypress",function(e){(e.key==="Enter"||e.key===" "||e.keyCode===13||e.keyCode===32)&&(e.target.click(),e.preventDefault())}),this.title.addEventListener("click",this.reExpand.bind(this)),this.overlay.addEventListener("click",this.cancelAction.bind(this)),Util.addEvent(window,"mousedown",this.startDrag.bind(this)),Util.addEvent(window,"mouseup",this.stopDrag.bind(this)),Util.addEvent(window,"mousemove",this.drag.bind(this)),Util.addEvent(window,"resize",this.onWindowResize.bind(this)),Util.addEvent(window,"keydown",this.onKeyDown.bind(this))}removeListeners(){Util.removeEvent(window,"mousedown",this.startDrag),Util.removeEvent(window,"mouseup",this.stopDrag),Util.removeEvent(window,"mousemove",this.drag),Util.removeEvent(window,"resize",this.onWindowResize),Util.removeEvent(window,"keydown",this.onKeyDown)}eventClient(e){return typeof e.clientX>"u"&&e.changedTouches?{X:e.changedTouches[0].clientX,Y:e.changedTouches[0].clientY}:{X:e.clientX,Y:e.clientY}}startDrag(e){this.properties.state!=="minimized"&&e.target===this.title&&(typeof this.dragDataObject>"u"||this.dragDataObject===null)&&(this.dragDataObject={x:this.eventClient(e).X,y:this.eventClient(e).Y},this.lastDrag={x:"0px",y:"0px"},this.container.style.right===""&&(this.container.style.right="0px"),this.container.style.bottom===""&&(this.container.style.bottom="0px"),this.isIE11(),Util.addClass(document.body,"wrs_noselect"),Util.addClass(this.overlay,"wrs_overlay_active"),this.limitWindow=this.getLimitWindow())}drag(e){if(this.dragDataObject){e.preventDefault();let t=Math.min(this.eventClient(e).Y,this.limitWindow.minPointer.y);t=Math.max(this.limitWindow.maxPointer.y,t);let i=Math.min(this.eventClient(e).X,this.limitWindow.minPointer.x);i=Math.max(this.limitWindow.maxPointer.x,i);const n=`${i-this.dragDataObject.x}px`,r=`${t-this.dragDataObject.y}px`;this.lastDrag={x:n,y:r},this.container.style.transform=`translate3d(${n},${r},0)`}if(this.resizeDataObject){const{innerWidth:t}=window,{innerHeight:i}=window;let n=Math.min(this.eventClient(e).X,t-this.scrollbarWidth-7),r=Math.min(this.eventClient(e).Y,i-7);n<0&&(n=0),r<0&&(r=0);let o;this.leftScale?o=-1:o=1,this.container.style.width=`${this.initialWidth+o*(n-this.resizeDataObject.x)}px`,this.container.style.height=`${this.initialHeight+o*(r-this.resizeDataObject.y)}px`,this.leftScale||(this.resizeDataObject.x-n-this.initialWidth<-580?this.container.style.right=`${this.initialRight-(n-this.resizeDataObject.x)}px`:(this.container.style.right=`${this.initialRight+this.initialWidth-580}px`,this.container.style.width="580px"),this.resizeDataObject.y-r<this.initialHeight-338?this.container.style.bottom=`${this.initialBottom-(r-this.resizeDataObject.y)}px`:(this.container.style.bottom=`${this.initialBottom+this.initialHeight-338}px`,this.container.style.height="338px")),this.recalculateScale(),this.recalculatePosition()}}getLimitWindow(){const e=window.innerWidth,t=window.innerHeight,{offsetHeight:i}=this.container,n=parseInt(this.container.style.bottom,10),r=parseInt(this.container.style.right,10),{pageXOffset:o}=window,l=this.dragDataObject.y,c=this.dragDataObject.x,d=i+n-(t-(l-o)),a=e-this.scrollbarWidth-(c-o)-r,m=t-this.container.offsetHeight+d,h=this.title.offsetHeight-(this.title.offsetHeight-d),f=e-a-this.scrollbarWidth,_=this.container.offsetWidth-a;return{minPointer:{x:f,y:m},maxPointer:{x:_,y:h}}}getScrollBarWidth(){const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);const i=e.offsetWidth;t.style.overflow="scroll";let n=e.offsetWidth;return i===n&&(n=t.clientWidth),document.body.removeChild(t),i-n}stopDrag(){(this.dragDataObject||this.resizeDataObject)&&(this.container.style.transform="",this.dragDataObject&&(this.container.style.right=`${parseInt(this.container.style.right,10)-parseInt(this.lastDrag.x,10)}px`,this.container.style.bottom=`${parseInt(this.container.style.bottom,10)-parseInt(this.lastDrag.y,10)}px`),this.focus(),document.body.style["user-select"]="",this.isIE11(),Util.removeClass(document.body,"wrs_noselect"),Util.removeClass(this.overlay,"wrs_overlay_active")),this.dragDataObject=null,this.resizeDataObject=null,this.initialWidth=null,this.leftScale=null}onWindowResize(){this.recalculateScrollBar(),this.recalculatePosition(),this.recalculateScale()}onKeyDown(e){e.key!==void 0&&(this.popup.overlayWrapper.style.display!=="block"?e.key==="Escape"||e.key==="Esc"?this.properties.open&&this.contentManager.onKeyDown(e):e.shiftKey&&e.key==="Tab"?document.activeElement===this.cancelButton?(this.submitButton.focus(),e.stopPropagation(),e.preventDefault()):this.contentManager.onKeyDown(e):e.key==="Tab"&&(document.activeElement===this.submitButton?(this.cancelButton.focus(),e.stopPropagation(),e.preventDefault()):this.contentManager.onKeyDown(e)):this.popup.onKeyDown(e))}recalculatePosition(){this.container.style.right=`${Math.min(parseInt(this.container.style.right,10),window.innerWidth-this.scrollbarWidth-this.container.offsetWidth)}px`,parseInt(this.container.style.right,10)<0&&(this.container.style.right="0px"),this.container.style.bottom=`${Math.min(parseInt(this.container.style.bottom,10),window.innerHeight-this.container.offsetHeight)}px`,parseInt(this.container.style.bottom,10)<0&&(this.container.style.bottom="0px")}recalculateScale(){let e=!1;parseInt(this.container.style.width,10)>580?(this.container.style.width=`${Math.min(parseInt(this.container.style.width,10),window.innerWidth-this.scrollbarWidth)}px`,e=!0):(this.container.style.width="580px",e=!0),parseInt(this.container.style.height,10)>338?(this.container.style.height=`${Math.min(parseInt(this.container.style.height,10),window.innerHeight)}px`,e=!0):(this.container.style.height="338px",e=!0),e&&this.recalculateSize()}recalculateScrollBar(){this.hasScrollBar=window.innerWidth>document.documentElement.clientWidth,this.hasScrollBar?this.scrollbarWidth=this.getScrollBarWidth():this.scrollbarWidth=0}hideKeyboard(){const e=document.createElement("input");this.container.appendChild(e),e.focus(),e.blur(),e.remove()}focus(){this.contentManager!=null&&typeof this.contentManager.onFocus<"u"&&this.contentManager.onFocus()}portraitMode(){return window.innerHeight>window.innerWidth}handleOpenedIosSoftkeyboard(){!this.iosSoftkeyboardOpened&&this.iosDivHeight!=null&&this.iosDivHeight===`100${this.iosMeasureUnit}`&&(this.portraitMode()?this.setContainerHeight(`63${this.iosMeasureUnit}`):this.setContainerHeight(`40${this.iosMeasureUnit}`)),this.iosSoftkeyboardOpened=!0}handleClosedIosSoftkeyboard(){this.iosSoftkeyboardOpened=!1,this.setContainerHeight(`100${this.iosMeasureUnit}`)}orientationChangeIosSoftkeyboard(){this.iosSoftkeyboardOpened?this.portraitMode()?this.setContainerHeight(`63${this.iosMeasureUnit}`):this.setContainerHeight(`40${this.iosMeasureUnit}`):this.setContainerHeight(`100${this.iosMeasureUnit}`)}orientationChangeAndroidSoftkeyboard(){this.setContainerHeight("100%")}setContainerHeight(e){this.iosDivHeight=e,this.wrapper.style.height=e}showPopUpMessage(){this.properties.state==="minimized"&&this.stack(),this.popup.show()}setTitle(e){this.title.innerHTML=e}getElementId(e){return`${e}[${this.instanceId}]`}}/*! http://mths.be/codepointat v0.1.0 by @mathias */String.prototype.codePointAt||function(){var s=function(e){if(this==null)throw TypeError();var t=String(this),i=t.length,n=e?Number(e):0;if(n!=n&&(n=0),!(n<0||n>=i)){var r=t.charCodeAt(n),o;return r>=55296&&r<=56319&&i>n+1&&(o=t.charCodeAt(n+1),o>=56320&&o<=57343)?(r-55296)*1024+o-56320+65536:r}};Object.defineProperty?Object.defineProperty(String.prototype,"codePointAt",{value:s,configurable:!0,writable:!0}):String.prototype.codePointAt=s}();typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(e,t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},writable:!0,configurable:!0});Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(s,e){if(this==null)throw new TypeError('"this" s null or is not defined');var t=Object(this),i=t.length>>>0;if(i===0)return!1;var n=e|0,r=Math.max(n>=0?n:i-Math.abs(n),0);function o(l,c){return l===c||typeof l=="number"&&typeof c=="number"&&isNaN(l)&&isNaN(c)}for(;r<i;){if(o(t[r],s))return!0;r++}return!1}});String.prototype.includes||(String.prototype.includes=function(s,e){if(s instanceof RegExp)throw TypeError("first argument must not be a RegExp");return e===void 0&&(e=0),this.indexOf(s,e)!==-1});String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(s,e){var t=e>0?e|0:0;return this.substring(t,t+s.length)===s}});const styles="";class Core{constructor(e){this.language="en",this.editMode="images",this.modalDialog=null,this.customEditors=new CustomEditors;const t={name:"Chemistry",toolbar:"chemistry",icon:"chem.png",confVariable:"chemEnabled",title:"ChemType",tooltip:"Insert a chemistry formula - ChemType"};if(this.customEditors.addEditor("chemistry",t),this.environment={},this.editionProperties={},this.editionProperties.isNewElement=!0,this.editionProperties.temporalImage=null,this.editionProperties.latexRange=null,this.editionProperties.range=null,this.editionProperties.editionStartTime=null,this.integrationModel=null,this.contentManager=null,this.browser=(()=>{const i=navigator.userAgent;let n="none";return i.search("Edge/")>=0?n="EDGE":i.search("Chrome/")>=0?n="CHROME":i.search("Trident/")>=0?n="IE":i.search("Firefox/")>=0?n="FIREFOX":i.search("Safari/")>=0&&(n="SAFARI"),n})(),this.listeners=new Listeners,this.serviceProviderProperties={},"serviceProviderProperties"in e)this.serviceProviderProperties=e.serviceProviderProperties;else throw new Error("serviceProviderProperties property missing.")}static get globalListeners(){return Core._globalListeners}static set globalListeners(e){Core._globalListeners=e}static get initialized(){return Core._initialized}static set initialized(e){Core._initialized=e}setIntegrationModel(e){this.integrationModel=e}setEnvironment(e){"editor"in e&&(this.environment.editor=e.editor),"mode"in e&&(this.environment.mode=e.mode),"version"in e&&(this.environment.version=e.version)}setHeaders(e){var i;const t=((i=this==null?void 0:this.contentManager)==null?void 0:i.setCustomHeaders(e))||e;Configuration.set("customHeaders",t)}getModalDialog(){return this.modalDialog}init(){if(Core.initialized)this.listeners.fire("onLoad",{});else{const e=Listeners.newListener("onInit",()=>{const t=ServiceProvider.getService("configurationjs","","get"),i=JSON.parse(t);Configuration.addConfiguration(i),Configuration.addConfiguration(jsProperties),StringManager.language=this.language,this.listeners.fire("onLoad",{})});ServiceProvider.addListener(e),ServiceProvider.init(this.serviceProviderProperties),Core.initialized=!0}}addListener(e){this.listeners.add(e)}static addGlobalListener(e){Core.globalListeners.add(e)}beforeUpdateFormula(e,t){const i=new Event;return i.mathml=e,i.wirisProperties={},t!=null&&Object.keys(t).forEach(n=>{i.wirisProperties[n]=t[n]}),i.language=this.language,i.editMode=this.editMode,this.listeners.fire("onBeforeFormulaInsertion",i)?{}:Core.globalListeners.fire("onBeforeFormulaInsertion",i)?{}:{mathml:i.mathml,wirisProperties:i.wirisProperties}}insertFormula(e,t,i,n){const r={};if(!i)this.insertElementOnSelection(null,e,t);else if(this.editMode==="latex"){if(r.latex=Latex.getLatexFromMathML(i),!!this.integrationModel.fillNonLatexNode&&!r.latex){const o=new Event;o.editMode=this.editMode,o.windowTarget=t,o.focusElement=e,o.latex=r.latex,this.integrationModel.fillNonLatexNode(o,t,i)}else r.node=t.document.createTextNode(`$$${r.latex}$$`);this.insertElementOnSelection(r.node,e,t)}else r.node=Parser.mathmlToImgObject(t.document,i,n,this.language),this.insertElementOnSelection(r.node,e,t);return r}afterUpdateFormula(e,t,i,n){const r=new Event;return r.editMode=this.editMode,r.windowTarget=t,r.focusElement=e,r.node=i,r.latex=n,this.listeners.fire("onAfterFormulaInsertion",r)?{}:Core.globalListeners.fire("onAfterFormulaInsertion",r)?{}:{}}placeCaretAfterNode(e){if(e===null)return;this.integrationModel.getSelection();const t=e.ownerDocument;if(typeof t.getSelection<"u"&&!!e.parentElement){const i=t.createRange();i.setStartAfter(e),i.collapse(!0);const n=t.getSelection();n.removeAllRanges(),n.addRange(i),t.body.focus()}}insertElementOnSelection(e,t,i){var l,c;let n=null;if(this.editionProperties.isNewElement)if(e)if(t.type==="textarea")Util.updateTextArea(t,e.textContent);else if(document.selection&&document.getSelection===0){let d=i.document.selection.createRange();if(i.document.execCommand("InsertImage",!1,e.src),"parentElement"in d||(i.document.execCommand("delete",!1),d=i.document.selection.createRange(),i.document.execCommand("InsertImage",!1,e.src)),"parentElement"in d){const a=d.parentElement();a.nodeName.toUpperCase()==="IMG"?a.parentNode.replaceChild(e,a):d.pasteHTML(Util.createObjectCode(e))}}else{let d=null;this.editionProperties.range?({range:d}=this.editionProperties,this.editionProperties.range=null):d=this.integrationModel.getSelection().getRangeAt(0),d.deleteContents();let a=d.startContainer;const m=d.startOffset;a.nodeType===3?(a=a.splitText(m),a.parentNode.insertBefore(e,a)):a.nodeType===1&&a.insertBefore(e,a.childNodes[m]),this.placeCaretAfterNode(e)}else if(t.type==="textarea")t.focus();else{const d=this.integrationModel.getSelection();if(d.removeAllRanges(),this.editionProperties.range){const{range:a}=this.editionProperties;this.editionProperties.range=null,d.addRange(a)}}else if(this.editionProperties.latexRange)document.selection&&document.getSelection===0?(this.editionProperties.isNewElement=!0,this.editionProperties.latexRange.select(),this.insertElementOnSelection(e,t,i)):(this.editionProperties.latexRange.deleteContents(),this.editionProperties.latexRange.insertNode(e),this.placeCaretAfterNode(e));else if(t.type==="textarea"){let d;typeof this.integrationModel.getSelectedItem<"u"?d=this.integrationModel.getSelectedItem(t,!1):d=Util.getSelectedItemOnTextarea(t),Util.updateExistingTextOnTextarea(t,e.textContent,d.startPosition,d.endPosition)}else n=(l=this.editionProperties.temporalImage)==null?void 0:l.dataset.mathml,e&&e.nodeName.toLowerCase()==="img"?(Image.removeImgDataAttributes(this.editionProperties.temporalImage),Image.clone(e,this.editionProperties.temporalImage)):this.editionProperties.temporalImage.remove(),this.placeCaretAfterNode(this.editionProperties.temporalImage);const r=(c=e==null?void 0:e.dataset)==null?void 0:c.mathml;let o={mathml_origin:n&&MathML.safeXmlDecode(n),mathml:r&&MathML.safeXmlDecode(r),elapsed_time:Date.now()-this.editionProperties.editionStartTime,editor_origin:null,toolbar:this.modalDialog.contentManager.toolbar,size:r==null?void 0:r.length};Object.keys(o).forEach(d=>{(d==="mathml_origin"||d==="editor_origin")&&(o[d]||delete o[d])});try{Telemeter.telemeter.track("INSERTED_FORMULA",{...o})}catch(d){console.error("Error tracking INSERTED_FORMULA",d)}}openModalDialog(e,t){this.editionProperties.editionStartTime=Date.now(),this.editMode="images";try{if(t){e.contentWindow.focus();const a=e.contentWindow.getSelection();this.editionProperties.range=a.getRangeAt(0)}else{e.focus();const a=getSelection();this.editionProperties.range=a.getRangeAt(0)}}catch{this.editionProperties.range=null}if(t===void 0&&(t=!0),this.editionProperties.latexRange=null,e){let a;if(typeof this.integrationModel.getSelectedItem<"u"?a=this.integrationModel.getSelectedItem(e,t):a=Util.getSelectedItem(e,t),a){if(!a.caretPosition&&Util.containsClass(a.node,Configuration.get("imageClassName")))this.editionProperties.temporalImage=a.node,this.editionProperties.isNewElement=!1;else if(a.node.nodeType===3)if(this.integrationModel.getMathmlFromTextNode){const m=this.integrationModel.getMathmlFromTextNode(a.node,a.caretPosition);m&&(this.editMode="latex",this.editionProperties.isNewElement=!1,this.editionProperties.temporalImage=document.createElement("img"),this.editionProperties.temporalImage.setAttribute(Configuration.get("imageMathmlAttribute"),MathML.safeXmlEncode(m)))}else{const m=Latex.getLatexFromTextNode(a.node,a.caretPosition);if(m){const h=Latex.getMathMLFromLatex(m.latex);this.editMode="latex",this.editionProperties.isNewElement=!1,this.editionProperties.temporalImage=document.createElement("img"),this.editionProperties.temporalImage.setAttribute(Configuration.get("imageMathmlAttribute"),MathML.safeXmlEncode(h));const f=t?e.contentWindow:window;if(e.tagName.toLowerCase()!=="textarea")if(document.selection){let _=0,w=m.startNode.previousSibling;for(;w;)_+=Util.getNodeLength(w),w=w.previousSibling;this.editionProperties.latexRange=f.document.selection.createRange(),this.editionProperties.latexRange.moveToElementText(m.startNode.parentNode),this.editionProperties.latexRange.move("character",_+m.startPosition),this.editionProperties.latexRange.moveEnd("character",m.latex.length+4)}else this.editionProperties.latexRange=f.document.createRange(),this.editionProperties.latexRange.setStart(m.startNode,m.startPosition),this.editionProperties.latexRange.setEnd(m.endNode,m.endPosition)}}}else e.tagName.toLowerCase()==="textarea"&&(this.editMode="latex")}const i=Configuration.get("editorAttributes").split(", "),n={};for(let a=0,m=i.length;a<m;a+=1){const h=i[a].split("="),f=h[0],_=h[1];n[f]=_}const r={language:this.language},o=Configuration.get("editorParameters"),l=this.integrationModel.editorParameters;Object.assign(r,n,o),Object.assign(r,n,l),this.language=r.language,StringManager.language=this.language,r.rtl=this.integrationModel.rtl;const c=Configuration.get("customHeaders");r.customHeaders=typeof c=="string"?Util.convertStringToObject(c):c;const d={};if(d.editorAttributes=r,d.language=this.language,d.customEditors=this.customEditors,d.environment=this.environment,this.modalDialog==null){this.modalDialog=new ModalDialog(r),this.contentManager=new ContentManager(d);const a=Listeners.newListener("onLoad",()=>{if(this.contentManager.dbclick=this.editionProperties.dbclick,this.contentManager.isNewElement=this.editionProperties.isNewElement,this.editionProperties.temporalImage!=null){const m=MathML.safeXmlDecode(this.editionProperties.temporalImage.getAttribute(Configuration.get("imageMathmlAttribute")));this.contentManager.mathML=m}});this.contentManager.addListener(a),this.contentManager.init(),this.modalDialog.setContentManager(this.contentManager),this.contentManager.setModalDialogInstance(this.modalDialog)}else if(this.contentManager.dbclick=this.editionProperties.dbclick,this.contentManager.isNewElement=this.editionProperties.isNewElement,this.editionProperties.temporalImage!=null){const a=MathML.safeXmlDecode(this.editionProperties.temporalImage.getAttribute(Configuration.get("imageMathmlAttribute")));this.contentManager.mathML=a}this.contentManager.setIntegrationModel(this.integrationModel),this.modalDialog.open()}getCustomEditors(){return this.customEditors}}Core._globalListeners=new Listeners;Core._initialized=!1;const warnIcon="/build/assets/warn_icon.30c1a079.svg";class IntegrationModel{constructor(e){var t,i,n,r,o,l,c,d;if(this.language="en",this.serviceProviderProperties=(t=e.serviceProviderProperties)!=null?t:{},this.configurationService="","configurationService"in e&&(this.serviceProviderProperties.URI=e.configurationService,console.warn("Deprecated property configurationService. Use serviceParameters on instead.",[e.configurationService])),this.version="version"in e?e.version:"",this.target=null,"target"in e)this.target=e.target;else throw new Error("IntegrationModel constructor error: target property missed.");"scriptName"in e&&(this.scriptName=e.scriptName),this.callbackMethodArguments=(i=e.callbackMethodArguments)!=null?i:{},this.environment=(n=e.environment)!=null?n:{},this.isIframe=!1,this.target!=null&&(this.isIframe=this.target.tagName.toUpperCase()==="IFRAME"),this.editorObject=(r=e.editorObject)!=null?r:null,this.rtl=(o=e.rtl)!=null?o:!1,this.managesLanguage=(l=e.managesLanguage)!=null?l:!1,this.forcedHandMode=(d=(c=e==null?void 0:e.integrationParameters)==null?void 0:c.forcedHandMode)!=null?d:!1,this.temporalImageResizing=!1,this.core=null,this.listeners=new Listeners,"integrationParameters"in e&&IntegrationModel.integrationParameters.forEach(a=>{if(a in e.integrationParameters){const m=e.integrationParameters[a];Object.keys(m).length!==0&&(this[a]=m)}})}init(){this.language=this.getLanguage();const e=Listeners.newListener("onLoad",()=>{this.callbackFunction(this.callbackMethodArguments)});if(this.serviceProviderProperties.URI.indexOf("configuration")!==-1){const _=this.serviceProviderProperties.URI,w=ServiceProvider.getServerLanguageFromService(_);this.serviceProviderProperties.server=w;const z=this.serviceProviderProperties.URI.indexOf("configuration"),D=this.serviceProviderProperties.URI.substring(0,z);this.serviceProviderProperties.URI=D}let t=this.serviceProviderProperties.URI;t=t.indexOf("/")===0||t.indexOf("http")===0?t:Util.concatenateUrl(this.getPath(),t),this.serviceProviderProperties.URI=t;const i={};i.serviceProviderProperties=this.serviceProviderProperties,this.setCore(new Core(i)),this.core.addListener(e),this.core.language=this.language,this.core.init(),this.core.setEnvironment(this.environment);let n={};n.class=n.id="wrs_modal_offline",this.offlineModal=Util.createElement("div",n),n={},n.class="wrs_modal_content_offline",this.offlineModalContent=Util.createElement("div",n),n={},n.class="wrs_modal_offline_close",this.offlineModalClose=Util.createElement("span",n),this.offlineModalClose.innerHTML="&times;",n={},n.class="wrs_modal_offline_warn",this.offlineModalWarn=Util.createElement("span",n);let r=`background-image: url(data:image/svg+xml;base64,${window.btoa(warnIcon)})`;this.offlineModalWarn.setAttribute("style",r),n={},n.class="wrs_modal_offline_text_container",this.offlineModalMessage=Util.createElement("div",n),n={},n.class="wrs_modal_offline_text_warn",this.offlineModalMessage1=Util.createElement("p",n),this.offlineModalMessage1.innerHTML="You are not online!",n={},n.class="wrs_modal_offline_text",this.offlineModalMessage2=Util.createElement("p",n),this.offlineModalMessage2.innerHTML="Thank you for using MathType. We have detected you are disconnected from the network. We remind you that you'll need to be connected to use MathType. <br /><br />Please refresh the page if this message continues appearing.",this.offlineModalContent.appendChild(this.offlineModalClose),this.offlineModalMessage.appendChild(this.offlineModalMessage1),this.offlineModalMessage.appendChild(this.offlineModalMessage2),this.offlineModalContent.appendChild(this.offlineModalMessage),this.offlineModalContent.appendChild(this.offlineModalWarn),this.offlineModal.appendChild(this.offlineModalContent),document.body.appendChild(this.offlineModal);let o=document.getElementById("wrs_modal_offline");this.offlineModalClose.addEventListener("click",function(){o.style.display="none"});let l=this.environment.editor;l=l.slice(0,-1),l.includes("TinyMCE")&&(l="TinyMCE"),l.includes("Generic")&&(l="Generic");let c=l,d=typeof M=="object"&&M!==null,a;d&&(c="Moodle",a={nam:"moodle",fam:"lms",ver:this.environment.moodleVersion,category:this.environment.moodleCourseCategory,course:this.environment.moodleCourseName},l.includes("TinyMCE")||(l="Atto"));let m=this.getOS(),h=this.getBrowser(),f=[{nam:h.detectedBrowser,fam:"browser",ver:h.versionBrowser},{nam:l.toLowerCase(),fam:"html-editor",ver:this.environment.editorVersion},{nam:m.detectedOS,fam:"os",ver:m.versionOS},{nam:window.location.hostname,fam:"domain"},a];f=f.filter(function(_){return _&&Object.keys(_).forEach(w=>_[w]==="unknown"?delete _[w]:{}),_!==void 0}),Telemeter.init({solution:{name:"MathType for "+c,version:this.version},hosts:f,config:{test:!1,debug:!1,dry_run:!1,api_key:"eda2ce9b-0e8a-46f2-acdd-c228a615314e"},url:void 0})}getBrowser(){let e="unknown",t="unknown",i=window.navigator.userAgent;if(/Brave/.test(i)){if(e="brave",i.indexOf("Brave/")){let n=i.indexOf("Brave")+6,r=i.substring(n).indexOf(" ");r=r===-1?i.lastIndexOf(""):r,t=i.substring(n,r+n).replace("_",".").replace(/[^\d.-]/g,"")}}else if(i.indexOf("Edg/")!==-1){e="edge_chromium";let n=i.indexOf("Edg/")+4;t=i.substring(n).replace("_",".").replace(/[^\d.-]/g,"")}else if(/Edg/.test(i)){e="edge";let n=i.indexOf("Edg")+3;n=n+i.substring(n).indexOf("/");let r=i.substring(n).indexOf(" ");r=r===-1?i.lastIndexOf(""):r,t=i.substring(n,r+n).replace("_",".").replace(/[^\d.-]/g,"")}else if(/Firefox/.test(i)||/FxiOS/.test(i)){e="firefox";let n=i.indexOf("Firefox");n=n===-1?i.indexOf("FxiOS"):n,n=n+i.substring(n).indexOf("/")+1;let r=i.substring(n).indexOf(" ");r=r===-1?i.lastIndexOf(""):r,t=i.substring(n,r+n).replace("_",".")}else if(/OPR/.test(i)){e="opera";let n=i.indexOf("OPR/")+4,r=i.substring(n).indexOf(" ");r=r===-1?i.lastIndexOf(""):r,t=i.substring(n,r+n).replace("_",".").replace(/[^\d.-]/g,"")}else if(/Chrome/.test(i)||/CriOS/.test(i)){e="chrome";let n=i.indexOf("Chrome");n=n===-1?i.indexOf("CriOS"):n,n=n+i.substring(n).indexOf("/")+1;let r=i.substring(n).indexOf(" ");r=r===-1?i.lastIndexOf(""):r,t=i.substring(n,r+n).replace("_",".")}else if(/Safari/.test(i)){e="safari";let n=i.indexOf("Version/");n=n+i.substring(n).indexOf("/")+1;let r=i.substring(n).indexOf(" ");r=r===-1?i.lastIndexOf(""):r,t=i.substring(n,r+n).replace("_",".")}return{detectedBrowser:e,versionBrowser:t}}getOS(){let e="unknown",t="unknown",i=window.navigator.userAgent,n=window.navigator.platform,r=["Macintosh","MacIntel","MacPPC","Mac68K"],o=["Win32","Win64","Windows","WinCE"],l=["iPhone","iPad","iPod"];if(r.indexOf(n)!==-1){if(e="macos",i.indexOf("OS X")!==-1){let c=i.indexOf("OS X")+5,d=i.substring(c).indexOf(" ");t=i.substring(c,d+c).replace("_",".").replace(/[^\d.-]/g,"")}}else if(l.indexOf(n)!==-1){if(e="ios",i.indexOf("OS ")!==-1){let c=i.indexOf("OS ")+3,d=i.substring(c).indexOf(")");t=i.substring(c,d+c).replace("_",".").replace(/[^\d.-]/g,"")}}else if(o.indexOf(n)!==-1){e="windows";let c=i.indexOf("Windows"),d=i.substring(c).indexOf(";");d===-1&&(d=i.substring(c).indexOf(")")),t=i.substring(c,d+c).replace("_",".").replace(/[^\d.-]/g,"")}else if(/Android/.test(i)){e="android";let c=i.indexOf("Android"),d=i.substring(c).indexOf(";");d===-1&&(d=i.substring(c).indexOf(")")),t=i.substring(c,d+c).replace("_",".").replace(/[^\d.-]/g,"")}else if(/CrOS/.test(i)){e="chromeos";let c=i.indexOf("CrOS ")+5;c=c+i.substring(c).indexOf(" ");let d=i.substring(c).indexOf(")");t=i.substring(c,d+c).replace("_",".").replace(/[^\d.-]/g,"")}else e==="unknown"&&/Linux/.test(n)&&(e="linux");return{detectedOS:e,versionOS:t}}getPath(){if(typeof this.scriptName>"u")throw new Error("scriptName property needed for getPath.");const e=document.getElementsByTagName("script");let t="";for(let i=0;i<e.length;i+=1){const n=e[i].src.lastIndexOf(this.scriptName);n>=0&&(t=e[i].src.substr(0,n-1))}return t}getVersion(){return this.version}setLanguage(e){this.language=e}setCore(e){this.core=e,e.setIntegrationModel(this)}getCore(){return this.core}setTarget(e){this.target=e,this.isIframe=this.target.tagName.toUpperCase()==="IFRAME"}setEditorObject(e){this.editorObject=e}openNewFormulaEditor(){if(window.navigator.onLine)this.core.editionProperties.dbclick=!1,this.core.editionProperties.isNewElement=!0,this.core.openModalDialog(this.target,this.isIframe);else{let e=document.getElementById("wrs_modal_offline");e.style.display="block"}}openExistingFormulaEditor(){if(window.navigator.onLine)this.core.editionProperties.isNewElement=!1,this.core.openModalDialog(this.target,this.isIframe);else{let e=document.getElementById("wrs_modal_offline");e.style.display="block"}}updateFormula(e){this.editorParameters&&(e=com.wiris.editor.util.EditorUtils.addAnnotation(e,"application/vnd.wiris.mtweb-params+json",JSON.stringify(this.editorParameters)));let t,i;const n=null;this.isIframe?(t=this.target.contentWindow,i=this.target.contentWindow):(t=this.target,i=window);let r=this.core.beforeUpdateFormula(e,n);return!r||(r=this.insertFormula(t,i,r.mathml,r.wirisProperties),!r)?"":this.core.afterUpdateFormula(r.focusElement,r.windowTarget,r.node,r.latex)}insertFormula(e,t,i,n){const r=this.core.insertFormula(e,t,i,n);return this.core.editionProperties.temporalImage=null,r}getSelection(){return this.isIframe?(this.target.contentWindow.focus(),this.target.contentWindow.getSelection()):(this.target.focus(),window.getSelection())}addEvents(){const e=this.isIframe?this.target.contentWindow.document:this.target;Util.addElementEvents(e,(t,i)=>{this.doubleClickHandler(t,i),i.stopImmediatePropagation()},(t,i)=>{this.mousedownHandler(t,i)},(t,i)=>{this.mouseupHandler(t,i)})}removeEvents(){var t;const e=this.isIframe&&((t=this.target.contentWindow)==null?void 0:t.document)?this.target.contentWindow.document:this.target;!e||Util.removeElementEvents(e)}destroy(){this.removeEvents(),this.core.modalDialog&&this.core.modalDialog.destroy(),this.offlineModal&&this.offlineModal.remove(),this.editorObject=null}doubleClickHandler(e){if(this.core.editionProperties.dbclick=!0,e.nodeName.toLowerCase()==="img"){this.core.getCustomEditors().disable();const t=Configuration.get("imageCustomEditorName");if(e.hasAttribute(t)){const i=e.getAttribute(t);this.core.getCustomEditors().enable(i)}Util.containsClass(e,Configuration.get("imageClassName"))&&(this.core.editionProperties.temporalImage=e,this.core.editionProperties.isNewElement=!0,this.openExistingFormulaEditor())}}mouseupHandler(){this.temporalImageResizing&&setTimeout(()=>{Image.fixAfterResize(this.temporalImageResizing)},10)}mousedownHandler(e){e.nodeName.toLowerCase()==="img"&&Util.containsClass(e,Configuration.get("imageClassName"))&&(this.temporalImageResizing=e)}getLanguage(){return this.getBrowserLanguage()}getBrowserLanguage(){let e="en";return navigator.userLanguage?e=navigator.userLanguage.substring(0,2):navigator.language?e=navigator.language.substring(0,2):e="en",e}callbackFunction(){const e=Listeners.newListener("onTargetReady",()=>{this.addEvents(this.target)});this.listeners.add(e)}notifyWindowClosed(){}getMathmlFromTextNode(e,t){}fillNonLatexNode(e,t,i){}getSelectedItem(e,t){}static setActionsOnCancelButtons(){const e=WirisPlugin.currentInstance,t=e.getSelection();if(t.removeAllRanges(),e.core.editionProperties.range){const{range:i}=e.core.editionProperties;e.core.editionProperties.range=null,t.addRange(i),i.startOffset!==i.endOffset&&e.core.placeCaretAfterNode(e.core.editionProperties.temporalImage)}WirisPlugin.currentInstance&&(WirisPlugin.currentInstance.core.editionProperties.temporalImage=null)}}IntegrationModel.prototype.getMathmlFromTextNode=void 0;IntegrationModel.prototype.fillNonLatexNode=void 0;IntegrationModel.prototype.getSelectedItem=void 0;IntegrationModel.integrationParameters=["serviceProviderProperties","editorParameters"];class CKEditor5Integration extends IntegrationModel{constructor(e){const t=e.editorObject;typeof t.config<"u"&&typeof t.config.get("mathTypeParameters")<"u"&&(e.integrationParameters=t.config.get("mathTypeParameters")),super(e),this.integrationFolderName="ckeditor_wiris"}getLanguage(){try{return this.editorParameters.language}catch{}const e=this.editorObject.config.get("language");return e!=null?typeof e=="object"&&e.hasOwnProperty("ui")?e.ui:e:super.getLanguage()}addEditorListeners(){const e=this.editorObject;(typeof e.config.wirislistenersdisabled>"u"||!e.config.wirislistenersdisabled)&&this.checkElement()}checkElement(){const t=this.editorObject.sourceElement;t.wirisActive||(this.setTarget(t),this.addEvents(),t.wirisActive=!0)}doubleClickHandler(e,t){if(this.core.editionProperties.dbclick=!0,this.editorObject.isReadOnly===!1&&e.nodeName.toLowerCase()==="img"&&Util.containsClass(e,Configuration.get("imageClassName"))){typeof t.stopPropagation<"u"?t.stopPropagation():t.returnValue=!1,this.core.getCustomEditors().disable();const i=e.getAttribute(Configuration.get("imageCustomEditorName"));i&&this.core.getCustomEditors().enable(i),this.core.editionProperties.temporalImage=e,this.openExistingFormulaEditor()}}static getCorePath(){return null}callbackFunction(){super.callbackFunction(),this.addEditorListeners()}openNewFormulaEditor(){return this.core.editionProperties.selection=this.editorObject.editing.view.document.selection,super.openNewFormulaEditor()}insertMathml(e){return this.editorObject.model.change(t=>{const i=this.getCore(),n=this.editorObject.model.document.selection,r=t.createElement("mathml",{formula:e,...Object.fromEntries(n.getAttributes())});if(i.editionProperties.isNewElement){if(!e)return;const o=this.core.editionProperties.selection||this.editorObject.editing.view.document.selection,l=this.editorObject.editing.mapper.toModelPosition(o.getLastPosition());if(this.editorObject.model.insertObject(r,l),!o.isCollapsed)for(const d of o.getRanges())t.remove(this.editorObject.editing.mapper.toModelRange(d));const c=this.editorObject.model.createPositionAfter(r);t.setSelection(c)}else{const o=i.editionProperties.temporalImage,l=this.editorObject.editing.view.domConverter.domToView(o).parent,c=this.editorObject.editing.mapper.toModelElement(l),d=this.editorObject.model.createPositionBefore(c);e&&this.editorObject.model.insertObject(r,d),t.remove(c)}return r})}findText(e){let t=e,i;for(;!i;)i=this.editorObject.editing.mapper.toModelElement(this.editorObject.editing.view.domConverter.domToView(t)),t=t.parentElement;const n=this.editorObject.model.createRangeIn(i),r=Array.from(n.getItems());for(const o of r){let l=e.data;if(e.nodeType===3&&(l=l.replaceAll(String.fromCharCode(8288),"")),o.is("textProxy")&&o.data===l.replace(String.fromCharCode(160)," "))return o.textNode}}insertFormula(e,t,i,n){var c;const r={};let o;if(!i)this.insertMathml("");else if(this.core.editMode==="latex")r.latex=Latex.getLatexFromMathML(i),r.node=t.document.createTextNode(`$$${r.latex}$$`),this.editorObject.model.change(d=>{var z;const{latexRange:a}=this.core.editionProperties,m=this.findText(a.startContainer),h=this.findText(a.endContainer);let f=d.createPositionAt(m.parent,m.startOffset+a.startOffset),_=d.createPositionAt(h.parent,h.startOffset+a.endOffset),w=d.createRange(f,_);if(a.startContainer.nodeType===3&&((z=a.startContainer.previousSibling)==null?void 0:z.nodeType)===1){let D="$$"+Latex.getLatexFromMathML(MathML.safeXmlDecode(this.core.editionProperties.temporalImage.dataset.mathml))+"$$",L=a.startContainer.data;L=L.replaceAll(String.fromCharCode(8288),"");let O=L.indexOf(D),x=L.substring(O),P=x.substring(2).indexOf("$$")+4,F=x.substr(0,P);L=L.replace(F,""),L?(f=f=d.createPositionAt(m.parent,m.startOffset+O),_=d.createPositionAt(h.parent,h.startOffset+P+O),w=d.createRange(f,_)):(f=d.createPositionBefore(m),w=m)}d.remove(w),d.insertText(`$$${r.latex}$$`,m.getAttributes(),f)});else{o=(c=this.core.editionProperties.temporalImage)==null?void 0:c.dataset.mathml;try{r.node=this.editorObject.editing.view.domConverter.viewToDom(this.editorObject.editing.mapper.toViewElement(this.insertMathml(i)),t.document)}catch(d){d.toString().includes("CKEditorError: Cannot read property 'parent' of undefined")&&this.core.modalDialog.cancelAction()}}let l={mathml_origin:o&&MathML.safeXmlDecode(o),mathml:i&&MathML.safeXmlDecode(i),elapsed_time:Date.now()-this.core.editionProperties.editionStartTime,editor_origin:null,toolbar:this.core.modalDialog.contentManager.toolbar,size:i==null?void 0:i.length};Object.keys(l).forEach(d=>{(d==="mathml_origin"||d==="editor_origin")&&(l[d]||delete l[d])});try{Telemeter.telemeter.track("INSERTED_FORMULA",{...l})}catch(d){console.error("Error tracking INSERTED_FORMULA",d)}return this.core.editionProperties.temporalImage=null,r}notifyWindowClosed(){this.editorObject.editing.view.focus()}}class MathTypeCommand extends Command{execute(e={}){if(!e.hasOwnProperty("integration")||!(e.integration instanceof CKEditor5Integration))throw'Must pass a valid CKEditor5Integration instance as attribute "integration" of options';this.integration=e.integration,this.setEditor(),this.openEditor()}setEditor(){this.integration.core.getCustomEditors().disable()}openEditor(){this.integration.core.editionProperties.dbclick=!1;const e=this._getSelectedImage();typeof e<"u"&&e!==null&&e.classList.contains(WirisPlugin.Configuration.get("imageClassName"))?(this.integration.core.editionProperties.temporalImage=e,this.integration.openExistingFormulaEditor()):this.integration.openNewFormulaEditor()}_getSelectedImage(){const{selection:e}=this.editor.editing.view.document;if(e.isCollapsed||e.rangeCount!==1)return;const t=e.getFirstRange();let i;for(const n of t){if(n.item.name!=="span")return;i=n.item.getChild(0);break}if(!!i)return this.editor.editing.view.domConverter.mapViewToDom(i)}}class ChemTypeCommand extends MathTypeCommand{setEditor(){this.integration.core.getCustomEditors().enable("chemistry")}}var mathIcon=`<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 300 261.7" style="enable-background:new 0 0 300 261.7;" xml:space="preserve">
<style type="text/css">
	.st0{fill:#FFFFFF;}
	.st1{fill:#EF4A5F;}
	.st2{fill:#C8202F;}
</style>
<path class="st0" d="M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0
	c-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8"/>
<path class="st0" d="M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5
	l27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6
	C91.6,257.7,90.9,257.7,90.2,257.7"/>
<g>
	<g>
		<path class="st1" d="M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5
			l27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6
			C91.6,257.7,90.9,257.7,90.2,257.7"/>
	</g>
</g>
<g>
	<g>
		<path class="st2" d="M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0
			c-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8"/>
	</g>
</g>
</svg>
`,chemIcon=`<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 40.3 49.5" style="enable-background:new 0 0 40.3 49.5;" xml:space="preserve">
<style type="text/css">
	.st0{fill:#A4CF61;}
</style>
<path class="st0" d="M39.2,12.1c0-1.9-1.1-3.6-2.7-4.4L24.5,0.9l0,0c-0.7-0.4-1.5-0.6-2.4-0.6c-0.9,0-1.7,0.2-2.4,0.6l0,0L2.3,10.8
	l0,0C0.9,11.7,0,13.2,0,14.9h0v19.6h0c0,1.7,0.9,3.3,2.3,4.1l0,0l17.4,9.9l0,0c0.7,0.4,1.5,0.6,2.4,0.6c0.9,0,1.7-0.2,2.4-0.6l0,0
	l12.2-6.9h0c1.5-0.8,2.6-2.5,2.6-4.3c0-2.7-2.2-4.9-4.9-4.9c-0.9,0-1.8,0.3-2.5,0.7l0,0l-9.7,5.6l-12.3-7V17.8l12.3-7l9.9,5.7l0,0
	c0.7,0.4,1.5,0.6,2.4,0.6C37,17,39.2,14.8,39.2,12.1"/>
</svg>
`,name="@wiris/mathtype-ckeditor5",version="8.10.0",description="MathType Web for CKEditor5 editor",keywords=["chem","chemistry","chemtype","ckeditor","ckeditor5","editor","equation","latex","math","mathml","maths","mathtype","wiris"],repository="https://github.com/wiris/html-integrations/tree/stable/packages/mathtype-ckeditor5",homepage="https://www.wiris.com/",bugs={email:"support@wiris.com"},license="MIT",author="WIRIS Team (http://www.wiris.com)",files=["dist","src","icons","theme","lang"],main="src/plugin.js",type="module",exports={".":"./src/plugin.js","./dist/*.css":"./dist/*.css","./dist/*":"./dist/*","./src/*":"./src/*","./theme/*":"./theme/*","./package.json":"./package.json"},scripts={build:"node ./scripts/build-dist.mjs","build:dist":"node ./scripts/build-dist.mjs",prepare:"npm run build:dist"},dependencies={"@wiris/mathtype-html-integration-devkit":"1.17.3"},devDependencies={"@ckeditor/ckeditor5-dev-build-tools":"^40.2.0",ckeditor5:">=42.0.0"},peerDependencies={ckeditor5:">=42.0.0"},packageInfo={name,version,description,keywords,repository,homepage,bugs,license,author,files,main,type,exports,scripts,dependencies,devDependencies,peerDependencies};let currentInstance=null;class MathType extends Plugin{static get requires(){return[Widget]}static get pluginName(){return"MathType"}init(){const e=this._addIntegration();currentInstance=e,this._addCommands(),this._addViews(e),this._addSchema(),this._addConverters(e),this._exposeWiris()}destroy(){currentInstance.destroy()}_addIntegration(){const{editor:e}=this,t={};t.environment={},t.environment.editor="CKEditor5",t.environment.editorVersion="5.x",t.version=packageInfo.version,t.editorObject=e,t.serviceProviderProperties={},t.serviceProviderProperties.URI="https://www.wiris.net/demo/plugins/app",t.serviceProviderProperties.server="java",t.target=e.sourceElement,t.scriptName="bundle.js",t.managesLanguage=!0;let i;return t.target&&(i=new CKEditor5Integration(t),i.init(),i.listeners.fire("onTargetReady",{}),i.checkElement(),this.listenTo(e.editing.view.document,"click",(n,r)=>{r.domEvent.detail===2&&(i.doubleClickHandler(r.domTarget,r.domEvent),n.stop())},{priority:"highest"})),i}_addCommands(){const{editor:e}=this;e.commands.add("MathType",new MathTypeCommand(e)),e.commands.add("ChemType",new ChemTypeCommand(e))}_addViews(e){const{editor:t}=this;Configuration.get("editorEnabled")&&t.ui.componentFactory.add("MathType",i=>{const n=new ButtonView(i);return n.bind("isEnabled").to(t.commands.get("MathType"),"isEnabled"),n.set({label:StringManager.get("insert_math",e.getLanguage()),icon:mathIcon,tooltip:!0}),n.on("execute",()=>{t.execute("MathType",{integration:e})}),n}),Configuration.get("chemEnabled")&&t.ui.componentFactory.add("ChemType",i=>{const n=new ButtonView(i);return n.bind("isEnabled").to(t.commands.get("ChemType"),"isEnabled"),n.set({label:StringManager.get("insert_chem",e.getLanguage()),icon:chemIcon,tooltip:!0}),n.on("execute",()=>{t.execute("ChemType",{integration:e})}),n}),t.editing.view.addObserver(ClickObserver)}_addSchema(){const{schema:e}=this.editor.model;e.register("mathml",{inheritAllFrom:"$inlineObject",allowAttributes:["formula"]})}_addConverters(e){const{editor:t}=this;t.conversion.for("upcast").elementToElement({view:{name:"span",classes:"ck-math-widget"},model:(c,{writer:d})=>{const a=MathML.safeXmlDecode(c.getChild(0).getAttribute("data-mathml"));return d.createElement("mathml",{formula:a})}}),t.data.upcastDispatcher.on("element:math",(c,d,a)=>{const{consumable:m,writer:h}=a,{viewItem:f}=d;if(!m.test(f,{name:!0}))return;const _=i(f),w=new XmlDataProcessor(t.editing.view.document),D=new UpcastWriter(t.editing.view.document).createDocumentFragment(f.getChildren()),L=[...f.getAttributes()].map(([oe,ae])=>` ${oe}="${ae}"`).join("");let O=w.toData(D)||"";O=Util.htmlSanitize(`<math${L}>${O}</math>`),O=O.replaceAll('"<"','"&lt;"').replaceAll('">"','"&gt;"').replaceAll("><<",">&lt;<");const x=_?h.createText(Parser.initParse(O,e.getLanguage())):h.createElement("mathml",{formula:O}),P=a.splitToAllowedParent(x,d.modelCursor);if(!P)return;a.writer.insert(x,P.position),m.consume(f,{name:!0});const F=a.getSplitParts(x);d.modelRange=h.createRange(a.writer.createPositionBefore(x),a.writer.createPositionAfter(F[F.length-1])),P.cursorParent?d.modelCursor=a.writer.createPositionAt(P.cursorParent,0):d.modelCursor=d.modelRange.end});function i(c){const d=c.getChild(0);if(!d||d.name!=="semantics")return!1;for(const a of d.getChildren())if(a.name==="annotation"&&a.getAttribute("encoding")==="LaTeX")return!0;return!1}function n(c,{writer:d}){const a=d.createContainerElement("span",{class:"ck-math-widget"}),m=r(c,{writer:d});return m&&d.insert(d.createPositionAt(a,0),m),toWidget(a,d)}function r(c,{writer:d}){const a=new HtmlDataProcessor(d.document),m=c.getAttribute("formula").replaceAll('ref="<"','ref="&lt;"'),h=Parser.initParse(m,e.getLanguage()),f=a.toView(h).getChild(0);return f?d.createEmptyElement("img",f.getAttributes(),{renderUnsafeAttributes:["src"]}):null}t.conversion.for("editingDowncast").elementToElement({model:"mathml",view:n}),t.conversion.for("dataDowncast").elementToElement({model:"mathml",view:l});function o(c,d){if(d.is("text"))return c.createText(d.data);if(d.is("element")){if(d.is("emptyElement"))return c.createEmptyElement(d.name,d.getAttributes());const a=c.createContainerElement(d.name,d.getAttributes());for(const m of d.getChildren())c.insert(c.createPositionAt(a,"end"),o(c,m));return a}throw new Exception("Given node has unsupported type.")}function l(c,{writer:d}){const a=new HtmlDataProcessor(d.document);let m=Parser.endParseSaveMode(c.getAttribute("formula"));const h=a.toView(m).getChild(0);return o(d,h)}t.editing.mapper.on("viewToModelPosition",viewToModelPositionOutsideModelElement(t.model,c=>c.hasClass("ck-math-widget"))),t.data,t.data.on("get",c=>{let d=c.return;c.return=MathML.removeSemantics(d,"application/json")},{priority:"low"}),t.data.on("set",(c,d)=>{let a=d[0];const m=/<math(.*?)<\/math>/gm;(Object.values(a)[0]?[...Object.values(a)[0].matchAll(m)]:[...a.matchAll(m)]).forEach(f=>{let _=f[0];if(_.includes('encoding="LaTeX"')){let w="$$$"+Latex.getLatexFromMathML(_)+"$$$";a=a.replace(_,w)}}),d[0]=a},{priority:"high"})}_exposeWiris(){window.WirisPlugin={Core,Parser,Image,MathML,Util,Configuration,Listeners,IntegrationModel,currentInstance,Latex}}}export{MathType as M};
