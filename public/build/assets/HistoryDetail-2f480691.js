import{L as P}from"./Layout-80160f1d.js";import{L as S,H as F,r as L,a as c,o as i,c as r,b as y,w as b,d as t,e as C,t as n,F as m,i as h,n as D,h as d,f as K,g as M,v as A,j as B,k as w,q as H}from"./app-50a2f634.js";import{P as V}from"./Pagination-eba5b0b6.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const E={layout:P,components:{Link:S,Head:F,Pagination:V},props:{history:Object,gradeCount:Number,grades:Number,allExams:Object},setup(o){const e=L(new URL(document.location).searchParams.get("search"));return{search:e,handleSearch:()=>{B.Inertia.get(`/user/exam-groups/histories/${o.history.id}`,{search:e.value})}}}},U={class:"page-wrapper"},z={class:"page-content"},I={class:"card border-top border-0 border-3 border-primary"},O={class:"card-header"},R={class:"d-flex justify-content-between"},J={class:"ms-auto"},G={class:"card-body"},Q={class:"table-responsive"},W={class:"table mb-0 table-bordered"},X={class:"badge bg-primary"},Y=["rowspan"],Z=["rowspan"],$={key:0,class:"badge bg-danger"},tt={key:1,class:"badge bg-primary"},et={key:0,class:"card border-top border-0 border-3 border-primary"},st={class:"card-body"},at={class:"text-center"},nt={class:"card border-top border-0 border-3 border-primary"},it={class:"card-header"},rt={class:"d-flex justify-content-between"},ot={key:0,class:"ms-auto"},lt=["href"],dt={class:"card-body"},ut={class:"table-responsive"},mt={class:"table mb-0 table-bordered"},ht={style:{"font-weight":"bold"}},gt={width:"25%"},_t={key:0},ct={colspan:"5",style:{background:"#eee"}},yt={key:1},bt={align:"right"},pt={align:"right"},vt={key:0},kt={align:"right"},ft={key:0},xt={colspan:"2",align:"right"},wt={key:1,class:"card"},Nt={class:"card-body"},jt={class:"d-flex justify-content-between"},Tt={class:"text-start"},Pt={class:"position-relative"},St={class:"table-responsive"},Ft={class:"table table-bordered mb-0"},Lt={key:0,rowspan:"2",class:"text-center align-middle"},Ct={key:1,rowspan:"2",class:"text-center align-middle"},Dt={key:2,rowspan:"2",class:"text-center align-middle"},Kt={key:3,rowspan:"2",class:"text-center align-middle"},Mt=["colspan"],At={class:"text-center"},Bt={class:"badge bg-primary"},Ht={key:0},Vt={key:1},qt={key:2},Et={key:3},Ut={class:"text-center"},zt={class:"text-center"},It={key:0,align:"center",colspan:"15"};function Ot(o,e,a,_,Rt,Jt){var v,k,f,x;const N=c("Head"),p=c("Link"),j=c("Pagination");return i(),r(m,null,[y(N,null,{default:b(()=>[t("title",null,n(o.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Tryout",1)]),_:1}),t("div",U,[t("div",z,[e[29]||(e[29]=C('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Tryout</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Riwayat Tryout</li></ol></nav></div></div>',1)),t("div",I,[t("div",O,[t("div",R,[e[3]||(e[3]=t("div",{class:"text-start"},[t("h5",{class:"mb-0"},"Informasi Tryout")],-1)),t("div",J,[y(p,{href:"/user/exam-groups/histories",class:"btn btn-primary btn-sm"},{default:b(()=>[...e[2]||(e[2]=[w("Kembali",-1)])]),_:1})])])]),t("div",G,[t("div",Q,[t("table",W,[t("tbody",null,[t("tr",null,[e[4]||(e[4]=t("th",{width:"210px"},"Peminatan",-1)),e[5]||(e[5]=t("td",{width:"10px"},":",-1)),t("td",null,[t("span",X,n(a.history.exam_group.category.name),1)])]),t("tr",null,[e[6]||(e[6]=t("th",null,"Kategori Mata Pelajaran",-1)),e[7]||(e[7]=t("td",null,":",-1)),t("td",null,n(a.history.exam_group.lesson_category.name),1)]),t("tr",null,[e[8]||(e[8]=t("th",null,"Judul Tryout",-1)),e[9]||(e[9]=t("td",null,":",-1)),t("td",null,n(a.history.exam_group.title),1)]),t("tr",null,[t("th",{rowspan:a.history.exam_group.grade.length+1},"Mata Pelajaran",8,Y),t("td",{rowspan:a.history.exam_group.grade.length+1},":",8,Z)]),(i(!0),r(m,null,h(a.history.exam_group.grade,(s,u)=>(i(),r("tr",{key:u},[t("td",null,[w(n(s.lesson.name)+" ",1),e[11]||(e[11]=t("br",null,null,-1)),s.exam.show_answer_discussion==1?(i(),H(p,{key:0,href:`/user/grades/${s.id}/questions`},{default:b(()=>[...e[10]||(e[10]=[t("span",{class:"badge bg-warning text-dark"},"Klik untuk pembahasan",-1)])]),_:1},8,["href"])):d("",!0)])]))),128)),t("tr",null,[e[12]||(e[12]=t("th",null,"Tanggal Mengerjakan",-1)),e[13]||(e[13]=t("td",null,":",-1)),t("td",null,n(o.formatDate(a.history.created_at)),1)]),t("tr",null,[e[14]||(e[14]=t("th",null,"Status Ujian",-1)),e[15]||(e[15]=t("td",null,":",-1)),t("td",null,[a.history.is_finished==0?(i(),r("span",$,"Belum Selesai Mengerjakan")):(i(),r("span",tt,"Selesai Mengerjakan"))])])])])])])]),a.history.is_finished==1&&a.history.passed!=null?(i(),r("div",et,[t("div",st,[t("div",at,[t("div",{class:D(["alert border-0 alert-dismissible fade show mb-3 p-0 px-3 py-2",{"alert-success":a.history.passed==1,"alert-danger":a.history.passed==0}])},[e[16]||(e[16]=t("h3",{class:"mb-3"},"Nilai Akhir Tryout",-1)),t("h3",null,n(o.gradeFormat(a.history.grade)),1),t("h4",null,n(a.history.description),1)],2)])])])):d("",!0),t("div",nt,[t("div",it,[t("div",rt,[e[17]||(e[17]=t("div",{class:"text-start"},[t("h5",{class:"mb-0"},"Detail Penilaian")],-1)),a.history.exam_group.certificate_print_user==1?(i(),r("div",ot,[t("a",{target:"_blank",href:`/user/exam-groups/${a.history.id}/export-pdf`,class:"btn btn-danger btn-sm m-1"},"Cetak Hasil Tryout",8,lt)])):d("",!0)])]),t("div",dt,[t("div",ut,[t("table",mt,[t("thead",null,[t("tr",ht,[e[18]||(e[18]=t("td",{width:"10%"},"No",-1)),e[19]||(e[19]=t("td",{width:"35%"},"Kategori Penilaian",-1)),t("td",gt,n(a.history.exam_group.minimal_grade_type==1?"Ambang Batas":"Keterangan"),1),e[20]||(e[20]=t("td",{width:"5%",align:"right"},"Nilai",-1))])]),(i(!0),r(m,null,h(a.history.exam_group.grade,(s,u)=>(i(),r("tbody",{key:u},[s.exam.question_title.assessment_type==1||s.exam.question_title.assessment_type==2?(i(),r("tr",_t,[t("th",ct,[t("h6",null,n(s.lesson.name),1)])])):d("",!0),a.history.exam_group.assessment_type!=4?(i(),r("tr",yt,[t("td",null,n(++u),1),t("td",null,n(s.lesson.name),1),t("td",null,n(a.history.exam_group.assessment_type==2?s.exam.percentage_grade+"%":s.exam.question_title.passing_grade),1),t("td",bt,n(o.gradeFormat(s.grade)),1)])):d("",!0),a.history.exam_group.assessment_type==4&&s.grade_details?(i(!0),r(m,{key:2},h(s.grade_details,(l,g)=>(i(),r("tr",{key:g},[t("td",null,n(++g),1),t("td",null,n(l.grade_category_name),1),t("td",null,n(l.grade_category),1),t("td",pt,n(o.gradeFormat(l.grade)),1)]))),128)):d("",!0)]))),128)),a.history.is_finished==1?(i(),r("tfoot",vt,[t("tr",null,[e[21]||(e[21]=t("th",{colspan:"3"},[t("h5",null,"Nilai Akhir")],-1)),t("td",kt,[t("h5",null,n(o.gradeFormat(a.history.grade)),1)])]),a.history.exam_group.minimal_grade_type!=0?(i(),r("tr",ft,[e[22]||(e[22]=t("th",{colspan:"3"},[t("h5",null,"Keterangan")],-1)),t("td",xt,[t("h5",null,n(a.history.description??"-"),1)])])):d("",!0)])):d("",!0)])])])]),a.history.exam_group.show_ranking_exam==1?(i(),r("div",wt,[e[28]||(e[28]=t("div",{class:"card-header bg-primary"},[t("h5",{class:"mb-0 text-white"}," Nilai Peserta ")],-1)),t("div",Nt,[t("div",jt,[t("div",Tt,[t("form",{onSubmit:e[1]||(e[1]=K((...s)=>_.handleSearch&&_.handleSearch(...s),["prevent"]))},[t("div",Pt,[M(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>_.search=s),class:"form-control ps-5 radius-20",placeholder:"Cari Peserta....",size:"40",maxlength:"100"},null,512),[[A,_.search]]),e[23]||(e[23]=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1))])],32)])]),e[27]||(e[27]=t("hr",null,null,-1)),t("div",St,[t("table",Ft,[t("thead",null,[t("tr",null,[e[24]||(e[24]=t("th",{rowspan:"2",class:"text-center align-middle"},"No",-1)),o.$page.props.setting.authentication_field.some(s=>s.name=="code"&&s.is_active=="1")?(i(),r("th",Lt,n((v=o.$page.props.setting.authentication_field.find(s=>s.name=="code"))==null?void 0:v.translate),1)):d("",!0),o.$page.props.setting.authentication_field.some(s=>s.name=="name"&&s.is_active=="1")?(i(),r("th",Ct,n((k=o.$page.props.setting.authentication_field.find(s=>s.name=="name"))==null?void 0:k.translate),1)):d("",!0),o.$page.props.setting.authentication_field.some(s=>s.name=="province_id"&&s.is_active=="1")?(i(),r("th",Dt,n((f=o.$page.props.setting.authentication_field.find(s=>s.name=="province_id"))==null?void 0:f.translate),1)):d("",!0),o.$page.props.setting.authentication_field.some(s=>s.name=="city_id"&&s.is_active=="1")?(i(),r("th",Kt,n((x=o.$page.props.setting.authentication_field.find(s=>s.name=="city_id"))==null?void 0:x.translate),1)):d("",!0),t("th",{colspan:a.allExams.length,class:"text-center align-middle"},"Detail Nilai",8,Mt),e[25]||(e[25]=t("th",{rowspan:"2",class:"text-center align-middle"},"Nilai Akhir",-1)),e[26]||(e[26]=t("th",{rowspan:"2",class:"text-center align-middle"},"Keterangan",-1))]),t("tr",null,[(i(!0),r(m,null,h(a.allExams,s=>(i(),r("th",{key:s.id,class:"text-center align-middle"},n(s.lesson?s.lesson.short_name:"-"),1))),128))])]),t("tbody",null,[(i(!0),r(m,null,h(a.grades.data,(s,u)=>(i(),r("tr",{key:u},[t("td",At,[t("span",Bt,n(++u+(a.grades.current_page-1)*a.grades.per_page),1)]),o.$page.props.setting.authentication_field.some(l=>l.name=="code"&&l.is_active=="1")?(i(),r("td",Ht,n(s.user.code??"-"),1)):d("",!0),o.$page.props.setting.authentication_field.some(l=>l.name=="name"&&l.is_active=="1")?(i(),r("td",Vt,n(s.user.name??"-"),1)):d("",!0),o.$page.props.setting.authentication_field.some(l=>l.name=="province_id"&&l.is_active=="1")?(i(),r("td",qt,n(s.user.student&&s.user.student.province?s.user.student.province.name:"-"),1)):d("",!0),o.$page.props.setting.authentication_field.some(l=>l.name=="city_id"&&l.is_active=="1")?(i(),r("td",Et,n(s.user.student&&s.user.student.city?s.user.student.city.name:"-"),1)):d("",!0),(i(!0),r(m,null,h(a.allExams,l=>{var g;return i(),r("td",{class:"text-center",key:"exam_"+l.id},n(o.gradeFormat((g=s.user.grade.find(T=>T.lesson_id===l.lesson_id))==null?void 0:g.grade)??"-"),1)}),128)),t("td",Ut,n(o.gradeFormat(s.grade)),1),t("td",zt,n(s.description??"-"),1)]))),128)),t("tr",null,[a.grades.data.length?d("",!0):(i(),r("td",It,"Data Tidak Tersedia"))])])]),y(j,{links:a.grades.links,align:"end"},null,8,["links"])])])])):d("",!0)])])],64)}const Yt=q(E,[["render",Ot]]);export{Yt as default};
