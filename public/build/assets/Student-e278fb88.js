import{L as b}from"./Layout-e7f2b22b.js";import{P as E}from"./Pagination-b43187b9.js";import{L as N,H as V,v as e,d as c}from"./app-39f70351.js";import{S as d}from"./sweetalert2.esm.all-61741a63.js";import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";const v={layout:b,components:{Link:N,Head:V,Pagination:E},props:{examGroupUsers:Object,exam_group_id:Object},setup(o){const t=e.ref(new URL(document.location).searchParams.get("search"));return{search:t,handleSearch:()=>{c.Inertia.get(`/admin/exam-groups/${o.exam_group_id}/students`,{search:t.value})},destroy:r=>{d.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(l=>{l.isConfirmed&&(c.Inertia.delete(`/admin/exam-groups/${r}/exam-group-users`),d.fire({title:"Deleted!",text:"Tryout Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},destroyExamResult:r=>{d.fire({title:"Apakah Anda yakin?",text:"Jika Tryout dihapus, maka anda tidak akan dapat mengembalikannya!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(l=>{l.isConfirmed&&(c.Inertia.delete(`/admin/exam-groups/${r}/delete-exam-group-result`),d.fire({title:"Deleted!",text:"Nilai Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},regenerateTryoutScore:(r,l)=>{d.fire({title:"Konfirmasi Hitung Ulang Nilai",text:"Hitung ulang nilai akan berpengaruh pada nilai yang sudah ada.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hitung Ulang"}).then(m=>{m.isConfirmed&&(c.Inertia.get(`/admin/exam-groups/${r}/students/${l}/regenerate-scores`),d.fire({title:"Success!",text:"Hitung Ulang Berhasil.",icon:"success",timer:1e3,showConfirmButton:!1}))})},regenerateAllTryoutScore:r=>{d.fire({title:"Konfirmasi Hitung Ulang Seluruh Nilai",text:"Jika hanya mengganti beberapa silakan cari peserta dan lakukan hitung ulang. Menghitung ulang seluruh nilai harus di pastikan hanya dilakukan dalam kondisi tertentu, karena menghitung ulang seluruh nilai membutuhkan waktu yang lama dan dapat mempengaruhi performa server Anda.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hitung Ulang"}).then(l=>{l.isConfirmed&&(c.Inertia.get(`/admin/exam-groups/${r}/students/regenerate-all-scores`),d.fire({title:"Success!",text:"Hitung Ulang Berhasil.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}}},B={class:"page-wrapper"},x={class:"page-content"},w={key:0,class:"alert alert-success border-0 bg-success alert-dismissible fade show py-2"},C={class:"d-flex align-items-center"},S={class:"ms-3"},D={class:"text-white"},T={key:1,class:"alert alert-danger border-0 bg-danger alert-dismissible fade show py-2"},$={class:"d-flex align-items-center"},H={class:"ms-3"},U={class:"text-white"},A={class:"card border-top border-0 border-3 border-primary"},P={class:"card-body"},M={class:"row mb-3"},L={class:"col-lg-4 col-md-12 mb-2"},G={class:"position-relative"},j={class:"col-lg-2 col-md-6 mb-2"},I={class:"col-lg-2 col-md-6 mb-2"},F={class:"dropdown"},R={class:"dropdown-menu"},K=["href"],z=["href"],J={class:"col-lg-3 col-md-6 mb-2"},O={class:"col-lg-1 col-md-6"},q={class:"table-responsive"},Q={class:"table mb-0",style:{"font-size":"10pt"}},W={class:"table-light"},X={key:0},Y={key:1},Z={key:2},ee={key:3},te={key:0},ne={key:1},oe={key:2},ae={key:3},se={key:0,class:"badge bg-danger"},re={key:1,class:"badge bg-primary"},ie={class:"d-flex order-actions"},le=["href"],de=["onClick"],ce=["onClick"],me={key:0,align:"center",colspan:"9"};function ue(o,t,s,i,k,_){var m,p,g,h;const u=e.resolveComponent("Head"),r=e.resolveComponent("Link"),l=e.resolveComponent("Pagination");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(u,null,{default:e.withCtx(()=>[e.createElementVNode("title",null,e.toDisplayString(o.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Data Tryout",1)]),_:1}),e.createElementVNode("div",B,[e.createElementVNode("div",x,[t[19]||(t[19]=e.createStaticVNode('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Tryout</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Daftar Peserta Tryout</li></ol></nav></div></div>',1)),o.$page.props.session.success?(e.openBlock(),e.createElementBlock("div",w,[e.createElementVNode("div",C,[t[5]||(t[5]=e.createElementVNode("div",{class:"font-35 text-white"},[e.createElementVNode("i",{class:"bx bxs-check-circle"})],-1)),e.createElementVNode("div",S,[t[4]||(t[4]=e.createElementVNode("h6",{class:"mb-0 text-white"},"Sukses",-1)),e.createElementVNode("div",D,e.toDisplayString(o.$page.props.session.success),1)])])])):e.createCommentVNode("",!0),o.$page.props.session.error?(e.openBlock(),e.createElementBlock("div",T,[e.createElementVNode("div",$,[t[7]||(t[7]=e.createElementVNode("div",{class:"font-35 text-white"},[e.createElementVNode("i",{class:"bx bxs-message-square-x"})],-1)),e.createElementVNode("div",H,[t[6]||(t[6]=e.createElementVNode("h6",{class:"mb-0 text-white"},"Gagal",-1)),e.createElementVNode("div",U,e.toDisplayString(o.$page.props.session.error),1)])])])):e.createCommentVNode("",!0),e.createElementVNode("div",A,[e.createElementVNode("div",P,[e.createElementVNode("div",M,[e.createElementVNode("div",L,[e.createElementVNode("form",{onSubmit:t[1]||(t[1]=e.withModifiers((...n)=>i.handleSearch&&i.handleSearch(...n),["prevent"]))},[e.createElementVNode("div",G,[e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>i.search=n),class:"form-control form-control-sm ps-5 radius-20",placeholder:"Cari Peserta....",size:"40",maxlength:"100"},null,512),[[e.vModelText,i.search]]),t[8]||(t[8]=e.createElementVNode("span",{class:"position-absolute top-50 product-show translate-middle-y"},[e.createElementVNode("i",{class:"bx bx-search"})],-1))])],32)]),e.createElementVNode("div",j,[e.createElementVNode("a",{onClick:t[2]||(t[2]=e.withModifiers(n=>i.destroyExamResult(s.exam_group_id),["prevent"])),class:"btn btn-danger btn-sm w-100"},"Hapus Semua Hasil")]),e.createElementVNode("div",I,[e.createElementVNode("div",F,[t[9]||(t[9]=e.createElementVNode("button",{class:"btn btn-success w-100 dropdown-toggle btn-sm",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Export",-1)),e.createElementVNode("ul",R,[e.createElementVNode("li",null,[e.createElementVNode("a",{class:"dropdown-item",target:"_blank",href:`/admin/exam-groups/${s.exam_group_id}/export-excel`},"Export Hasil ke Excel",8,K)]),e.createElementVNode("li",null,[e.createElementVNode("a",{class:"dropdown-item",target:"_blank",href:`/admin/exam-groups/${s.exam_group_id}/export-pdf`},"Export Hasil ke PDF",8,z)])])])]),e.createElementVNode("div",J,[e.createElementVNode("a",{onClick:t[3]||(t[3]=e.withModifiers(n=>i.regenerateAllTryoutScore(s.exam_group_id),["prevent"])),class:"btn btn-primary btn-sm w-100"},"Hitung Ulang Seluruh Nilai")]),e.createElementVNode("div",O,[e.createVNode(r,{href:"/admin/exam-groups",class:"btn btn-primary w-100 btn-sm"},{default:e.withCtx(()=>[...t[10]||(t[10]=[e.createTextVNode("Kembali",-1)])]),_:1})])]),e.createElementVNode("div",q,[e.createElementVNode("table",Q,[e.createElementVNode("thead",W,[e.createElementVNode("tr",null,[t[11]||(t[11]=e.createElementVNode("th",null,"Peringkat",-1)),o.$page.props.setting.authentication_field.some(n=>n.name=="code"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("th",X,e.toDisplayString((m=o.$page.props.setting.authentication_field.find(n=>n.name=="code"))==null?void 0:m.translate),1)):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(n=>n.name=="name"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("th",Y,e.toDisplayString((p=o.$page.props.setting.authentication_field.find(n=>n.name=="name"))==null?void 0:p.translate),1)):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(n=>n.name=="province_id"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("th",Z,e.toDisplayString((g=o.$page.props.setting.authentication_field.find(n=>n.name=="province_id"))==null?void 0:g.translate),1)):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(n=>n.name=="city_id"&&n.is_active=="1")?(e.openBlock(),e.createElementBlock("th",ee,e.toDisplayString((h=o.$page.props.setting.authentication_field.find(n=>n.name=="city_id"))==null?void 0:h.translate),1)):e.createCommentVNode("",!0),t[12]||(t[12]=e.createElementVNode("th",null,"Status Pengerjaan",-1)),t[13]||(t[13]=e.createElementVNode("th",null,"Nilai",-1)),t[14]||(t[14]=e.createElementVNode("th",null,"Actions",-1))])]),e.createElementVNode("tbody",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.examGroupUsers.data,(n,f)=>(e.openBlock(),e.createElementBlock("tr",{key:f},[e.createElementVNode("td",null,e.toDisplayString(++f+(s.examGroupUsers.current_page-1)*s.examGroupUsers.per_page),1),o.$page.props.setting.authentication_field.some(a=>a.name=="code"&&a.is_active=="1")?(e.openBlock(),e.createElementBlock("td",te,e.toDisplayString(n.user.code??"-"),1)):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(a=>a.name=="name"&&a.is_active=="1")?(e.openBlock(),e.createElementBlock("td",ne,e.toDisplayString(n.user.name??"-"),1)):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(a=>a.name=="province_id"&&a.is_active=="1")?(e.openBlock(),e.createElementBlock("td",oe,e.toDisplayString(n.user.student&&n.user.student.province?n.user.student.province.name:"-"),1)):e.createCommentVNode("",!0),o.$page.props.setting.authentication_field.some(a=>a.name=="city_id"&&a.is_active=="1")?(e.openBlock(),e.createElementBlock("td",ae,e.toDisplayString(n.user.student&&n.user.student.city?n.user.student.city.name:"-"),1)):e.createCommentVNode("",!0),e.createElementVNode("td",null,[n.is_finished==0?(e.openBlock(),e.createElementBlock("span",se,"Belum Selesai Mengerjakan")):(e.openBlock(),e.createElementBlock("span",re,"Selesai Mengerjakan"))]),e.createElementVNode("td",null,e.toDisplayString(o.gradeFormat(n.grade)),1),e.createElementVNode("td",null,[e.createElementVNode("div",ie,[e.createElementVNode("a",{target:"_blank",href:`/admin/exam-groups/${n.exam_group_id}/students/${n.id}/export-pdf`,class:"ms-1"},[...t[15]||(t[15]=[e.createElementVNode("i",{class:"bx bx-file"},null,-1)])],8,le),e.createVNode(r,{href:`/admin/exam-groups/${n.exam_group_id}/students/${n.id}/grades`,class:"ms-1"},{default:e.withCtx(()=>[...t[16]||(t[16]=[e.createElementVNode("i",{class:"bx bx-grid-alt"},null,-1)])]),_:1},8,["href"]),e.createElementVNode("a",{href:"#",onClick:e.withModifiers(a=>i.regenerateTryoutScore(n.exam_group_id,n.id),["prevent"]),class:"ms-1"},[...t[17]||(t[17]=[e.createElementVNode("i",{class:"bx bx-refresh"},null,-1)])],8,de),e.createElementVNode("a",{href:"#",onClick:e.withModifiers(a=>i.destroy(n.id),["prevent"]),class:"ms-1"},[...t[18]||(t[18]=[e.createElementVNode("i",{class:"bx bxs-trash"},null,-1)])],8,ce)])])]))),128)),e.createElementVNode("tr",null,[s.examGroupUsers.data.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("td",me,"Data Tidak Tersedia"))])])])]),e.createVNode(l,{links:s.examGroupUsers.links,align:"end"},null,8,["links"])])])])])],64)}const _e=y(v,[["render",ue]]);export{_e as default};
