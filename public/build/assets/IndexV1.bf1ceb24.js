import{L as B}from"./Layout.f219793d.js";import{P as j}from"./Pagination.07405a25.js";import{L as M,H as P,h as v,c as t,a as c,w as d,b as o,f as n,F as g,g as p,i as C,j as y,o as s,t as a,k as l,W as L,n as I}from"./app.db5b7af9.js";import{S as f}from"./sweetalert2.all.b0408aeb.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";const K={layout:B,components:{Link:M,Head:P,Pagination:j},props:{exams:Object,categoryId:Object,lessonCategoryId:Object,lessonId:Object,userMemberCategories:Object,session:Object},setup(r){return r.session&&r.session.success&&f.fire({title:"Sukses",text:r.session.success,icon:"success"}),r.session&&r.session.error&&f.fire({title:"Peringatan",text:r.session.error,icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Top Up Saldo",cancelButtonText:"Tidak"}).then(i=>{i.isConfirmed&&v.Inertia.get("/user/account-balances")}),{buyExam:i=>{f.fire({title:"Anda yakin akan membeli Latihan Soal ini ?",text:"Pastikan Saldo Anda Cukup Untuk Bertransaksi",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Beli Latihan Soal",cancelButtonText:"Tidak"}).then(m=>{m.isConfirmed&&v.Inertia.get(`/user/account-balances/buy-exam/${i}?type=exam`)})},checkMemberCategories:i=>{if(i){for(const m of r.userMemberCategories)if(m.member_categories.some(b=>i.includes(b)))return!0;return!1}else return!0}}},methods:{formatPrice(r){return(r/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},N={class:"page-wrapper"},A={class:"page-content"},E={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},O=C('<div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal</li></ol></nav></div>',2),U={class:"ms-auto"},V=l("Kembali"),H=o("hr",null,null,-1),D={key:0},F=C('<div class="row row-cols-12 row-cols-md-12 row-cols-lg-12 row-cols-xl-12"><div class="col"><div class="card border-bottom border-3 border-0"><div class="card-body"><h5 class="card-title text-center">Soal Belum Tersedia.</h5></div></div></div></div>',1),R=[F],z={class:"row"},Y={class:"card"},G={key:0},W={key:0,class:"badge bg-danger",style:{position:"absolute","font-size":"14px",margin:"4px"}},q={class:"p-2"},J=["src"],Q={class:"card-header"},X={class:"card-title"},Z=o("p",{class:"card-text"},"Kerjakan Soal Sesuai Perintah Yang Ada Dalam Informasi.",-1),x={key:1,class:"card-body"},ee={key:0,style:{"min-height":"50px"}},se={key:0},te={key:0},oe={class:"card-price text-center"},re={key:1},ie={class:"text-dark text-center"},ne={class:"badge bg-danger mx-1"},ae=o("br",null,null,-1),ce={key:1},de=o("h6",{class:"text-dark text-center"},"Gratis",-1),le=[de],_e={key:1,class:"text-center"},ue={key:0},he={class:"badge bg-success mb-0 ms-1"},be={key:1},ge=o("span",{class:"badge bg-success mb-0"},"Seluruh Member & Non Member",-1),me=[ge],pe={class:"card-footer"},ye={key:0},fe={key:0},ke={key:0},ve={key:0},Ce=l("Kerjakan Soal"),we={key:1},Se=["onClick"],$e={key:1},Be={key:0},je=l("Kerjakan Soal"),Me={key:1},Pe={key:0},Le=l(" Upgrade Ke "),Ie={key:1},Te={key:2},Ke={key:0},Ne=l("Kerjakan Soal"),Ae={key:1},Ee=l("Kerjakan Soal"),Oe={key:2},Ue=["onClick"],Ve={key:3},He={key:0},De=l(" Upgrade Ke "),Fe={key:1},Re={key:1},ze=l("Kerjakan Soal"),Ye={key:1},Ge={key:1,class:"row mb-3"},We={class:"col"};function qe(r,k,u,i,m,b){const w=y("Head"),_=y("Link"),S=y("Pagination");return s(),t(g,null,[c(w,null,{default:d(()=>{var e;return[o("title",null,a((e=r.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Soal",1)]}),_:1}),o("div",N,[o("div",A,[o("div",E,[O,o("div",U,[c(_,{href:`/user/categories/${u.categoryId}/lesson-categories/${u.lessonCategoryId}/lessons`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:d(()=>[V]),_:1},8,["href"])])]),H,u.exams.data.length?n("",!0):(s(),t("div",D,R)),o("div",z,[(s(!0),t(g,null,p(u.exams.data,(e,$)=>(s(),t("div",{class:"col-xs-12 col-sm-6 col-md-6 col-lg-3",key:$},[o("div",Y,[r.$page.props.auth.user.member_type==2?(s(),t("div",G,[(e.transaction.length>0||i.checkMemberCategories(e.member_categories)==!0)&&e.member_categories?(s(),t("span",W,"Enrolled")):n("",!0)])):n("",!0),o("div",q,[o("img",{src:"/storage/upload_files/lessons/"+e.lesson.thumbnail,class:"card-img"},null,8,J)]),o("div",Q,[o("h6",X,a(e.title),1),Z]),r.$page.props.auth.user.member_type==2?(s(),t("div",x,[r.$page.props.setting.purchase_type==1||r.$page.props.setting.purchase_type==3?(s(),t("div",ee,[e.price_type==2?(s(),t("div",se,[e.price_before_discount==e.price_after_discount?(s(),t("div",te,[o("h6",oe,"Rp."+a(b.formatPrice(e.price_after_discount)),1)])):(s(),t("div",re,[o("h6",ie,[o("sup",null,[o("s",null,"Rp."+a(b.formatPrice(e.price_before_discount)),1),o("span",ne,a(b.formatPrice((e.price_before_discount-e.price_after_discount)/e.price_before_discount*100))+"% ",1)]),ae,l("Rp."+a(b.formatPrice(e.price_after_discount)),1)])]))])):(s(),t("div",ce,le))])):n("",!0),r.$page.props.setting.purchase_type==2||r.$page.props.setting.purchase_type==3?(s(),t("div",_e,[e.member_categories?(s(),t("div",ue,[(s(!0),t(g,null,p(e.member_categories,h=>(s(),t("span",he,a(h),1))),256))])):(s(),t("div",be,me))])):n("",!0)])):n("",!0),o("div",pe,[e.exam_status=="active"?(s(),t("div",ye,[r.$page.props.auth.user.member_type==2&e.price_type==2?(s(),t("div",fe,[r.$page.props.setting.purchase_type==1?(s(),t("div",ke,[e.transaction.length>0?(s(),t("div",ve,[c(_,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:d(()=>[Ce]),_:2},1032,["href"])])):(s(),t("div",we,[o("button",{class:"btn btn-outline-primary btn-sm w-100",onClick:h=>i.buyExam(e.id)},"Beli Latihan Soal",8,Se)]))])):n("",!0),r.$page.props.setting.purchase_type==2?(s(),t("div",$e,[i.checkMemberCategories(e.member_categories)==!0?(s(),t("div",Be,[e.exam_status=="active"?(s(),L(_,{key:0,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:d(()=>[je]),_:2},1032,["href"])):n("",!0)])):(s(),t("div",Me,[c(_,{href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-outline-primary btn-sm w-100"},{default:d(()=>[e.member_categories.length==1?(s(),t("div",Pe,[Le,(s(!0),t(g,null,p(e.member_categories,h=>(s(),t("span",null,a(h),1))),256))])):(s(),t("div",Ie," Upgrade Member "))]),_:2},1032,["href"])]))])):n("",!0),r.$page.props.setting.purchase_type==3?(s(),t("div",Te,[e.transaction.length>0&&i.checkMemberCategories(e.member_categories)==!0?(s(),t("div",Ke,[c(_,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100 mb-2"},{default:d(()=>[Ne]),_:2},1032,["href"])])):n("",!0),(e.transaction.length==0||i.checkMemberCategories(e.member_categories)==!1)&&(e.transaction.length>0||i.checkMemberCategories(e.member_categories)==!0)?(s(),t("div",Ae,[c(_,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100 mb-2"},{default:d(()=>[Ee]),_:2},1032,["href"])])):n("",!0),e.transaction.length==0?(s(),t("div",Oe,[o("button",{class:"btn btn-outline-primary btn-sm w-100 mb-2",onClick:h=>i.buyExam(e.id)},"Beli Latihan Soal",8,Ue)])):n("",!0),i.checkMemberCategories(e.member_categories)==!1?(s(),t("div",Ve,[c(_,{href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-outline-primary btn-sm w-100 mb-2"},{default:d(()=>[e.member_categories.length==1?(s(),t("div",He,[De,(s(!0),t(g,null,p(e.member_categories,h=>(s(),t("span",null,a(h),1))),256))])):(s(),t("div",Fe," Upgrade Member "))]),_:2},1032,["href"])])):n("",!0)])):n("",!0)])):(s(),t("div",Re,[c(_,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:d(()=>[ze]),_:2},1032,["href"])]))])):(s(),t("div",Ye,[o("button",{class:I(["btn btn-sm w-100",{"btn-danger":e.exam_status=="inactive","btn-warning":e.exam_status==="inprogress"}])},a(e.exam_status==="inactive"?"Non Active":"In Progress"),3)]))])])]))),128))]),u.exams.data.length?(s(),t("div",Ge,[o("div",We,[c(S,{links:u.exams.links,align:"center"},null,8,["links"])])])):n("",!0)])])],64)}const es=T(K,[["render",qe]]);export{es as default};
