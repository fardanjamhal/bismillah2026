import{L as N}from"./Layout.0d76d07d.js";import{L as V,H as M,p as C,c as i,a as w,w as P,b as t,d as F,t as e,f as l,e as H,q as j,F as A,h as O,i as B,j as D,o,k as U}from"./app.491e8c84.js";import{S as q}from"./sweetalert2.all.54f008f8.js";import{_ as E}from"./_plugin-vue_export-helper.cdc0426e.js";const G={layout:N,components:{Link:V,Head:M},props:{transaction:Object},setup(s){const r=C({transaction_status:s.transaction.transaction_status});return{form:r,submit:()=>{O.Inertia.put(`/admin/transactions/${s.transaction.id}`,{transaction_status:r.transaction_status},{onSuccess:()=>{q.fire({title:"Success!",text:"Transaksi Berhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})}}},methods:{formatPrice(s){return"Rp."+(s/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},I={class:"page-wrapper"},J={class:"page-content"},R=B('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Transaksi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Transaksi</li></ol></nav></div></div>',1),z={class:"card border-top border-0 border-3 border-primary"},Q={class:"card-body"},W={class:"d-lg-flex align-items-center"},X={class:"ms-auto"},Y=U("Kembali"),Z={class:"table-responsive"},x={class:"table mb-0"},$=t("tr",null,[t("th",{colspan:"3"},"Biodata")],-1),tt={key:0},nt=t("td",null,":",-1),at={key:1},et=t("td",null,":",-1),st={key:2},it=t("td",null,":",-1),ot={key:3},lt=t("td",null,":",-1),rt={key:4},dt=t("td",null,":",-1),ct={key:5},ut=t("td",null,":",-1),_t={key:6},mt=t("td",null,":",-1),ht={key:7},gt=t("td",null,":",-1),bt={key:8},ft=t("td",null,":",-1),pt=t("tr",null,[t("td",{colspan:"3"},"\xA0")],-1),yt=t("tr",null,[t("th",{colspan:"3"},"Detail Transaksi")],-1),kt=t("td",null,"Kode Transaksi",-1),vt=t("td",null,":",-1),Tt=t("td",null,"Tanggal Transaksi",-1),St=t("td",null,":",-1),wt={key:9},Pt=t("td",null,"Kategori Peminatan",-1),Dt=t("td",null,":",-1),Bt={class:"badge bg-primary"},Kt=t("td",null,"Deskripsi Transaksi",-1),Lt=t("td",null,":",-1),Nt=t("td",null,"Metode Pembayaran",-1),Vt=t("td",null,":",-1),Mt={key:0,class:"badge bg-primary"},Ct={key:1,class:"badge bg-primary"},Ft={key:2,class:"badge bg-primary"},Ht={key:3,class:"badge bg-primary"},jt=t("td",null,"Total Transaksi",-1),At=t("td",null,":",-1),Ot=t("td",null,"Status Transaksi",-1),Ut=t("td",null,":",-1),qt={key:0,class:"fw-bold"},Et={key:1,class:"fw-bold"},Gt={key:2,class:"fw-bold"},It={key:3,class:"fw-bold"},Jt={key:4,class:"fw-bold"},Rt={key:0},zt=t("tr",null,[t("td",{colspan:"3"},"\xA0")],-1),Qt=t("tr",null,[t("th",{colspan:"3"},"Data Konfirmasi Pembayaran")],-1),Wt=t("td",null,"Nama Pengirim Transfer",-1),Xt=t("td",null,":",-1),Yt=t("td",null,"Di Transfer Ke",-1),Zt=t("td",null,":",-1),xt=t("td",null,"Tanggal Transfer",-1),$t=t("td",null,":",-1),tn=t("td",null,"Jumlah Transfer",-1),nn=t("td",null,":",-1),an=t("td",null,"Bukti Transfer",-1),en=t("td",null,":",-1),sn=["src"],on=t("tr",null,[t("th",{colspan:"3"},"\xA0")],-1),ln={key:1},rn=t("td",null,"Ubah Status Transaksi",-1),dn=t("td",null,":",-1),cn=B('<option value="">[ Pilih Status Transaksi ]</option><option value="pending">Pending</option><option value="paid">Paid</option><option value="done">Done</option><option value="failed">Failed</option>',5),un=[cn],_n=t("tr",null,[t("td",{colspan:"3"},[t("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")])],-1);function mn(s,r,a,d,hn,c){var u,_,m,h,g,b,f,p,y,k,v,T,S;const K=D("Head"),L=D("Link");return o(),i(A,null,[w(K,null,{default:P(()=>{var n;return[t("title",null,e((n=s.$page.props.setting.app_name)!=null?n:"Atur Setting Terlebih Dahulu")+" - Detail Transaksi",1)]}),_:1}),t("div",I,[t("div",J,[R,t("div",z,[t("div",Q,[t("div",W,[t("div",X,[w(L,{href:"/admin/transactions",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:P(()=>[Y]),_:1})])]),t("div",Z,[t("form",{onSubmit:r[1]||(r[1]=F((...n)=>d.submit&&d.submit(...n),["prevent"]))},[t("table",x,[t("tbody",null,[$,s.$page.props.setting.authentication_field.some(n=>n.name=="code"&&n.is_active=="1")?(o(),i("tr",tt,[t("td",null,e((u=s.$page.props.setting.authentication_field.find(n=>n.name=="code"))==null?void 0:u.translate),1),nt,t("td",null,e((_=a.transaction.user.code)!=null?_:"-"),1)])):l("",!0),s.$page.props.setting.authentication_field.some(n=>n.name=="name"&&n.is_active=="1")?(o(),i("tr",at,[t("td",null,e((m=s.$page.props.setting.authentication_field.find(n=>n.name=="name"))==null?void 0:m.translate),1),et,t("td",null,e((h=a.transaction.user.name)!=null?h:"-"),1)])):l("",!0),s.$page.props.setting.authentication_field.some(n=>n.name=="email"&&n.is_active=="1")?(o(),i("tr",st,[t("td",null,e((g=s.$page.props.setting.authentication_field.find(n=>n.name=="email"))==null?void 0:g.translate),1),it,t("td",null,e((b=a.transaction.user.email)!=null?b:"-"),1)])):l("",!0),s.$page.props.setting.authentication_field.some(n=>n.name=="username"&&n.is_active=="1")?(o(),i("tr",ot,[t("td",null,e((f=s.$page.props.setting.authentication_field.find(n=>n.name=="username"))==null?void 0:f.translate),1),lt,t("td",null,e((p=a.transaction.user.username)!=null?p:"-"),1)])):l("",!0),s.$page.props.setting.authentication_field.some(n=>n.name=="province_id"&&n.is_active=="1")?(o(),i("tr",rt,[t("td",null,e((y=s.$page.props.setting.authentication_field.find(n=>n.name=="province_id"))==null?void 0:y.translate),1),dt,t("td",null,e(a.transaction.user.student&&a.transaction.user.student.province?a.transaction.user.student.province.name:"-"),1)])):l("",!0),s.$page.props.setting.authentication_field.some(n=>n.name=="city_id"&&n.is_active=="1")?(o(),i("tr",ct,[t("td",null,e((k=s.$page.props.setting.authentication_field.find(n=>n.name=="city_id"))==null?void 0:k.translate),1),ut,t("td",null,e(a.transaction.user.student&&a.transaction.user.student.city?a.transaction.user.student.city.name:"-"),1)])):l("",!0),s.$page.props.setting.authentication_field.some(n=>n.name=="district_id"&&n.is_active=="1")?(o(),i("tr",_t,[t("td",null,e((v=s.$page.props.setting.authentication_field.find(n=>n.name=="district_id"))==null?void 0:v.translate),1),mt,t("td",null,e(a.transaction.user.student&&a.transaction.user.student.district?a.transaction.user.student.district.name:"-"),1)])):l("",!0),s.$page.props.setting.authentication_field.some(n=>n.name=="village_id"&&n.is_active=="1")?(o(),i("tr",ht,[t("td",null,e((T=s.$page.props.setting.authentication_field.find(n=>n.name=="village_id"))==null?void 0:T.translate),1),gt,t("td",null,e(a.transaction.user.student&&a.transaction.user.student.village?a.transaction.user.student.village.name:"-"),1)])):l("",!0),s.$page.props.setting.authentication_field.some(n=>n.name=="phone_number"&&n.is_active=="1")?(o(),i("tr",bt,[t("td",null,e((S=s.$page.props.setting.authentication_field.find(n=>n.name=="phone_number"))==null?void 0:S.translate),1),ft,t("td",null,e(a.transaction.user.student&&a.transaction.user.student.phone_number?a.transaction.user.student.phone_number:"-"),1)])):l("",!0),pt,yt,t("tr",null,[kt,vt,t("td",null,e(a.transaction.code),1)]),t("tr",null,[Tt,St,t("td",null,e(a.transaction.created_at),1)]),a.transaction.category?(o(),i("tr",wt,[Pt,Dt,t("td",null,[t("span",Bt,e(a.transaction.category.name),1)])])):l("",!0),t("tr",null,[Kt,Lt,t("td",null,e(a.transaction.description),1)]),t("tr",null,[Nt,Vt,t("td",null,[a.transaction.payment_method=="account_balance"?(o(),i("span",Mt,"Saldo Akun")):l("",!0),a.transaction.payment_method=="manual_transfer"?(o(),i("span",Ct,"Transfer Manual (Konfirmasi Pembayaran)")):l("",!0),a.transaction.payment_method=="automatic_transfer_midtrans"?(o(),i("span",Ft,"Transfer Otomatis")):l("",!0),a.transaction.payment_method=="not_payment_method"?(o(),i("span",Ht,"Tanpa Metode Pembayaran")):l("",!0)])]),t("tr",null,[jt,At,t("td",null,e(c.formatPrice(a.transaction.total_payment)),1)]),t("tr",null,[Ot,Ut,t("td",null,[a.transaction.transaction_status=="pending"?(o(),i("span",qt,"Pending - Belum melakukan pembayaran")):l("",!0),a.transaction.transaction_status=="paid"?(o(),i("span",Et,"Telah melakukan pembayaran")):l("",!0),a.transaction.transaction_status=="failed"?(o(),i("span",Gt,"Transaksi Gagal")):l("",!0),a.transaction.transaction_status=="done"?(o(),i("span",It,"Transaksi Selesai")):l("",!0),a.transaction.transaction_status=="expired"?(o(),i("span",Jt,"Transaksi Kadaluarsa")):l("",!0)])])]),a.transaction.payment_method=="manual_transfer"&&a.transaction.payment_confirmation?(o(),i("tbody",Rt,[zt,Qt,t("tr",null,[Wt,Xt,t("td",null,e(a.transaction.payment_confirmation.rekening_name),1)]),t("tr",null,[Yt,Zt,t("td",null,e(a.transaction.payment_confirmation.bank.bank_name+" - "+a.transaction.payment_confirmation.bank.rekening_number+" - "+a.transaction.payment_confirmation.bank.rekening_name),1)]),t("tr",null,[xt,$t,t("td",null,e(a.transaction.payment_confirmation.transfer_date),1)]),t("tr",null,[tn,nn,t("td",null,e(c.formatPrice(a.transaction.payment_confirmation.total_payment)),1)]),t("tr",null,[an,en,t("td",null,[t("img",{src:"/storage/upload_files/payment_confirmation/"+a.transaction.payment_confirmation.file,style:{width:"300px"}},null,8,sn)])]),on])):l("",!0),a.transaction.transaction_status=="pending"||a.transaction.transaction_status=="paid"?(o(),i("tbody",ln,[t("tr",null,[rn,dn,t("td",null,[H(t("select",{class:"form-control","onUpdate:modelValue":r[0]||(r[0]=n=>d.form.transaction_status=n)},un,512),[[j,d.form.transaction_status]])])]),_n])):l("",!0)])],32)])])])])])],64)}const yn=E(G,[["render",mn]]);export{yn as default};
