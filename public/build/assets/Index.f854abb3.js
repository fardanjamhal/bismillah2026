import{L as T}from"./Layout.2aa80b53.js";import{P as U}from"./Pagination.510ca4b4.js";import{L as V,H as B,p as j,r as g,c as n,a as _,w as m,b as t,e as b,v as M,q as v,F as p,g as y,d as S,f as w,h as C,i as H,j as x,o as l,t as i,n as L,k as u}from"./app.ae09f713.js";import{S as P}from"./sweetalert2.all.cfd94722.js";import{a as D}from"./index.370f88c8.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";const I={layout:T,components:{Link:V,Head:B,Pagination:U},props:{exams:Object,categories:Object},setup(){const s=j({search:g(new URL(document.location).searchParams.get("search")),category_id:g(new URL(document.location).searchParams.get("category_id")||""),lesson_category_id:g(new URL(document.location).searchParams.get("lesson_category_id")||""),lesson_id:g(new URL(document.location).searchParams.get("lesson_id")||""),order:g(new URL(document.location).searchParams.get("order")||""),lessonCategories:[],lessons:[]}),a=()=>{C.Inertia.get("/admin/exams",{search:s.search,category_id:s.category_id,lesson_category_id:s.lesson_category_id,lesson_id:s.lesson_id,order:s.order})},d=(h="",c="")=>{s.lesson_category_id=h!=s.category_id?"":s.lesson_category_id,s.lesson_id=c!=s.lesson_category_id?"":s.lesson_id,D.get(`/admin/categories/${s.category_id}/lesson-categories`).then(r=>{s.lessonCategories=r.data}).catch(r=>console.error(r))},o=(h="")=>{s.lesson_id=h!=s.lesson_category_id?"":s.lesson_id,D.get(`/admin/lesson-categories/${s.lesson_category_id}/lessons`).then(c=>{s.lessons=c.data}).catch(c=>console.error(c))},k=h=>{P.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(c=>{c.isConfirmed&&(C.Inertia.delete(`/admin/exams/${h}`),P.fire({title:"Deleted!",text:"Latihan Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})};return s.category_id&&d(s.category_id,s.lesson_category_id),s.lesson_category_id&&o(s.lesson_category_id),{form:s,handleSearch:a,destroy:k,lessonCategoryData:d,lessonData:o}}},R={class:"page-wrapper"},F={class:"page-content"},q=H('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Latihan Soal</li></ol></nav></div></div>',1),z={class:"card border-top border-0 border-3 border-primary"},E=t("div",{class:"card-header"},[t("div",{class:"d-flex align-items-center"},[t("div",null,[t("h6",{class:"mb-0"},"Filter Data")])])],-1),J={class:"card-body"},K={class:"row"},O={class:"col-md-4 col-lg-2 mb-1"},W=t("label",{for:"search"},"Judul Latihan Soal",-1),G={class:"col-md-6 col-lg-2 mb-1"},Q=t("label",{for:"category"},"Kategori Peminatan",-1),X=t("option",{value:""},"[ Pilih]",-1),Y=["value"],Z={class:"col-md-6 col-lg-2 mb-1"},$=t("label",{for:"lesson_category_id"},"Kategori Mata Pelajaran",-1),tt=t("option",{value:""},"[ Pilih ]",-1),et=["value"],st={class:"col-md-6 col-lg-2 mb-1"},ot=t("label",{for:"lesson_id"},"Mata Pelajaran",-1),at=t("option",{value:""},"[ Pilih ]",-1),nt=["value"],lt={class:"col-lg-2 col-md-6 mb-1"},it=t("label",{for:"category"},"Waktu",-1),rt=t("option",{value:""},"[ Pilih]",-1),dt=t("option",{value:"DESC"},"Terbaru",-1),ct=t("option",{value:"ASC"},"Terlama",-1),_t=[rt,dt,ct],mt={class:"col-md-6 col-lg-2 mb-1"},ut=t("label",{for:"end_date"},"Action",-1),ht=t("br",null,null,-1),gt={class:"input-group"},bt=t("i",{class:"bx bx-filter"},null,-1),pt=u("Filter "),ft=[bt,pt],vt=t("i",{class:"bx bx-refresh"},null,-1),yt=u("reset "),wt={class:"card border-top border-0 border-3 border-primary"},xt={class:"card-header"},kt={class:"d-flex align-items-center"},St=t("div",null,[t("h6",{class:"mb-0"},"Latihan Soal")],-1),Ct={class:"ms-auto"},Lt=t("i",{class:"bx bxs-plus-square"},null,-1),Pt=u("Tambah Latihan Soal "),Dt={class:"card-body"},At={class:"table-responsive"},Tt={class:"table mb-0",style:{"font-size":"10pt"}},Ut=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"No"),t("th",null,"Peminatan"),t("th",null,"Kategori"),t("th",null,"Mata Pelajaran"),t("th",null,"Paket Soal"),t("th",null,"Judul Latihan Soal"),t("th",null,"Durasi"),t("th",null,"Peserta"),t("th",null,"Status"),t("th",null,"Actions")])],-1),Vt={class:"badge bg-primary"},Bt={key:0,class:"badge bg-danger"},jt={key:1,class:"badge bg-primary"},Mt={class:"btn-group"},Ht=t("span",{class:"visually-hidden"},"Toggle Dropdown",-1),Nt=[Ht],It={class:"dropdown-menu"},Rt={key:0},Ft=u("Active"),qt={key:1},zt=u("Inactive"),Et={key:2},Jt=u("In Progress"),Kt={class:"dropdown"},Ot=t("button",{class:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true"},"Action",-1),Wt={class:"dropdown-menu","data-popper-placement":"top-start","data-popper-reference-hidden":"","data-popper-escaped":""},Gt=u("Detail"),Qt=u("Edit"),Xt=["onClick"],Yt={key:0,align:"center",colspan:"10"};function Zt(s,a,d,o,k,h){const c=x("Head"),r=x("Link"),A=x("Pagination");return l(),n(p,null,[_(c,null,{default:m(()=>{var e;return[t("title",null,i((e=s.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Data Latihan Soal",1)]}),_:1}),t("div",R,[t("div",F,[q,t("div",z,[E,t("div",J,[t("form",null,[t("div",K,[t("div",O,[W,b(t("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>o.form.search=e),class:"form-control form-control-sm",id:"search",placeholder:"Judul Latihan Soal...."},null,512),[[M,o.form.search]])]),t("div",G,[Q,b(t("select",{onChange:a[1]||(a[1]=(...e)=>o.lessonCategoryData&&o.lessonCategoryData(...e)),"onUpdate:modelValue":a[2]||(a[2]=e=>o.form.category_id=e),class:"form-control form-control-sm"},[X,(l(!0),n(p,null,y(d.categories,(e,f)=>(l(),n("option",{key:f,value:e.id},i(e.name),9,Y))),128))],544),[[v,o.form.category_id]])]),t("div",Z,[$,b(t("select",{onChange:a[3]||(a[3]=(...e)=>o.lessonData&&o.lessonData(...e)),"onUpdate:modelValue":a[4]||(a[4]=e=>o.form.lesson_category_id=e),class:"form-control form-control-sm"},[tt,(l(!0),n(p,null,y(o.form.lessonCategories,e=>(l(),n("option",{value:e.id},i(e.name),9,et))),256))],544),[[v,o.form.lesson_category_id]])]),t("div",st,[ot,b(t("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>o.form.lesson_id=e),class:"form-select form-select-sm"},[at,(l(!0),n(p,null,y(o.form.lessons,e=>(l(),n("option",{value:e.id},i(e.name),9,nt))),256))],512),[[v,o.form.lesson_id]])]),t("div",lt,[it,b(t("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>o.form.order=e),class:"form-select form-select-sm"},_t,512),[[v,o.form.order]])]),t("div",mt,[ut,ht,t("div",gt,[t("button",{onClick:a[7]||(a[7]=S((...e)=>o.handleSearch&&o.handleSearch(...e),["prevent"])),class:"btn btn-primary btn-sm"},ft),_(r,{href:"/admin/exams",class:"btn btn-danger btn-sm"},{default:m(()=>[vt,yt]),_:1})])])])])])]),t("div",wt,[t("div",xt,[t("div",kt,[St,t("div",Ct,[_(r,{href:"/admin/exams/create",class:"btn btn-primary btn-sm me-2"},{default:m(()=>[Lt,Pt]),_:1})])])]),t("div",Dt,[t("div",At,[t("table",Tt,[Ut,t("tbody",null,[(l(!0),n(p,null,y(d.exams.data,(e,f)=>(l(),n("tr",{key:f},[t("td",null,i(++f+(d.exams.current_page-1)*d.exams.per_page),1),t("td",null,[t("span",Vt,i(e.category.name),1)]),t("td",null,i(e.lesson_category.name),1),t("td",null,i(e.lesson.name),1),t("td",null,i(e.question_title.name),1),t("td",null,i(e.title),1),t("td",null,i(e.duration)+" Menit",1),t("td",null,[e.grade_count==0?(l(),n("span",Bt,i(e.grade_count),1)):(l(),n("span",jt,i(e.grade_count),1))]),t("td",null,[t("div",Mt,[t("button",{type:"button",class:L({btn:!0,"btn-sm":!0,"btn-warning":e.exam_status==="inprogress","btn-danger":e.exam_status==="inactive","btn-primary":e.exam_status==="active"})},i(s.capitalizeWords(e.exam_status)),3),t("button",{type:"button",class:L([{btn:!0,"btn-sm":!0,"btn-warning":e.exam_status==="inprogress","btn-danger":e.exam_status==="inactive","btn-primary":e.exam_status==="active","split-bg-warning":e.exam_status==="inprogress","split-bg-danger":e.exam_status==="inactive","split-bg-primary":e.exam_status==="active"},"dropdown-toggle dropdown-toggle-split"]),"data-bs-toggle":"dropdown","aria-expanded":"false"},Nt,2),t("ul",It,[e.exam_status!=="active"?(l(),n("li",Rt,[_(r,{class:"dropdown-item",href:`/admin/exams/${e.id}/change-exam-status?exam_status=active`},{default:m(()=>[Ft]),_:2},1032,["href"])])):w("",!0),e.exam_status!=="inactive"?(l(),n("li",qt,[_(r,{class:"dropdown-item",href:`/admin/exams/${e.id}/change-exam-status?exam_status=inactive`},{default:m(()=>[zt]),_:2},1032,["href"])])):w("",!0),e.exam_status!=="inprogress"?(l(),n("li",Et,[_(r,{class:"dropdown-item",href:`/admin/exams/${e.id}/change-exam-status?exam_status=inprogress`},{default:m(()=>[Jt]),_:2},1032,["href"])])):w("",!0)])])]),t("td",null,[t("div",Kt,[Ot,t("ul",Wt,[t("li",null,[_(r,{class:"dropdown-item",href:`/admin/exams/${e.id}`},{default:m(()=>[Gt]),_:2},1032,["href"])]),t("li",null,[_(r,{class:"dropdown-item",href:`/admin/exams/${e.id}/edit`},{default:m(()=>[Qt]),_:2},1032,["href"])]),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:S($t=>o.destroy(e.id),["prevent"])},"Hapus",8,Xt)])])])])]))),128)),t("tr",null,[d.exams.data.length?w("",!0):(l(),n("td",Yt,"Data Tidak Tersedia"))])])])]),_(A,{links:d.exams.links,align:"end"},null,8,["links"])])])])])],64)}const le=N(I,[["render",Zt]]);export{le as default};
