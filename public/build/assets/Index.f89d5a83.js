import{L as j}from"./Layout.6e589519.js";import{P as L}from"./Pagination.d27b1b98.js";import{L as B,H as T,m as P,r as k,i as x,c as n,a as m,w as d,b as e,d as p,f as M,v as O,e as U,F as _,h as V,g as h,j as f,o as i,t as v,k as C,y as S}from"./app.3c4545f2.js";import{S as I}from"./sweetalert2.esm.all.089855d2.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";const $={layout:j,components:{Link:B,Head:T,Pagination:L},props:{exams:Object,categoryId:Object,lessonCategoryId:Object,lessonId:Object,userMemberCategories:Object,subCategories:Object,session:Object},setup(a){const s=P({search:k(new URL(document.location).searchParams.get("search")),sub_category_id:k(new URL(document.location).searchParams.get("sub_category_id")||"")}),o=()=>{x.Inertia.get(`/user/categories/${a.categoryId}/lesson-categories/${a.lessonCategoryId}/lessons/${a.lessonId}/exams`,{search:s.search,sub_category_id:s.sub_category_id})};return a.session&&a.session.success&&I.fire({title:"Sukses",text:a.session.success,icon:"success"}),a.session&&a.session.error&&I.fire({title:"Peringatan",text:a.session.error,icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Top Up Saldo",cancelButtonText:"Tidak"}).then(u=>{u.isConfirmed&&x.Inertia.get("/user/account-balances")}),{form:s,handleSearch:o,checkMemberCategories:u=>{const b=u||[],g=a.userMemberCategories||[];if(!b.length)return!0;const l=b.map(c=>String(c.id));return g.some(c=>l.includes(String(c.member_category_id)))}}},methods:{formatPrice(a){return(a/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},D={class:"page-wrapper"},F={class:"page-content"},H={class:"breadcrumb-wrap"},R={class:"right"},A={class:"card search-card"},K={class:"card-body p-3"},q={class:"input-group search-stack"},E={class:"card list-shell"},z={class:"card-body"},G={class:"row g-3 g-md-4"},J={class:"exam-tile"},Q={class:"tile-title clamp-2"},W={class:"tile-meta"},X={class:"meta-right"},Y={key:0},Z={key:1},ee={key:0,class:"col-12"},se={key:0,class:"row mb-3"},te={class:"col-lg-12"},ae={class:"d-flex justify-content-center"};function oe(a,s,o,r,u,b){const g=f("Head"),l=f("Link"),c=f("Pagination");return i(),n(_,null,[m(g,null,{default:d(()=>{var t;return[e("title",null,v((t=a.$page.props.setting.app_name)!=null?t:"Atur Setting Terlebih Dahulu")+" - Soal",1)]}),_:1}),e("div",D,[e("div",F,[e("div",H,[s[3]||(s[3]=p('<div class="left"><span class="title">Latihan Soal</span><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="/user/dashboard" class="home" aria-label="Dashboard"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal</li></ol></nav></div>',1)),e("div",R,[m(l,{href:`/user/categories/${o.categoryId}/lesson-categories/${o.lessonCategoryId}/lessons`,class:"btn btn-primary btn-sm back-btn"},{default:d(()=>[...s[2]||(s[2]=[e("i",{class:"bx bx-left-arrow-alt"},null,-1),C(" Kembali ",-1)])]),_:1},8,["href"])])]),s[12]||(s[12]=e("hr",{class:"divider"},null,-1)),e("div",A,[e("div",K,[e("div",q,[s[6]||(s[6]=e("span",{class:"input-icon"},[e("i",{class:"bx bx-search"})],-1)),M(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>r.form.search=t),class:"form-control form-control-sm search-input",placeholder:"Cari judul latihan\u2026"},null,512),[[O,r.form.search]]),e("button",{onClick:s[1]||(s[1]=U((...t)=>r.handleSearch&&r.handleSearch(...t),["prevent"])),class:"btn btn-primary btn-sm search-btn",title:"Filter"},[...s[4]||(s[4]=[e("i",{class:"bx bx-filter-alt"},null,-1)])]),m(l,{href:`/user/categories/${o.categoryId}/lesson-categories/${o.lessonCategoryId}/lessons/${o.lessonId}/exams`,class:"btn btn-outline-secondary btn-sm reset-btn",title:"Reset"},{default:d(()=>[...s[5]||(s[5]=[e("i",{class:"bx bx-refresh"},null,-1)])]),_:1},8,["href"])])])]),e("div",E,[e("div",z,[e("div",G,[(i(!0),n(_,null,V(o.exams.data,(t,w)=>(i(),n("div",{key:w,class:"col-12 col-md-6 col-lg-4 col-xxl-3"},[e("div",J,[s[10]||(s[10]=e("div",{class:"tile-head"},[e("span",{class:"pill"},"Latihan")],-1)),e("h6",Q,v(t.title),1),e("div",W,[s[9]||(s[9]=e("div",{class:"meta-left"},[e("i",{class:"bx bx-time"}),e("span",null,"Siap dikerjakan")],-1)),e("div",X,[a.$page.props.setting.practice_question_sales_type==2?(i(),n(_,{key:0},[r.checkMemberCategories(t.member_categories)?(i(),S(l,{key:0,href:`/user/categories/${t.category_id}/lesson-categories/${t.lesson_category_id}/lessons/${t.lesson_id}/exams/${t.id}`,class:"btn btn-kerjakan"},{default:d(()=>[...s[7]||(s[7]=[C(" Kerjakan ",-1),e("i",{class:"bx bx-right-arrow-alt"},null,-1)])]),_:1},8,["href"])):(i(),S(l,{key:1,href:`/user/vouchers?category_id=${t.category_id}`,class:"btn btn-upgrade"},{default:d(()=>{var y;return[t.member_categories&&t.member_categories.length===1?(i(),n("span",Y," Upgrade "+v(((y=t.member_categories[0])==null?void 0:y.name)||""),1)):(i(),n("span",Z,"Upgrade")),s[8]||(s[8]=e("i",{class:"bx bx-trending-up"},null,-1))]}),_:2},1032,["href"]))],64)):h("",!0)])])])]))),128)),o.exams.data.length?h("",!0):(i(),n("div",ee,[...s[11]||(s[11]=[p('<div class="empty-card text-center"><div class="empty-icon"><i class="bx bx-book-open"></i></div><h6 class="mb-1">Latihan Tidak Tersedia</h6><p class="text-muted mb-0">Coba kata kunci lain atau cek kembali nanti.</p></div>',1)])]))])])]),o.exams.data.length?(i(),n("div",se,[e("div",te,[e("div",ae,[m(c,{links:o.exams.links},null,8,["links"])])])])):h("",!0)])])],64)}const de=N($,[["render",oe]]);export{de as default};
