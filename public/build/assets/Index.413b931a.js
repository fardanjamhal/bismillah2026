import{L}from"./Layout.dad8fa9c.js";import{P as A}from"./Pagination.55aa9d34.js";import{L as B,H as V,p as U,r as b,c as n,a as l,w as d,b as t,e as f,v as N,q as x,F as y,g as w,d as C,f as v,h as T,i as j,j as k,o as r,t as i,n as P,k as c}from"./app.ce8f6c38.js";import{S as D}from"./sweetalert2.all.59f1eca5.js";import{a as G}from"./index.c882fad6.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";const I={layout:L,components:{Link:B,Head:V,Pagination:A},props:{examGroups:Object,categories:Object},setup(){const s=U({search:b(new URL(document.location).searchParams.get("search")),category_id:b(new URL(document.location).searchParams.get("category_id")||""),lesson_category_id:b(new URL(document.location).searchParams.get("lesson_category_id")||""),order:b(new URL(document.location).searchParams.get("order")||""),lessonCategories:[]}),a=(h="",g="")=>{s.lesson_category_id=h!=s.category_id?"":s.lesson_category_id,s.lesson_id=g!=s.lesson_category_id?"":s.lesson_id,G.get(`/admin/categories/${s.category_id}/lesson-categories`).then(m=>{s.lessonCategories=m.data}).catch(m=>console.error(m))},_=()=>{T.Inertia.get("/admin/exam-groups",{search:s.search,category_id:s.category_id,lesson_category_id:s.lesson_category_id,order:s.order})},o=h=>{D.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(g=>{g.isConfirmed&&(T.Inertia.delete(`/admin/exam-groups/${h}`),D.fire({title:"Deleted!",text:"Tryout Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})};return s.category_id&&a(s.category_id,s.lesson_category_id),{form:s,handleSearch:_,destroy:o,lessonCategoryData:a}}},M={class:"page-wrapper"},F={class:"page-content"},J=j('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Tryout</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Tryout</li></ol></nav></div></div>',1),R={class:"card border-top border-0 border-3 border-primary"},z=t("div",{class:"card-header"},[t("div",{class:"d-flex align-items-center"},[t("div",null,[t("h6",{class:"mb-0"},"Filter Data")])])],-1),E={class:"card-body"},K={class:"row"},q={class:"col-md-6 col-lg-3 mb-1"},O=t("label",{for:"search"},"Judul Tryout",-1),W={class:"col-md-6 col-lg-3 mb-1"},Q=t("label",{for:"category"},"Kategori Peminatan",-1),X=t("option",{value:""},"[ Pilih]",-1),Y=["value"],Z={class:"col-md-6 col-lg-2 mb-1"},$=t("label",{for:"lesson_category_id"},"Kategori Mata Pelajaran",-1),tt=t("option",{value:""},"[ Pilih ]",-1),et=["value"],st={class:"col-lg-2 col-md-6 mb-1"},ot=t("label",{for:"category"},"Waktu",-1),at=t("option",{value:""},"[ Pilih]",-1),nt=t("option",{value:"DESC"},"Terbaru",-1),rt=t("option",{value:"ASC"},"Terlama",-1),it=[at,nt,rt],lt={class:"col-md-6 col-lg-2 mb-1"},dt=t("label",{for:"end_date"},"Action",-1),ct=t("br",null,null,-1),_t={class:"input-group"},ut=t("i",{class:"bx bx-filter"},null,-1),mt=c("Filter "),ht=[ut,mt],gt=t("i",{class:"bx bx-refresh"},null,-1),pt=c("reset "),bt={class:"card border-top border-0 border-3 border-primary"},ft={class:"card-header"},yt={class:"d-flex align-items-center"},vt=t("div",null,[t("h6",{class:"mb-0"},"Tryout")],-1),xt={class:"ms-auto"},wt=t("i",{class:"bx bxs-plus-square"},null,-1),kt=c("Tambah Tryout "),Ct={class:"card-body"},Tt={class:"table-responsive"},Pt={class:"table mb-0",style:{"font-size":"10pt"}},Dt=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"No"),t("th",null,"Peminatan"),t("th",null,"Kategori Mata Pelajaran"),t("th",null,"Judul Tryout"),t("th",null,"Jumlah Tes"),t("th",null,"Peserta"),t("th",null,"Status"),t("th",null,"Actions")])],-1),St={class:"badge bg-primary"},Lt={class:"badge bg-success"},At={key:0,class:"badge bg-danger"},Bt={key:1,class:"badge bg-primary"},Vt={class:"btn-group"},Ut=t("span",{class:"visually-hidden"},"Toggle Dropdown",-1),Nt=[Ut],jt={class:"dropdown-menu"},Gt={key:0},Ht=c("Active"),It={key:1},Mt=c("Inactive"),Ft={key:2},Jt=c("In Progress"),Rt={class:"dropdown"},zt=t("button",{class:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true"},"Action",-1),Et={class:"dropdown-menu","data-popper-placement":"top-start","data-popper-reference-hidden":"","data-popper-escaped":""},Kt=c("Nilai Peserta"),qt=c("Detail"),Ot=c("Edit"),Wt=["onClick"],Qt={key:0,align:"center",colspan:"9"};function Xt(s,a,_,o,h,g){const m=k("Head"),u=k("Link"),S=k("Pagination");return r(),n(y,null,[l(m,null,{default:d(()=>{var e;return[t("title",null,i((e=s.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Data Tryout",1)]}),_:1}),t("div",M,[t("div",F,[J,t("div",R,[z,t("div",E,[t("form",null,[t("div",K,[t("div",q,[O,f(t("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>o.form.search=e),class:"form-control form-control-sm",id:"search",placeholder:"Cari Berdasarkan Judul Tryout...."},null,512),[[N,o.form.search]])]),t("div",W,[Q,f(t("select",{onChange:a[1]||(a[1]=(...e)=>o.lessonCategoryData&&o.lessonCategoryData(...e)),"onUpdate:modelValue":a[2]||(a[2]=e=>o.form.category_id=e),class:"form-control form-control-sm"},[X,(r(!0),n(y,null,w(_.categories,(e,p)=>(r(),n("option",{key:p,value:e.id},i(e.name),9,Y))),128))],544),[[x,o.form.category_id]])]),t("div",Z,[$,f(t("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>o.form.lesson_category_id=e),class:"form-control form-control-sm"},[tt,(r(!0),n(y,null,w(o.form.lessonCategories,e=>(r(),n("option",{value:e.id},i(e.name),9,et))),256))],512),[[x,o.form.lesson_category_id]])]),t("div",st,[ot,f(t("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>o.form.order=e),class:"form-select form-select-sm"},it,512),[[x,o.form.order]])]),t("div",lt,[dt,ct,t("div",_t,[t("button",{onClick:a[5]||(a[5]=C((...e)=>o.handleSearch&&o.handleSearch(...e),["prevent"])),class:"btn btn-primary btn-sm"},ht),l(u,{href:"/admin/exam-groups",class:"btn btn-danger btn-sm"},{default:d(()=>[gt,pt]),_:1})])])])])])]),t("div",bt,[t("div",ft,[t("div",yt,[vt,t("div",xt,[l(u,{href:"/admin/exam-groups/create",class:"btn btn-primary btn-sm me-2"},{default:d(()=>[wt,kt]),_:1})])])]),t("div",Ct,[t("div",Tt,[t("table",Pt,[Dt,t("tbody",null,[(r(!0),n(y,null,w(_.examGroups.data,(e,p)=>(r(),n("tr",{key:p},[t("td",null,i(++p+(_.examGroups.current_page-1)*_.examGroups.per_page),1),t("td",null,[t("span",St,i(e.category.name),1)]),t("td",null,[t("span",Lt,i(e.lesson_category.name),1)]),t("td",null,i(e.title),1),t("td",null,i(e.exam_count),1),t("td",null,[e.exam_group_user_count==0?(r(),n("span",At,i(e.exam_group_user_count),1)):(r(),n("span",Bt,i(e.exam_group_user_count),1))]),t("td",null,[t("div",Vt,[t("button",{type:"button",class:P({btn:!0,"btn-sm":!0,"btn-warning":e.exam_status==="inprogress","btn-danger":e.exam_status==="inactive","btn-primary":e.exam_status==="active"})},i(s.capitalizeWords(e.exam_status)),3),t("button",{type:"button",class:P([{btn:!0,"btn-sm":!0,"btn-warning":e.exam_status==="inprogress","btn-danger":e.exam_status==="inactive","btn-primary":e.exam_status==="active","split-bg-warning":e.exam_status==="inprogress","split-bg-danger":e.exam_status==="inactive","split-bg-primary":e.exam_status==="active"},"dropdown-toggle dropdown-toggle-split"]),"data-bs-toggle":"dropdown","aria-expanded":"false"},Nt,2),t("ul",jt,[e.exam_status!=="active"?(r(),n("li",Gt,[l(u,{class:"dropdown-item",href:`/admin/exam-groups/${e.id}/change-exam-status?exam_status=active`},{default:d(()=>[Ht]),_:2},1032,["href"])])):v("",!0),e.exam_status!=="inactive"?(r(),n("li",It,[l(u,{class:"dropdown-item",href:`/admin/exam-groups/${e.id}/change-exam-status?exam_status=inactive`},{default:d(()=>[Mt]),_:2},1032,["href"])])):v("",!0),e.exam_status!=="inprogress"?(r(),n("li",Ft,[l(u,{class:"dropdown-item",href:`/admin/exam-groups/${e.id}/change-exam-status?exam_status=inprogress`},{default:d(()=>[Jt]),_:2},1032,["href"])])):v("",!0)])])]),t("td",null,[t("div",Rt,[zt,t("ul",Et,[t("li",null,[l(u,{class:"dropdown-item",href:`/admin/exam-groups/${e.id}/students`},{default:d(()=>[Kt]),_:2},1032,["href"])]),t("li",null,[l(u,{class:"dropdown-item",href:`/admin/exam-groups/${e.id}/exam-group-details`},{default:d(()=>[qt]),_:2},1032,["href"])]),t("li",null,[l(u,{class:"dropdown-item",href:`/admin/exam-groups/${e.id}/edit`},{default:d(()=>[Ot]),_:2},1032,["href"])]),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:C(Yt=>o.destroy(e.id),["prevent"])},"Hapus",8,Wt)])])])])]))),128)),t("tr",null,[_.examGroups.data.length?v("",!0):(r(),n("td",Qt,"Data Tidak Tersedia"))])])])]),l(S,{links:_.examGroups.links,align:"end"},null,8,["links"])])])])])],64)}const ae=H(I,[["render",Xt]]);export{ae as default};
