import{L as B}from"./Layout.48c4e186.js";import{P as C}from"./Pagination.2403c559.js";import{L as S,H as T,r as L,c as n,a,w as o,b as t,d as A,e as _,f as P,v as H,F as f,h as N,g as m,i as v,j as b,o as i,t as r,k as c,n as y}from"./app.c75ce23b.js";import{S as k}from"./sweetalert2.esm.all.089855d2.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const U={layout:B,components:{Link:S,Head:T,Pagination:C},props:{news:Object},setup(){const u=L(new URL(document.location).searchParams.get("search"));return{search:u,handleSearch:()=>{v.Inertia.get("/admin/news",{search:u.value})},destroy:l=>{k.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(h=>{h.isConfirmed&&(v.Inertia.delete(`/admin/news/${l}`),k.fire({title:"Deleted!",text:"Berita Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}}},j={class:"page-wrapper"},z={class:"page-content"},I={class:"card border-top border-0 border-3 border-primary"},E={class:"card-body"},F={class:"d-lg-flex align-items-center mb-4 gap-3"},J={class:"position-relative"},M={class:"ms-auto"},q={class:"table mb-0",style:{"font-size":"10pt"}},O={key:0},R=["src"],W={key:1},$={class:"btn-group"},G={class:"dropdown-menu"},K={key:0},Q={key:1},X={class:"dropdown"},Y={class:"dropdown-menu","data-popper-placement":"top-start","data-popper-reference-hidden":"","data-popper-escaped":""},Z=["onClick"],D={key:0,align:"center",colspan:"7"};function tt(u,s,d,l,h,et){const w=b("Head"),p=b("Link"),x=b("Pagination");return i(),n(f,null,[a(w,null,{default:o(()=>{var e;return[t("title",null,r((e=u.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+" - Data Berita",1)]}),_:1}),t("div",j,[t("div",z,[s[11]||(s[11]=A('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Berita</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Data Berita</li></ol></nav></div></div>',1)),t("div",I,[t("div",E,[t("div",F,[t("form",{onSubmit:s[1]||(s[1]=_((...e)=>l.handleSearch&&l.handleSearch(...e),["prevent"]))},[t("div",J,[P(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>l.search=e),class:"form-control ps-5 radius-20",placeholder:"Cari Berdasarkan Judul....",size:"40",maxlength:"100"},null,512),[[H,l.search]]),s[2]||(s[2]=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1))])],32),t("div",M,[a(p,{href:"/admin/news/create",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:o(()=>[...s[3]||(s[3]=[t("i",{class:"bx bxs-plus-square"},null,-1),c(" Tambah Berita",-1)])]),_:1})])]),t("table",q,[s[10]||(s[10]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"No"),t("th",null,"Thumbnail"),t("th",null,"Judul"),t("th",{width:"200px"},"Dibuat"),t("th",null,"Created at"),t("th",null,"Status"),t("th",null,"Actions")])],-1)),t("tbody",null,[(i(!0),n(f,null,N(d.news.data,(e,g)=>(i(),n("tr",{key:g},[t("td",null,r(++g+(d.news.current_page-1)*d.news.per_page),1),t("td",null,[e.thumbnail?(i(),n("div",O,[t("img",{src:"/storage/upload_files/news/"+e.thumbnail,style:{width:"90px"}},null,8,R)])):(i(),n("div",W," - "))]),t("td",null,r(e.title),1),t("td",null,r(e.user?e.user.name:"-"),1),t("td",null,r(u.formatDateWithTime(e.created_at)),1),t("td",null,[t("div",$,[t("button",{type:"button",class:y({btn:!0,"btn-sm":!0,"btn-danger":e.is_published==0,"btn-primary":e.is_published==1})},r(e.is_published==1?"Published":"Unpublished"),3),t("button",{type:"button",class:y([{btn:!0,"btn-sm":!0,"btn-danger":e.is_published==0,"btn-primary":e.is_published==1,"split-bg-danger":e.is_published==0,"split-bg-primary":e.is_published==1},"dropdown-toggle dropdown-toggle-split"]),"data-bs-toggle":"dropdown","aria-expanded":"false"},[...s[4]||(s[4]=[t("span",{class:"visually-hidden"},"Toggle Dropdown",-1)])],2),t("ul",G,[e.is_published!=1?(i(),n("li",K,[a(p,{class:"dropdown-item",href:`/admin/news/${e.id}/change-status?is_published=1`},{default:o(()=>[...s[5]||(s[5]=[c("Published",-1)])]),_:1},8,["href"])])):m("",!0),e.is_published!=0?(i(),n("li",Q,[a(p,{class:"dropdown-item",href:`/admin/news/${e.id}/change-status?is_published=0`},{default:o(()=>[...s[6]||(s[6]=[c("Unpublished",-1)])]),_:1},8,["href"])])):m("",!0)])])]),t("td",null,[t("div",X,[s[9]||(s[9]=t("button",{class:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"true"},"Action",-1)),t("ul",Y,[t("li",null,[a(p,{class:"dropdown-item",href:`/admin/news/${e.id}`},{default:o(()=>[...s[7]||(s[7]=[c("Detail",-1)])]),_:1},8,["href"])]),t("li",null,[a(p,{class:"dropdown-item",href:`/admin/news/${e.id}/edit`},{default:o(()=>[...s[8]||(s[8]=[c("Edit",-1)])]),_:1},8,["href"])]),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:_(st=>l.destroy(e.id),["prevent"])},"Hapus",8,Z)])])])])]))),128)),t("tr",null,[d.news.data.length?m("",!0):(i(),n("td",D,"Data Tidak Tersedia"))])])]),a(x,{links:d.news.links,align:"end"},null,8,["links"])])])])])],64)}const ot=V(U,[["render",tt]]);export{ot as default};
