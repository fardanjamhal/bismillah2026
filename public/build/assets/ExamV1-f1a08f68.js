import{L as M}from"./Layout-80160f1d.js";import{P}from"./Pagination-eba5b0b6.js";import{L as S,H as j,j as v,a as f,o as t,c as s,b as d,w as u,d as o,e as C,h as l,F as y,i as h,t as c,k as _,n as K}from"./app-50a2f634.js";import{S as k}from"./sweetalert2.esm.all-61741a63.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";const E={layout:M,components:{Link:S,Head:j,Pagination:P},props:{examGroups:Object,lessonCategory:Object,userMemberCategories:Object,session:Object},setup(n){return n.session&&n.session.success&&k.fire({title:"Sukses",text:n.session.success,icon:"success"}),n.session&&n.session.error&&k.fire({title:"Peringatan",text:n.session.error,icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Top Up Saldo",cancelButtonText:"Tidak"}).then(a=>{a.isConfirmed&&v.Inertia.get("/user/account-balances")}),{buyExam:a=>{k.fire({title:"yakin akan membeli Tryout ?",text:"Pastikan Saldo Anda Cukup Untuk Transaksi",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Beli Tryout",cancelButtonText:"Tidak"}).then(p=>{p.isConfirmed&&v.Inertia.get(`/user/account-balances/buy-exam/${a}?type=examGroup`)})},checkMemberCategories:a=>{if(a){for(const p of n.userMemberCategories)if(p.member_categories.some(m=>a.includes(m)))return!0;return!1}else return!0}}},methods:{formatPrice(n){return(n/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},G={class:"page-wrapper"},L={class:"page-content"},N={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},U={class:"ms-auto"},V={key:0},A={class:"row"},H={class:"card border-bottom border-3 border-0"},I={key:0},O={key:0,class:"badge bg-danger",style:{position:"absolute","font-size":"14px",margin:"4px"}},x={class:"p-2"},D=["src"],F={class:"card-header"},R={class:"card-title"},z={key:1,class:"card-body"},Y={key:0,style:{"min-height":"50px"}},q={key:0},J={key:0},Q={class:"card-price text-center"},W={key:1},X={class:"text-dark text-center"},Z={class:"badge bg-danger mx-1"},ee={key:1},te={key:1,class:"text-center"},se={key:0},re={class:"badge bg-success mb-0 ms-1"},oe={key:1},ne={class:"card-footer"},ie={key:0},ae={key:0},le={key:0},de={key:0},ce={key:1},ue=["onClick"],_e={key:1},be={key:0},ge={key:1},me={key:0},ye={key:1},pe={key:2},he={key:0},fe={key:1},ke={key:2},ve=["onClick"],Ce={key:3},we={key:0},Te={key:1},Be={key:1},Me={key:1},Pe={key:1,class:"row"},Se={class:"col"};function je(n,r,i,a,p,m){const w=f("Head"),b=f("Link"),T=f("Pagination");return t(),s(y,null,[d(w,null,{default:u(()=>[o("title",null,c(n.$page.props.setting.app_name??"Atur Setting Terlebih Dahulu")+" - Tryout",1)]),_:1}),o("div",G,[o("div",L,[o("div",N,[r[1]||(r[1]=C('<div class="breadcrumb-title pe-3">Tryout</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Soal Tryout</li></ol></nav></div>',2)),o("div",U,[d(b,{href:`/user/exam-groups/${i.lessonCategory.category_id}/lesson-categories`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:u(()=>[...r[0]||(r[0]=[_("Kembali",-1)])]),_:1},8,["href"])])]),r[16]||(r[16]=o("hr",null,null,-1)),i.examGroups.data.length?l("",!0):(t(),s("div",V,[...r[2]||(r[2]=[C('<div class="row row-cols-12 row-cols-md-12 row-cols-lg-12 row-cols-xl-12"><div class="col"><div class="card border-bottom border-3 border-0"><div class="card-body"><h5 class="card-title text-center">Soal Belum Tersedia.</h5></div></div></div></div>',1)])])),o("div",A,[(t(!0),s(y,null,h(i.examGroups.data,(e,B)=>(t(),s("div",{class:"col-xs-12 col-sm-6 col-md-6 col-lg-3",key:B},[o("div",H,[n.$page.props.auth.user.member_type==2?(t(),s("div",I,[(e.transaction.length>0||a.checkMemberCategories(e.member_categories)==!0)&&e.member_categories?(t(),s("span",O,"Enrolled")):l("",!0)])):l("",!0),o("div",x,[o("img",{src:"/storage/upload_files/lesson_categories/"+e.lesson_category.thumbnail,class:"card-img"},null,8,D)]),o("div",F,[o("h6",R,c(e.title),1),r[3]||(r[3]=o("p",{class:"card-text"},"Kerjakan Tryout Sesuai Perintah Yang Ada Dalam Informasi.",-1))]),n.$page.props.auth.user.member_type==2?(t(),s("div",z,[n.$page.props.setting.purchase_type==1||n.$page.props.setting.purchase_type==3?(t(),s("div",Y,[e.price_type==2?(t(),s("div",q,[e.price_before_discount==e.price_after_discount?(t(),s("div",J,[o("h6",Q,"Rp."+c(m.formatPrice(e.price_after_discount)),1)])):(t(),s("div",W,[o("h6",X,[o("sup",null,[o("s",null,"Rp."+c(m.formatPrice(e.price_before_discount)),1),o("span",Z,c(m.formatPrice((e.price_before_discount-e.price_after_discount)/e.price_before_discount*100))+"% ",1)]),r[4]||(r[4]=o("br",null,null,-1)),_("Rp."+c(m.formatPrice(e.price_after_discount)),1)])]))])):(t(),s("div",ee,[...r[5]||(r[5]=[o("h6",{class:"text-dark text-center"},"Gratis",-1)])]))])):l("",!0),n.$page.props.setting.purchase_type==2||n.$page.props.setting.purchase_type==3?(t(),s("div",te,[e.member_categories?(t(),s("div",se,[(t(!0),s(y,null,h(e.member_categories,g=>(t(),s("span",re,c(g),1))),256))])):(t(),s("div",oe,[...r[6]||(r[6]=[o("span",{class:"badge bg-success mb-0"},"Seluruh Member & Non Member",-1)])]))])):l("",!0)])):l("",!0),o("div",ne,[e.exam_status=="active"?(t(),s("div",ie,[n.$page.props.auth.user.member_type==2&e.price_type==2?(t(),s("div",ae,[n.$page.props.setting.purchase_type==1?(t(),s("div",le,[e.transaction.length>0?(t(),s("div",de,[d(b,{href:`/user/exam-groups/${i.lessonCategory.category_id}/lesson-categories/${i.lessonCategory.id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:u(()=>[...r[7]||(r[7]=[_("Kerjakan Tryout",-1)])]),_:1},8,["href"])])):(t(),s("div",ce,[o("button",{class:"btn btn-outline-primary btn-sm w-100",onClick:g=>a.buyExam(e.id)},"Beli Tryout",8,ue)]))])):l("",!0),n.$page.props.setting.purchase_type==2?(t(),s("div",_e,[a.checkMemberCategories(e.member_categories)==!0?(t(),s("div",be,[d(b,{href:`/user/exam-groups/${i.lessonCategory.category_id}/lesson-categories/${i.lessonCategory.id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:u(()=>[...r[8]||(r[8]=[_("Kerjakan Tryout",-1)])]),_:1},8,["href"])])):(t(),s("div",ge,[d(b,{href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-outline-primary btn-sm w-100"},{default:u(()=>[e.member_categories.length==1?(t(),s("div",me,[r[9]||(r[9]=_(" Upgrade Ke ",-1)),(t(!0),s(y,null,h(e.member_categories,g=>(t(),s("span",null,c(g),1))),256))])):(t(),s("div",ye," Upgrade Member "))]),_:2},1032,["href"])]))])):l("",!0),n.$page.props.setting.purchase_type==3?(t(),s("div",pe,[e.transaction.length>0&&a.checkMemberCategories(e.member_categories)==!0?(t(),s("div",he,[d(b,{href:`/user/exam-groups/${i.lessonCategory.category_id}/lesson-categories/${i.lessonCategory.id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100 mb-2"},{default:u(()=>[...r[10]||(r[10]=[_("Kerjakan Tryout",-1)])]),_:1},8,["href"])])):l("",!0),(e.transaction.length==0||a.checkMemberCategories(e.member_categories)==!1)&&(e.transaction.length>0||a.checkMemberCategories(e.member_categories)==!0)?(t(),s("div",fe,[d(b,{href:`/user/exam-groups/${i.lessonCategory.category_id}/lesson-categories/${i.lessonCategory.id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100 mb-2"},{default:u(()=>[...r[11]||(r[11]=[_("Kerjakan Tryout",-1)])]),_:1},8,["href"])])):l("",!0),e.transaction.length==0?(t(),s("div",ke,[o("button",{class:"btn btn-outline-primary btn-sm w-100 mb-2",onClick:g=>a.buyExam(e.id)},"Beli Tryout",8,ve)])):l("",!0),a.checkMemberCategories(e.member_categories)==!1?(t(),s("div",Ce,[d(b,{href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-outline-primary btn-sm w-100 mb-2"},{default:u(()=>[e.member_categories.length==1?(t(),s("div",we,[r[12]||(r[12]=_(" Upgrade Ke ",-1)),(t(!0),s(y,null,h(e.member_categories,g=>(t(),s("span",null,c(g),1))),256))])):(t(),s("div",Te," Upgrade Member "))]),_:2},1032,["href"])])):l("",!0)])):l("",!0)])):(t(),s("div",Be,[d(b,{href:`/user/exam-groups/${i.lessonCategory.category_id}/lesson-categories/${i.lessonCategory.id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:u(()=>[...r[13]||(r[13]=[_("Kerjakan Tryout",-1)])]),_:1},8,["href"])]))])):(t(),s("div",Me,[o("button",{class:K(["btn btn-sm w-100",{"btn-danger":e.exam_status=="inactive","btn-warning":e.exam_status==="inprogress"}])},c(e.exam_status==="inactive"?"Non Active":"In Progress"),3)]))])])]))),128))]),i.examGroups.data.length?(t(),s("div",Pe,[o("div",Se,[d(T,{links:i.examGroups.links,align:"center"},null,8,["links"]),r[14]||(r[14]=o("br",null,null,-1)),r[15]||(r[15]=o("br",null,null,-1))])])):l("",!0)])])],64)}const Ne=$(E,[["render",je]]);export{Ne as default};
